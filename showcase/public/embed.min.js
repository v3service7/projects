var head=document.getElementsByTagName("head")[0],x=document.createElement("IMG");function insertAfter(e,t){e.parentNode.insertBefore(t,e.nextSibling)}x.setAttribute("src","https://measuremight.com:3002/assets/loader.svg"),x.setAttribute("alt","loading"),x.setAttribute("id","loader"),insertAfter(document.getElementById("showcaseSocialBlock"),x),document.getElementById("loader").style.visibility="hidden",document.getElementById("loader").style.display="block",document.getElementById("loader").style.marginRight="auto",document.getElementById("loader").style.marginLeft="auto";var jqueryObj=document.createElement("script");jqueryObj.type="text/javascript",jqueryObj.src="https://code.jquery.com/jquery-3.0.0.min.js",head.appendChild(jqueryObj);var masonryObj=document.createElement("script");masonryObj.type="text/javascript",masonryObj.src="https://unpkg.com/masonry-layout@4.2.1/dist/masonry.pkgd.min.js",head.appendChild(masonryObj);var twiterScript=document.createElement("script");twiterScript.type="text/javascript",twiterScript.src="https://platform.twitter.com/widgets.js",head.appendChild(twiterScript);var instaScript=document.createElement("script");instaScript.type="text/javascript",instaScript.src="https://www.instagram.com/embed.js",head.appendChild(instaScript);var showcaseID=document.getElementById("showcaseSocialBlock").getAttribute("data-showcaseID"),page=1,end=20;function convertToGridItem(e){var t="<div class='grid-item'>";return t+="   "+e,t+="</div>"}loadData(showcaseID),window.setInterval(manageUI,1e3);var flag=0;function loadData(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState==XMLHttpRequest.DONE)if(200==t.status){var e=JSON.parse(t.response);if(html="",e.message.length>0){for(var a=0;a<e.message.length;a++)document.getElementById("showcaseSocialBlock").innerHTML+=convertToGridItem(e.message[a].body);twttr.widgets.load(),instgrm.Embeds.process(),manageUI()}}else 400==t.status?alert("There was an error 400"):alert("something else other than 200 was returned")};var a="https://measuremight.com:3002/bookmark/category/open/"+e;t.open("GET",a,!0),t.send()}function loadNextData(e){var t=new XMLHttpRequest;if(t.onreadystatechange=function(){if(t.readyState==XMLHttpRequest.DONE)if(200==t.status){var e=JSON.parse(t.response);if(html="",0==e.message.length&&(flag=1),e.message.length>0){for(var a=0;a<e.message.length;a++)$("#showcaseSocialBlock").append(convertToGridItem(e.message[a].body)),e.message.length-1==a&&(console.log("last"),document.getElementById("loader").style.visibility="hidden",twttr.widgets.load(),instgrm.Embeds.process());manageUI()}else document.getElementById("loader").style.visibility="hidden"}else 400==t.status?alert("There was an error 400"):alert("something else other than 200 was returned")},0==flag){var a="https://measuremight.com:3002/bookmark/category/open/"+e+"?start="+20*page+"&end="+end;console.log(a),t.open("GET",a,!0),t.send(),page++}}function manageUI(){var e=4;e=document.getElementById("showcaseSocialBlock").clientWidth>1600?4:document.getElementById("showcaseSocialBlock").clientWidth>1e3?3:document.getElementById("showcaseSocialBlock").clientWidth>600?2:1;var t=(document.getElementById("showcaseSocialBlock").clientWidth-document.getElementById("showcaseSocialBlock").clientWidth/50)/e;curColWidth=t;for(var a=document.querySelectorAll("iframe"),o=0;o<a.length;o++)a[o].style.width=t;var s=document.querySelectorAll("twitterwidget");for(o=0;o<s.length;o++)s[o].style.width=t,s[o].style.cssText="margin-top: 0px !important;";var n=document.querySelectorAll(".grid-item");for(o=0;o<n.length;o++)n[o].style.cssText="width : "+(t+t/50-9)+"px !important;margin :0 5px 5px 0 !important";new Masonry("#showcaseSocialBlock",{itemSelector:".grid-item"})}setTimeout(function(){var e=document.body,t=document.documentElement;Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight),window.innerHeight,document.documentElement.scrollTop;$(window).scroll(function(){$(window).scrollTop()==$(document).height()-$(window).height()&&1!=flag&&(document.getElementById("loader").style.visibility="visible",loadNextData(showcaseID))})},1500);