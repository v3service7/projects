webpackJsonp([3],{"+BWq":function(e,t,n){"use strict";function r(e,t,n){return function(r){return r.lift(new s(e,t,n,r))}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("T14+"),a=n("TpsG");t.first=r;var s=function(){function e(e,t,n,r){this.predicate=e,this.resultSelector=t,this.defaultValue=n,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),u=function(e){function t(t,n,r,o,i){e.call(this,t),this.predicate=n,this.resultSelector=r,this.defaultValue=o,this.source=i,this.index=0,this.hasCompleted=!1,this._emitted=!1}return o(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var n;try{n=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}n&&this._emit(e,t)},t.prototype._emit=function(e,t){if(this.resultSelector)return void this._tryResultSelector(e,t);this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var n;try{n=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(n)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new a.EmptyError):(e.next(this.defaultValue),e.complete())},t}(i.Subscriber)},"+FJ1":function(e,t,n){"use strict";function r(e,t){return o.mergeMap(e,t,1)}var o=n("mjx3");t.concatMap=r},"+zVg":function(e,t,n){"use strict";var r=n("wZOE");t.of=r.ArrayObservable.of},"/oeL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(){if(!Lo){var e=Mo.Symbol;if(e&&e.iterator)Lo=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Lo=r)}}return Lo}function o(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function i(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function a(e){if("string"==typeof e)return e;if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function s(e){return"function"==typeof e&&e.hasOwnProperty("annotation")&&(e=e.annotation),e}function u(e,t){if(e===Object||e===String||e===Function||e===Number||e===Array)throw new Error("Can not use native "+a(e)+" as constructor");if("function"==typeof e)return e;if(Array.isArray(e)){var n=e,r=n.length-1,o=e[r];if("function"!=typeof o)throw new Error("Last position of Class method array must be Function in key "+t+" was '"+a(o)+"'");if(r!=o.length)throw new Error("Number of annotations ("+r+") does not match number of arguments ("+o.length+") in the function: "+a(o));for(var i=[],u=0,c=n.length-1;u<c;u++){var l=[];i.push(l);var f=n[u];if(Array.isArray(f))for(var d=0;d<f.length;d++)l.push(s(f[d]));else"function"==typeof f?l.push(s(f)):l.push(f)}return Fo.defineMetadata("parameters",i,o),o}throw new Error("Only Function or Array is supported in Class definition for key '"+t+"' is '"+a(e)+"'")}function c(e){var t=u(e.hasOwnProperty("constructor")?e.constructor:void 0,"constructor"),n=t.prototype;if(e.hasOwnProperty("extends")){if("function"!=typeof e.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+a(e.extends));t.prototype=n=Object.create(e.extends.prototype)}for(var r in e)"extends"!==r&&"prototype"!==r&&e.hasOwnProperty(r)&&(n[r]=u(e[r],r));this&&this.annotations instanceof Array&&Fo.defineMetadata("annotations",this.annotations,t);var o=t.name;return o&&"constructor"!==o||(t.overriddenName="class"+Bo++),t}function l(e,t,n,r){function o(e){if(!Fo||!Fo.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof o)return i.call(this,e),this;var t=new o(e),n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(t);var a=function(e){var n=Fo.getOwnMetadata("annotations",e)||[];return n.push(t),Fo.defineMetadata("annotations",n,e),e};return a.annotations=n,a.Class=c,r&&r(a),a}var i=f(t);return n&&(o.prototype=Object.create(n.prototype)),o.prototype.toString=function(){return"@"+e},o.annotationCls=o,o}function f(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var r=e.apply(void 0,t);for(var o in r)this[o]=r[o]}}}function d(e,t,n){function r(){function e(e,t,n){for(var r=Fo.getOwnMetadata("parameters",e)||[];r.length<=n;)r.push(null);return r[n]=r[n]||[],r[n].push(i),Fo.defineMetadata("parameters",r,e),e}for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof r)return o.apply(this,t),this;var i=new(r.bind.apply(r,[void 0].concat(t)));return e.annotation=i,e}var o=f(t);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+e},r.annotationCls=r,r}function p(e,t,n){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this instanceof r)return o.apply(this,e),this;var n=new(r.bind.apply(r,[void 0].concat(e)));return function(e,t){var r=Fo.getOwnMetadata("propMetadata",e.constructor)||{};r[t]=r.hasOwnProperty(t)&&r[t]||[],r[t].unshift(n),Fo.defineMetadata("propMetadata",r,e.constructor)}}var o=f(t);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+e},r.annotationCls=r,r}function h(e){return null==e||e===Go.Default}function m(e){return e.__forward_ref__=m,e.toString=function(){return a(this())},e}function g(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===m?e():e}function v(e){return e[bi]}function y(e){return e[wi]}function b(e){return e[Ci]||w}function w(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.error.apply(e,t)}function C(e,t){var n=e+" caused by: "+(t instanceof Error?t.message:t),r=Error(n);return r[wi]=t,r}function _(e){for(var t=[],n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}function x(e){if(e.length>1){return" ("+_(e.slice().reverse()).map(function(e){return a(e.token)}).join(" -> ")+")"}return""}function E(e,t,n,r){var o=[t],i=n(o),a=r?C(i,r):Error(i);return a.addKey=S,a.keys=o,a.injectors=[e],a.constructResolvingMessage=n,a[wi]=r,a}function S(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function O(e,t){return E(e,t,function(e){return"No provider for "+a(e[0].token)+"!"+x(e)})}function T(e,t){return E(e,t,function(e){return"Cannot instantiate cyclic dependency!"+x(e)})}function k(e,t,n,r){return E(e,r,function(e){var n=a(e[0].token);return t.message+": Error during instantiation of "+n+"!"+x(e)+"."},t)}function R(e){return Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e)}function P(e,t){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];i&&0!=i.length?n.push(i.map(a).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+a(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+a(e)+"' is decorated with Injectable.")}function N(e){return Error("Index "+e+" is out-of-bounds.")}function A(e,t){return Error("Cannot mix multi providers and regular providers, got: "+e+" "+t)}function I(e){return"function"==typeof e}function D(e){return e?e.map(function(e){var t=e.type,n=t.annotationCls,r=e.args?e.args:[];return new(n.bind.apply(n,[void 0].concat(r)))}):[]}function M(e){var t=Object.getPrototypeOf(e.prototype);return(t?t.constructor:null)||Object}function L(e){var t,n;if(e.useClass){var r=g(e.useClass);t=Pi.factory(r),n=U(r)}else e.useExisting?(t=function(e){return e},n=[Ni.fromKey(xi.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=H(e.useFactory,e.deps)):(t=function(){return e.useValue},n=Ai);return new Di(t,n)}function B(e){return new Ii(xi.get(e.provide),[L(e)],e.multi||!1)}function F(e){var t=V(e,[]),n=t.map(B),r=j(n,new Map);return Array.from(r.values())}function j(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=t.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw A(o,r);if(r.multiProvider)for(var i=0;i<r.resolvedFactories.length;i++)o.resolvedFactories.push(r.resolvedFactories[i]);else t.set(r.key.id,r)}else{var a=void 0;a=r.multiProvider?new Ii(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,a)}}return t}function V(e,t){return e.forEach(function(e){if(e instanceof Oi)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!(e instanceof Array))throw R(e);V(e,t)}}),t}function H(e,t){if(t){var n=t.map(function(e){return[e]});return t.map(function(t){return z(e,t,n)})}return U(e)}function U(e){var t=Pi.parameters(e);if(!t)return[];if(t.some(function(e){return null==e}))throw P(e,t);return t.map(function(n){return z(e,n,t)})}function z(e,t,n){var r=null,o=!1;if(!Array.isArray(t))return t instanceof ui?q(t.token,o,null):q(t,o,null);for(var i=null,a=0;a<t.length;++a){var s=t[a];s instanceof Oi?r=s:s instanceof ui?r=s.token:s instanceof ci?o=!0:s instanceof fi||s instanceof di?i=s:s instanceof No&&(r=s)}if(null!=(r=g(r)))return q(r,o,i);throw P(e,n)}function q(e,t,n){return new Ni(xi.get(e),t,n)}function W(e,t){for(var n=new Array(e._providers.length),r=0;r<e._providers.length;++r)n[r]=t(e.getProviderAtIndex(r));return n}function G(e){return!!e&&"function"==typeof e.then}function K(e){return!!e&&"function"==typeof e.subscribe}function $(){return""+Y()+Y()+Y()}function Y(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function X(){throw new Error("Runtime compiler is not loaded")}function Z(e){var t=Error("No component factory found for "+a(e)+". Did you add it to @NgModule.entryComponents?");return t[ea]=e,t}function J(){var e=Mo.wtf;return!(!e||!(ra=e.trace))&&(oa=ra.events,!0)}function Q(e,t){return void 0===t&&(t=null),oa.createScope(e,t)}function ee(e,t){return ra.leaveScope(e,t),t}function te(e,t){return ra.beginTimeRange(e,t)}function ne(e){ra.endTimeRange(e)}function re(e,t){return null}function oe(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function ie(e){e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,o,i,a){try{return ae(e),t.invokeTask(r,o,i,a)}finally{se(e)}},onInvoke:function(t,n,r,o,i,a,s){try{return ae(e),t.invoke(r,o,i,a,s)}finally{se(e)}},onHasTask:function(t,n,r,o){t.hasTask(r,o),n===r&&("microTask"==o.change?(e.hasPendingMicrotasks=o.microTask,oe(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:function(t,n,r,o){return t.handleError(r,o),e.runOutsideAngular(function(){return e.onError.emit(o)}),!1}})}function ae(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function se(e){e._nesting--,oe(e)}function ue(e){wa=e}function ce(){if(_a)throw new Error("Cannot enable prod mode after platform setup.");Ca=!1}function le(){return _a=!0,Ca}function fe(e){if(ya&&!ya.destroyed&&!ya.injector.get(xa,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ya=e.get(Sa);var t=e.get(zi,null);return t&&t.forEach(function(e){return e()}),ya}function de(e,t,n){void 0===n&&(n=[]);var r=new No("Platform: "+t);return function(t){void 0===t&&(t=[]);var o=me();return o&&!o.injector.get(xa,!1)||(e?e(n.concat(t).concat({provide:r,useValue:!0})):fe(Li.resolveAndCreate(n.concat(t).concat({provide:r,useValue:!0})))),pe(r)}}function pe(e){var t=me();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function he(){ya&&!ya.destroyed&&ya.destroy()}function me(){return ya&&!ya.destroyed?ya:null}function ge(e,t,n){try{var r=n();return G(r)?r.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):r}catch(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}}function ve(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function ye(e,t){var n=Fa.get(e);if(n)throw new Error("Duplicate module registered for "+e+" - "+n.moduleType.name+" vs "+t.moduleType.name);Fa.set(e,t)}function be(e){var t=Fa.get(e);if(!t)throw new Error("No module with ID "+e+" loaded");return t}function we(e){return e.reduce(function(e,t){var n=Array.isArray(t)?we(t):t;return e.concat(n)},[])}function Ce(e,t,n){if(!e)throw new Error("Cannot find '"+n+"' in '"+t+"'");return e}function _e(e){return e.map(function(e){return e.nativeElement})}function xe(e,t,n){e.childNodes.forEach(function(e){e instanceof Xa&&(t(e)&&n.push(e),xe(e,t,n))})}function Ee(e,t,n){e instanceof Xa&&e.childNodes.forEach(function(e){t(e)&&n.push(e),e instanceof Xa&&Ee(e,t,n)})}function Se(e){return Za.get(e)||null}function Oe(e){Za.set(e.nativeNode,e)}function Te(e){Za.delete(e.nativeNode)}function ke(e,t){var n=Re(e),r=Re(t);if(n&&r)return Pe(e,t,ke);var o=e&&("object"==typeof e||"function"==typeof e),a=t&&("object"==typeof t||"function"==typeof t);return!(n||!o||r||!a)||i(e,t)}function Re(e){return!!Ae(e)&&(Array.isArray(e)||!(e instanceof Map)&&r()in e)}function Pe(e,t,n){for(var o=e[r()](),i=t[r()]();;){var a=o.next(),s=i.next();if(a.done&&s.done)return!0;if(a.done||s.done)return!1;if(!n(a.value,s.value))return!1}}function Ne(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var o=e[r()](),i=void 0;!(i=o.next()).done;)t(i.value)}function Ae(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ie(e,t,n){var r=e.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function De(e){return e.name||typeof e}function Me(){return Pi}function Le(){return hs}function Be(){return ms}function Fe(e){return e||"en-US"}function je(e,t){return e.nodes[t]}function Ve(e,t){return e.nodes[t]}function He(e,t){return e.nodes[t]}function Ue(e,t){return e.nodes[t]}function ze(e,t){return e.nodes[t]}function qe(e,t,n,r){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+n+"'.";return r&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),Ge(o,e)}function We(e,t){return e instanceof Error||(e=new Error(e.toString())),Ke(e,t),e}function Ge(e,t){var n=new Error(e);return Ke(n,t),n}function Ke(e,t){e[bi]=t,e[Ci]=t.logError.bind(t)}function $e(e){return!!v(e)}function Ye(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}function Xe(e){var t=ks.get(e);return t||(t=a(e)+"_"+ks.size,ks.set(e,t)),t}function Ze(e,t,n,r){if(r instanceof Ja){r=r.wrapped;var o=e.def.nodes[t].bindingIndex+n,i=e.oldValues[o];i instanceof Ja&&(i=i.wrapped),e.oldValues[o]=new Ja(i)}return r}function Je(e){return{id:Rs,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}function Qe(e){if(e&&e.id===Rs){var t=null!=e.encapsulation&&e.encapsulation!==oi.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+Ns++:Ps}return e&&e.id===Ps&&(e=null),e||null}function et(e,t,n,r){var o=e.oldValues;return!(!(2&e.state)&&i(o[t.bindingIndex+n],r))}function tt(e,t,n,r){return!!et(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function nt(e,t,n,r){var o=e.oldValues[t.bindingIndex+n];if(1&e.state||!ke(o,r))throw qe(Os.createDebugContext(e,t.nodeIndex),o,r,0!=(1&e.state))}function rt(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function ot(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function it(e,t,n,r){return rt(33554432&e.def.nodes[t].flags?Ve(e,t).componentView:e),Os.handleEvent(e,t,n,r)}function at(e){if(e.parent){return Ve(e.parent,e.parentNodeDef.nodeIndex)}return null}function st(e){return e.parent?e.parentNodeDef.parent:null}function ut(e,t){switch(201347067&t.flags){case 1:return Ve(e,t.nodeIndex).renderElement;case 2:return je(e,t.nodeIndex).renderText}}function ct(e,t){return e?e+":"+t:t}function lt(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function ft(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function dt(e){return 1<<e%32}function pt(e){var t={},n=0,r={};return e&&e.forEach(function(e){var o=e[0],i=e[1];"number"==typeof o?(t[o]=i,n|=dt(o)):r[o]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function ht(e){return e.map(function(e){var t,n;return Array.isArray(e)?(n=e[0],t=e[1]):(n=0,t=e),{flags:n,token:t,tokenKey:Xe(t)}})}function mt(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===oi.Native?Ve(e,n.renderParent.nodeIndex).renderElement:void 0:t}function gt(e){var t=As.get(e);return t||(t=e(function(){return Ts}),t.factory=e,As.set(e,t)),t}function vt(e){var t=[];return yt(e,0,void 0,void 0,t),t}function yt(e,t,n,r,o){3===t&&(n=e.renderer.parentNode(ut(e,e.def.lastRenderRootNode))),bt(e,t,0,e.def.nodes.length-1,n,r,o)}function bt(e,t,n,r,o,i,a){for(var s=n;s<=r;s++){var u=e.def.nodes[s];11&u.flags&&Ct(e,u,t,o,i,a),s+=u.childCount}}function wt(e,t,n,r,o,i){for(var a=e;a&&!lt(a);)a=a.parent;for(var s=a.parent,u=st(a),c=u.nodeIndex+1,l=u.nodeIndex+u.childCount,f=c;f<=l;f++){var d=s.def.nodes[f];d.ngContentIndex===t&&Ct(s,d,n,r,o,i),f+=d.childCount}if(!s.parent){var p=e.root.projectableNodes[t];if(p)for(var f=0;f<p.length;f++)_t(e,p[f],n,r,o,i)}}function Ct(e,t,n,r,o,i){if(8&t.flags)wt(e,t.ngContent.index,n,r,o,i);else{var a=ut(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags){if(16&t.bindingFlags&&_t(e,a,n,r,o,i),32&t.bindingFlags){var s=Ve(e,t.nodeIndex).componentView;_t(s,a,n,r,o,i)}}else _t(e,a,n,r,o,i);if(16777216&t.flags)for(var u=Ve(e,t.nodeIndex).viewContainer._embeddedViews,c=0;c<u.length;c++)yt(u[c],n,r,o,i);1&t.flags&&!t.element.name&&bt(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,o,i)}}function _t(e,t,n,r,o,i){var a=e.renderer;switch(n){case 1:a.appendChild(r,t);break;case 2:a.insertBefore(r,t,o);break;case 3:a.removeChild(r,t);break;case 0:i.push(t)}}function xt(e){if(":"===e[0]){var t=e.match(Is);return[t[1],t[2]]}return["",e]}function Et(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function St(e,t){for(var n="",r=0;r<2*e;r+=2)n=n+t[r]+Tt(t[r+1]);return n+t[2*e]}function Ot(e,t,n,r,o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b){switch(e){case 1:return t+Tt(n)+r;case 2:return t+Tt(n)+r+Tt(o)+i;case 3:return t+Tt(n)+r+Tt(o)+i+Tt(a)+s;case 4:return t+Tt(n)+r+Tt(o)+i+Tt(a)+s+Tt(u)+c;case 5:return t+Tt(n)+r+Tt(o)+i+Tt(a)+s+Tt(u)+c+Tt(l)+f;case 6:return t+Tt(n)+r+Tt(o)+i+Tt(a)+s+Tt(u)+c+Tt(l)+f+Tt(d)+p;case 7:return t+Tt(n)+r+Tt(o)+i+Tt(a)+s+Tt(u)+c+Tt(l)+f+Tt(d)+p+Tt(h)+m;case 8:return t+Tt(n)+r+Tt(o)+i+Tt(a)+s+Tt(u)+c+Tt(l)+f+Tt(d)+p+Tt(h)+m+Tt(g)+v;case 9:return t+Tt(n)+r+Tt(o)+i+Tt(a)+s+Tt(u)+c+Tt(l)+f+Tt(d)+p+Tt(h)+m+Tt(g)+v+Tt(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function Tt(e){return null!=e?e.toString():""}function kt(e,t,n,r,o,i){e|=1;var a=pt(t),s=a.matchedQueries,u=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?gt(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||Ts},provider:null,text:null,query:null,ngContent:null}}function Rt(e,t,n,r,o,i,a,s,u,c,l,f){void 0===a&&(a=[]),c||(c=Ts);var d=pt(n),p=d.matchedQueries,h=d.references,m=d.matchedQueryIds,g=null,v=null;i&&(D=xt(i),g=D[0],v=D[1]),s=s||[];for(var y=new Array(s.length),b=0;b<s.length;b++){var w=s[b],C=w[0],_=w[1],x=w[2],E=xt(_),S=E[0],O=E[1],T=void 0,k=void 0;switch(15&C){case 4:k=x;break;case 1:case 8:T=x}y[b]={flags:C,ns:S,name:O,nonMinifiedName:O,securityContext:T,suffix:k}}u=u||[];for(var R=new Array(u.length),b=0;b<u.length;b++){var P=u[b],N=P[0],A=P[1];R[b]={type:0,target:N,eventName:A,propName:null}}a=a||[];var I=a.map(function(e){var t=e[0],n=e[1],r=xt(t);return[r[0],r[1],n]});return f=Qe(f),l&&(t|=33554432),t|=1,{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:m,references:h,ngContentIndex:r,childCount:o,bindings:y,bindingFlags:Et(y),outputs:R,element:{ns:g,name:v,attrs:I,template:null,componentProvider:null,componentView:l||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||Ts},provider:null,text:null,query:null,ngContent:null};var D}function Pt(e,t,n){var r,o=n.element,i=e.root.selectorOrNode,a=e.renderer;if(e.parent||!i){r=o.name?a.createElement(o.name,o.ns):a.createComment("");var s=mt(e,t,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(i);if(o.attrs)for(var u=0;u<o.attrs.length;u++){var c=o.attrs[u],l=c[0],f=c[1],d=c[2];a.setAttribute(r,f,d,l)}return r}function Nt(e,t,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],a=At(e,n.nodeIndex,ct(i.target,i.eventName)),s=i.target,u=e;"component"===i.target&&(s=null,u=t);var c=u.renderer.listen(s||r,i.eventName,a);e.disposables[n.outputIndex+o]=c}}function At(e,t,n){return function(r){try{return it(e,t,n,r)}catch(t){e.root.errorHandler.handleError(t)}}}function It(e,t,n,r,o,i,a,s,u,c,l,f){var d=t.bindings.length,p=!1;return d>0&&Mt(e,t,0,n)&&(p=!0),d>1&&Mt(e,t,1,r)&&(p=!0),d>2&&Mt(e,t,2,o)&&(p=!0),d>3&&Mt(e,t,3,i)&&(p=!0),d>4&&Mt(e,t,4,a)&&(p=!0),d>5&&Mt(e,t,5,s)&&(p=!0),d>6&&Mt(e,t,6,u)&&(p=!0),d>7&&Mt(e,t,7,c)&&(p=!0),d>8&&Mt(e,t,8,l)&&(p=!0),d>9&&Mt(e,t,9,f)&&(p=!0),p}function Dt(e,t,n){for(var r=!1,o=0;o<n.length;o++)Mt(e,t,o,n[o])&&(r=!0);return r}function Mt(e,t,n,r){if(!tt(e,t,n,r))return!1;var o=t.bindings[n],i=Ve(e,t.nodeIndex),a=i.renderElement,s=o.name;switch(15&o.flags){case 1:Lt(e,o,a,o.ns,s,r);break;case 2:Bt(e,a,s,r);break;case 4:Ft(e,o,a,s,r);break;case 8:jt(33554432&t.flags&&32&o.flags?i.componentView:e,o,a,s,r)}return!0}function Lt(e,t,n,r,o,i){var a=t.securityContext,s=a?e.root.sanitizer.sanitize(a,i):i;s=null!=s?s.toString():null;var u=e.renderer;null!=i?u.setAttribute(n,o,s,r):u.removeAttribute(n,o,r)}function Bt(e,t,n,r){var o=e.renderer;r?o.addClass(t,n):o.removeClass(t,n)}function Ft(e,t,n,r,o){var i=e.root.sanitizer.sanitize(xs.STYLE,o);if(null!=i){i=i.toString();var a=t.suffix;null!=a&&(i+=a)}else i=null;var s=e.renderer;null!=i?s.setStyle(n,r,i):s.removeStyle(n,r)}function jt(e,t,n,r,o){var i=t.securityContext,a=i?e.root.sanitizer.sanitize(i,o):o;e.renderer.setProperty(n,r,a)}function Vt(e,t,n,r){return{index:-1,deps:ht(r),flags:e,token:t,value:n}}function Ht(e){for(var t={},n=0;n<e.length;n++){var r=e[n];r.index=n,t[Xe(r.token)]=r}return{factory:null,providersByKey:t,providers:e}}function Ut(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var o=t.providers[r];4096&o.flags||(n[r]=qt(e,o))}}function zt(e,t,n){if(void 0===n&&(n=vi.THROW_IF_NOT_FOUND),8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);var r=t.tokenKey;switch(r){case Bs:case Fs:return e}var o=e._def.providersByKey[r];if(o){var i=e._providers[o.index];return void 0===i&&(i=e._providers[o.index]=qt(e,o)),i===Ls?void 0:i}return e._parent.get(t.token,n)}function qt(e,t){var n;switch(201347067&t.flags){case 512:n=Wt(e,t.value,t.deps);break;case 1024:n=Gt(e,t.value,t.deps);break;case 2048:n=zt(e,t.deps[0]);break;case 256:n=t.value}return void 0===n?Ls:n}function Wt(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(zt(e,n[0]));case 2:return new t(zt(e,n[0]),zt(e,n[1]));case 3:return new t(zt(e,n[0]),zt(e,n[1]),zt(e,n[2]));default:for(var o=new Array(r),i=0;i<r;i++)o[i]=zt(e,n[i]);return new(t.bind.apply(t,[void 0].concat(o)))}}function Gt(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(zt(e,n[0]));case 2:return t(zt(e,n[0]),zt(e,n[1]));case 3:return t(zt(e,n[0]),zt(e,n[1]),zt(e,n[2]));default:for(var o=Array(r),i=0;i<r;i++)o[i]=zt(e,n[i]);return t.apply(void 0,o)}}function Kt(e,t){for(var n=e._def,r=0;r<n.providers.length;r++){if(131072&n.providers[r].flags){var o=e._providers[r];o&&o!==Ls&&o.ngOnDestroy()}}}function $t(e,t,n,r){var o=t.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=o.length),r.viewContainerParent=e,nn(o,n,r),Yt(t,r),Os.dirtyParentQueries(r),en(t,n>0?o[n-1]:null,r)}function Yt(e,t){var n=at(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),Xt(t.parent.def,t.parentNodeDef)}}function Xt(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}function Zt(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,rn(n,t),Os.dirtyParentQueries(r),tn(r),r}function Jt(e){if(16&e.state){var t=at(e);if(t){var n=t.template._projectedViews;n&&(rn(n,n.indexOf(e)),Os.dirtyParentQueries(e))}}}function Qt(e,t,n){var r=e.viewContainer._embeddedViews,o=r[t];return rn(r,t),null==n&&(n=r.length),nn(r,n,o),Os.dirtyParentQueries(o),tn(o),en(e,n>0?r[n-1]:null,o),o}function en(e,t,n){var r=t?ut(t,t.def.lastRenderRootNode):e.renderElement;yt(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function tn(e){yt(e,3,null,null,void 0)}function nn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rn(e,t){t>=e.length-1?e.pop():e.splice(t,1)}function on(e,t,n,r,o,i){return new Vs(e,t,n,r,o,i)}function an(e){return e.viewDefFactory}function sn(e,t,n){return new Us(e,t,n)}function un(e){return new zs(e)}function cn(e,t){return new qs(e,t)}function ln(e,t){return new Ws(e,t)}function fn(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=Ve(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return je(e,n.nodeIndex).renderText;if(20240&n.flags)return He(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function dn(e){return new Gs(e.renderer)}function pn(e,t,n,r){return new Ks(e,t,n,r)}function hn(e,t,n,r,o,i,a,s){var u=[];if(a)for(var c in a){var l=a[c],f=l[0],d=l[1];u[f]={flags:8,name:c,nonMinifiedName:d,ns:null,securityContext:null,suffix:null}}var p=[];if(s)for(var h in s)p.push({type:1,propName:h,target:null,eventName:s[h]});return t|=16384,vn(e,t,n,r,o,o,i,u,p)}function mn(e,t,n){return e|=16,vn(-1,e,null,0,t,t,n)}function gn(e,t,n,r,o){return vn(-1,e,t,0,n,r,o)}function vn(e,t,n,r,o,i,a,s,u){var c=pt(n),l=c.matchedQueries,f=c.references,d=c.matchedQueryIds;u||(u=[]),s||(s=[]);var p=ht(a);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:d,references:f,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Et(s),outputs:u,element:null,provider:{token:o,value:i,deps:p},text:null,query:null,ngContent:null}}function yn(e,t){return En(e,t)}function bn(e,t){for(var n=e;n.parent&&!lt(n);)n=n.parent;return Sn(n.parent,st(n),!0,t.provider.value,t.provider.deps)}function wn(e,t){var n=(32768&t.flags)>0,r=Sn(e,t.parent,n,t.provider.value,t.provider.deps);if(t.outputs.length)for(var o=0;o<t.outputs.length;o++){var i=t.outputs[o],a=r[i.propName].subscribe(Cn(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+o]=a.unsubscribe.bind(a)}return r}function Cn(e,t,n){return function(r){try{return it(e,t,n,r)}catch(t){e.root.errorHandler.handleError(t)}}}function _n(e,t,n,r,o,i,a,s,u,c,l,f){var d=He(e,t.nodeIndex),p=d.instance,h=!1,m=void 0,g=t.bindings.length;return g>0&&et(e,t,0,n)&&(h=!0,m=Rn(e,d,t,0,n,m)),g>1&&et(e,t,1,r)&&(h=!0,m=Rn(e,d,t,1,r,m)),g>2&&et(e,t,2,o)&&(h=!0,m=Rn(e,d,t,2,o,m)),g>3&&et(e,t,3,i)&&(h=!0,m=Rn(e,d,t,3,i,m)),g>4&&et(e,t,4,a)&&(h=!0,m=Rn(e,d,t,4,a,m)),g>5&&et(e,t,5,s)&&(h=!0,m=Rn(e,d,t,5,s,m)),g>6&&et(e,t,6,u)&&(h=!0,m=Rn(e,d,t,6,u,m)),g>7&&et(e,t,7,c)&&(h=!0,m=Rn(e,d,t,7,c,m)),g>8&&et(e,t,8,l)&&(h=!0,m=Rn(e,d,t,8,l,m)),g>9&&et(e,t,9,f)&&(h=!0,m=Rn(e,d,t,9,f,m)),m&&p.ngOnChanges(m),2&e.state&&65536&t.flags&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),h}function xn(e,t,n){for(var r=He(e,t.nodeIndex),o=r.instance,i=!1,a=void 0,s=0;s<n.length;s++)et(e,t,s,n[s])&&(i=!0,a=Rn(e,r,t,s,n[s],a));return a&&o.ngOnChanges(a),2&e.state&&65536&t.flags&&o.ngOnInit(),262144&t.flags&&o.ngDoCheck(),i}function En(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Sn(e,t.parent,n,r.value,r.deps);case 1024:return On(e,t.parent,n,r.value,r.deps);case 2048:return Tn(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Sn(e,t,n,r,o){var i=o.length;switch(i){case 0:return new r;case 1:return new r(Tn(e,t,n,o[0]));case 2:return new r(Tn(e,t,n,o[0]),Tn(e,t,n,o[1]));case 3:return new r(Tn(e,t,n,o[0]),Tn(e,t,n,o[1]),Tn(e,t,n,o[2]));default:for(var a=new Array(i),s=0;s<i;s++)a[s]=Tn(e,t,n,o[s]);return new(r.bind.apply(r,[void 0].concat(a)))}}function On(e,t,n,r,o){var i=o.length;switch(i){case 0:return r();case 1:return r(Tn(e,t,n,o[0]));case 2:return r(Tn(e,t,n,o[0]),Tn(e,t,n,o[1]));case 3:return r(Tn(e,t,n,o[0]),Tn(e,t,n,o[1]),Tn(e,t,n,o[2]));default:for(var a=Array(i),s=0;s<i;s++)a[s]=Tn(e,t,n,o[s]);return r.apply(void 0,a)}}function Tn(e,t,n,r,o){if(void 0===o&&(o=vi.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=e;2&r.flags&&(o=null);var a=r.tokenKey;for(a===Qs&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);e;){if(t)switch(a){case $s:var s=kn(e,t,n);return dn(s);case Ys:var s=kn(e,t,n);return s.renderer;case Xs:return new La(Ve(e,t.nodeIndex).renderElement);case Zs:return Ve(e,t.nodeIndex).viewContainer;case Js:if(t.element.template)return Ve(e,t.nodeIndex).template;break;case Qs:return un(kn(e,t,n));case eu:return ln(e,t);default:var u=(n?t.element.allProviders:t.element.publicProviders)[a];if(u){var c=He(e,u.nodeIndex);return c||(c={instance:En(e,u)},e.nodes[u.nodeIndex]=c),c.instance}}n=lt(e),t=st(e),e=e.parent}var l=i.root.injector.get(r.token,tu);return l!==tu||o===tu?l:i.root.ngModule.injector.get(r.token,o)}function kn(e,t,n){var r;if(n)r=Ve(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!lt(r);)r=r.parent;return r}function Rn(e,t,n,r,o,i){if(32768&n.flags){var a=Ve(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}var s=n.bindings[r],u=s.name;if(t.instance[u]=o,524288&n.flags){i=i||{};var c=e.oldValues[n.bindingIndex+r];c instanceof Ja&&(c=c.wrapped);i[n.bindings[r].nonMinifiedName]=new es(c,o,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=o,i}function Pn(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0;r<n.length;r++){var o=n[r],i=o.parent;for(!i&&o.flags&t&&An(e,r,o.flags&t),0==(o.childFlags&t)&&(r+=o.childCount);i&&1&i.flags&&r===i.nodeIndex+i.childCount;)i.directChildFlags&t&&Nn(e,i,t),i=i.parent}}function Nn(e,t,n){for(var r=t.nodeIndex+1;r<=t.nodeIndex+t.childCount;r++){var o=e.def.nodes[r];o.flags&n&&An(e,r,o.flags&n),r+=o.childCount}}function An(e,t,n){var r=He(e,t);if(r){var o=r.instance;o&&(Os.setCurrentNode(e,t),1048576&n&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function In(e,t,n){var r=[];for(var o in n){var i=n[o];r.push({propName:o,bindingType:i})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:dt(t),bindings:r},ngContent:null}}function Dn(){return new ja}function Mn(e){for(var t=e.def.nodeMatchedQueries;e.parent&&ft(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,o=0;o<=r;o++){var i=e.def.nodes[o];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&ze(e,o).setDirty(),!(1&i.flags&&o+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}}if(134217728&e.def.nodeFlags)for(var o=0;o<e.def.nodes.length;o++){var i=e.def.nodes[o];134217728&i.flags&&536870912&i.flags&&ze(e,o).setDirty(),o+=i.childCount}}function Ln(e,t){var n=ze(e,t.nodeIndex);if(n.dirty){var r,o=void 0;if(67108864&t.flags){var i=t.parent.parent;o=Bn(e,i.nodeIndex,i.nodeIndex+i.childCount,t.query,[]),r=He(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(o=Bn(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(o);for(var a=t.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function Bn(e,t,n,r,o){for(var i=t;i<=n;i++){var a=e.def.nodes[i],s=a.matchedQueries[r.id];if(null!=s&&o.push(Fn(e,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Ve(e,i);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Bn(e,i+1,i+a.childCount,r,o),i+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var f=c[l],d=at(f);d&&d===u&&Bn(f,0,f.def.nodes.length-1,r,o)}var p=u.template._projectedViews;if(p)for(var l=0;l<p.length;l++){var h=p[l];Bn(h,0,h.def.nodes.length-1,r,o)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(i+=a.childCount)}return o}function Fn(e,t,n){if(null!=n)switch(n){case 1:return Ve(e,t.nodeIndex).renderElement;case 0:return new La(Ve(e,t.nodeIndex).renderElement);case 2:return Ve(e,t.nodeIndex).template;case 3:return Ve(e,t.nodeIndex).viewContainer;case 4:return He(e,t.nodeIndex).instance}}function jn(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Vn(e,t,n){var r=mt(e,t,n);if(r){wt(e,n.ngContent.index,1,r,null,void 0)}}function Hn(e,t){return qn(128,e,new Array(t+1))}function Un(e,t){return qn(32,e,new Array(t))}function zn(e,t){for(var n=Object.keys(t),r=n.length,o=new Array(r),i=0;i<r;i++){var a=n[i];o[t[a]]=a}return qn(64,e,o)}function qn(e,t,n){for(var r=new Array(n.length),o=0;o<n.length;o++){var i=n[o];r[o]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Et(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Wn(e,t){return{value:void 0}}function Gn(e,t,n,r,o,i,a,s,u,c,l,f){var d=t.bindings,p=!1,h=d.length;if(h>0&&tt(e,t,0,n)&&(p=!0),h>1&&tt(e,t,1,r)&&(p=!0),h>2&&tt(e,t,2,o)&&(p=!0),h>3&&tt(e,t,3,i)&&(p=!0),h>4&&tt(e,t,4,a)&&(p=!0),h>5&&tt(e,t,5,s)&&(p=!0),h>6&&tt(e,t,6,u)&&(p=!0),h>7&&tt(e,t,7,c)&&(p=!0),h>8&&tt(e,t,8,l)&&(p=!0),h>9&&tt(e,t,9,f)&&(p=!0),p){var m=Ue(e,t.nodeIndex),g=void 0;switch(201347067&t.flags){case 32:g=new Array(d.length),h>0&&(g[0]=n),h>1&&(g[1]=r),h>2&&(g[2]=o),h>3&&(g[3]=i),h>4&&(g[4]=a),h>5&&(g[5]=s),h>6&&(g[6]=u),h>7&&(g[7]=c),h>8&&(g[8]=l),h>9&&(g[9]=f);break;case 64:g={},h>0&&(g[d[0].name]=n),h>1&&(g[d[1].name]=r),h>2&&(g[d[2].name]=o),h>3&&(g[d[3].name]=i),h>4&&(g[d[4].name]=a),h>5&&(g[d[5].name]=s),h>6&&(g[d[6].name]=u),h>7&&(g[d[7].name]=c),h>8&&(g[d[8].name]=l),h>9&&(g[d[9].name]=f);break;case 128:var v=n;switch(h){case 1:g=v.transform(n);break;case 2:g=v.transform(r);break;case 3:g=v.transform(r,o);break;case 4:g=v.transform(r,o,i);break;case 5:g=v.transform(r,o,i,a);break;case 6:g=v.transform(r,o,i,a,s);break;case 7:g=v.transform(r,o,i,a,s,u);break;case 8:g=v.transform(r,o,i,a,s,u,c);break;case 9:g=v.transform(r,o,i,a,s,u,c,l);break;case 10:g=v.transform(r,o,i,a,s,u,c,l,f)}}m.value=g}return p}function Kn(e,t,n){for(var r=t.bindings,o=!1,i=0;i<n.length;i++)tt(e,t,i,n[i])&&(o=!0);if(o){var a=Ue(e,t.nodeIndex),s=void 0;switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(var i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:var u=n[0],c=n.slice(1);s=u.transform.apply(u,c)}a.value=s}return o}function $n(e,t,n){for(var r=new Array(n.length-1),o=1;o<n.length;o++)r[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Yn(e,t,n){var r,o=e.renderer;r=o.createText(n.text.prefix);var i=mt(e,t,n);return i&&o.appendChild(i,r),{renderText:r}}function Xn(e,t,n,r,o,i,a,s,u,c,l,f){var d=!1,p=t.bindings,h=p.length;if(h>0&&tt(e,t,0,n)&&(d=!0),h>1&&tt(e,t,1,r)&&(d=!0),h>2&&tt(e,t,2,o)&&(d=!0),h>3&&tt(e,t,3,i)&&(d=!0),h>4&&tt(e,t,4,a)&&(d=!0),h>5&&tt(e,t,5,s)&&(d=!0),h>6&&tt(e,t,6,u)&&(d=!0),h>7&&tt(e,t,7,c)&&(d=!0),h>8&&tt(e,t,8,l)&&(d=!0),h>9&&tt(e,t,9,f)&&(d=!0),d){var m=t.text.prefix;h>0&&(m+=Jn(n,p[0])),h>1&&(m+=Jn(r,p[1])),h>2&&(m+=Jn(o,p[2])),h>3&&(m+=Jn(i,p[3])),h>4&&(m+=Jn(a,p[4])),h>5&&(m+=Jn(s,p[5])),h>6&&(m+=Jn(u,p[6])),h>7&&(m+=Jn(c,p[7])),h>8&&(m+=Jn(l,p[8])),h>9&&(m+=Jn(f,p[9]));var g=je(e,t.nodeIndex).renderText;e.renderer.setValue(g,m)}return d}function Zn(e,t,n){for(var r=t.bindings,o=!1,i=0;i<n.length;i++)tt(e,t,i,n[i])&&(o=!0);if(o){for(var a="",i=0;i<n.length;i++)a+=Jn(n[i],r[i]);a=t.text.prefix+a;var s=je(e,t.nodeIndex).renderText;e.renderer.setValue(s,a)}return o}function Jn(e,t){return(null!=e?e.toString():"")+t.suffix}function Qn(e,t,n,r){for(var o=0,i=0,a=0,s=0,u=0,c=null,l=null,f=!1,d=!1,p=null,h=0;h<t.length;h++){var m=t[h];if(m.nodeIndex=h,m.parent=c,m.bindingIndex=o,m.outputIndex=i,m.renderParent=l,a|=m.flags,u|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=c?c.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,f=!1,d=!1,m.element.template&&(u|=m.element.template.nodeMatchedQueries)}if(tr(c,m,t.length),o+=m.bindings.length,i+=m.outputs.length,!l&&3&m.flags&&(p=m),20224&m.flags){f||(f=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var v=0!=(8192&m.flags),y=0!=(32768&m.flags);!v||y?c.element.publicProviders[Xe(m.provider.token)]=m:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[Xe(m.provider.token)]=m),y&&(c.element.componentProvider=m)}if(c?(c.childFlags|=m.flags,c.directChildFlags|=m.flags,c.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(c.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)c=m,er(m)||(l=m);else for(;c&&h===c.nodeIndex+c.childCount;){var b=c.parent;b&&(b.childFlags|=c.childFlags,b.childMatchedQueries|=c.childMatchedQueries),c=b,l=c&&er(c)?c.renderParent:c}}var w=function(e,n,r,o){return t[n].element.handleEvent(e,r,o)};return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||Ts,updateRenderer:r||Ts,handleEvent:w,bindingCount:o,outputCount:i,lastRenderRootNode:p}}function er(e){return 0!=(1&e.flags)&&null===e.element.name}function tr(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+t.nodeIndex+"!")}if(20224&t.flags){if(0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+t.nodeIndex+"!")}if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+t.nodeIndex+"!");if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+t.nodeIndex+"!")}if(t.childCount){var o=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=o&&t.nodeIndex+t.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+t.nodeIndex+"!")}}function nr(e,t,n,r){var o=ir(e.root,e.renderer,e,t,n);return ar(o,e.component,r),sr(o),o}function rr(e,t,n){var r=ir(e,e.renderer,null,null,t);return ar(r,n,n),sr(r),r}function or(e,t,n,r){var o,i=t.element.componentRendererType;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,ir(e.root,o,e,t.element.componentProvider,n)}function ir(e,t,n,r,o){var i=new Array(o.nodes.length),a=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(o.bindingCount),disposables:a}}function ar(e,t,n){e.component=t,e.context=n}function sr(e){var t;if(lt(e)){var n=e.parentNodeDef;t=Ve(e.parent,n.parent.nodeIndex).renderElement}for(var r=e.def,o=e.nodes,i=0;i<r.nodes.length;i++){var a=r.nodes[i];Os.setCurrentNode(e,i);var s=void 0;switch(201347067&a.flags){case 1:var u=Pt(e,t,a),c=void 0;if(33554432&a.flags){var l=gt(a.element.componentView);c=Os.createComponentView(e,a,l,u)}Nt(e,c,a,u),s={renderElement:u,componentView:c,viewContainer:null,template:a.element.template?cn(e,a):void 0},16777216&a.flags&&(s.viewContainer=sn(e,a,s));break;case 2:s=Yn(e,t,a);break;case 512:case 1024:case 2048:case 256:if(!((s=o[i])||4096&a.flags)){var f=yn(e,a);s={instance:f}}break;case 16:var f=bn(e,a);s={instance:f};break;case 16384:if(!(s=o[i])){var f=wn(e,a);s={instance:f}}if(32768&a.flags){ar(Ve(e,a.parent.nodeIndex).componentView,s.instance,s.instance)}break;case 32:case 64:case 128:s=Wn(e,a);break;case 67108864:case 134217728:s=Dn();break;case 8:Vn(e,t,a),s=void 0}o[i]=s}wr(e,nu.CreateViewNodes),Er(e,201326592,268435456,0)}function ur(e){fr(e),Os.updateDirectives(e,1),Cr(e,nu.CheckNoChanges),Os.updateRenderer(e,1),wr(e,nu.CheckNoChanges),e.state&=-97}function cr(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,fr(e),Os.updateDirectives(e,0),Cr(e,nu.CheckAndUpdate),Er(e,67108864,536870912,0),Pn(e,2097152|(2&e.state?1048576:0)),Os.updateRenderer(e,0),wr(e,nu.CheckAndUpdate),Er(e,134217728,536870912,0),Pn(e,8388608|(2&e.state?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97}function lr(e,t,n,r,o,i,a,s,u,c,l,f,d){return 0===n?dr(e,t,r,o,i,a,s,u,c,l,f,d):pr(e,t,r)}function fr(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var o=Ve(e,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var a=o[i];a.state|=32,ot(a,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function dr(e,t,n,r,o,i,a,s,u,c,l,f){switch(201347067&t.flags){case 1:return It(e,t,n,r,o,i,a,s,u,c,l,f);case 2:return Xn(e,t,n,r,o,i,a,s,u,c,l,f);case 16384:return _n(e,t,n,r,o,i,a,s,u,c,l,f);case 32:case 64:case 128:return Gn(e,t,n,r,o,i,a,s,u,c,l,f);default:throw"unreachable"}}function pr(e,t,n){switch(201347067&t.flags){case 1:return Dt(e,t,n);case 2:return Zn(e,t,n);case 16384:return xn(e,t,n);case 32:case 64:case 128:return Kn(e,t,n);default:throw"unreachable"}}function hr(e,t,n,r,o,i,a,s,u,c,l,f,d){return 0===n?mr(e,t,r,o,i,a,s,u,c,l,f,d):gr(e,t,r),!1}function mr(e,t,n,r,o,i,a,s,u,c,l,f){var d=t.bindings.length;d>0&&nt(e,t,0,n),d>1&&nt(e,t,1,r),d>2&&nt(e,t,2,o),d>3&&nt(e,t,3,i),d>4&&nt(e,t,4,a),d>5&&nt(e,t,5,s),d>6&&nt(e,t,6,u),d>7&&nt(e,t,7,c),d>8&&nt(e,t,8,l),d>9&&nt(e,t,9,f)}function gr(e,t,n){for(var r=0;r<n.length;r++)nt(e,t,r,n[r])}function vr(e,t){if(ze(e,t.nodeIndex).dirty)throw qe(Os.createDebugContext(e,t.nodeIndex),"Query "+t.query.id+" not dirty","Query "+t.query.id+" dirty",0!=(1&e.state))}function yr(e){if(!(128&e.state)){if(Cr(e,nu.Destroy),wr(e,nu.Destroy),Pn(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();Jt(e),e.renderer.destroyNode&&br(e),lt(e)&&e.renderer.destroy(),e.state|=128}}function br(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(Ve(e,n).renderElement):2&r.flags?e.renderer.destroyNode(je(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&ze(e,n).destroy()}}function wr(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?_r(Ve(e,r).componentView,t):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function Cr(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=Ve(e,r).viewContainer._embeddedViews,a=0;a<i.length;a++)_r(i[a],t);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function _r(e,t){var n=e.state;switch(t){case nu.CheckNoChanges:0==(128&n)&&(12==(12&n)?ur(e):64&n&&xr(e,nu.CheckNoChangesProjectedViews));break;case nu.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ur(e):64&n&&xr(e,t));break;case nu.CheckAndUpdate:0==(128&n)&&(12==(12&n)?cr(e):64&n&&xr(e,nu.CheckAndUpdateProjectedViews));break;case nu.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?cr(e):64&n&&xr(e,t));break;case nu.Destroy:yr(e);break;case nu.CreateViewNodes:sr(e)}}function xr(e,t){Cr(e,t),wr(e,t)}function Er(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var o=e.def.nodes.length,i=0;i<o;i++){var a=e.def.nodes[i];if(a.flags&t&&a.flags&n)switch(Os.setCurrentNode(e,a.nodeIndex),r){case 0:Ln(e,a);break;case 1:vr(e,a)}a.childFlags&t&&a.childFlags&n||(i+=a.childCount)}}function Sr(){if(!ru){ru=!0;var e=le()?Tr():Or();Os.setCurrentNode=e.setCurrentNode,Os.createRootView=e.createRootView,Os.createEmbeddedView=e.createEmbeddedView,Os.createComponentView=e.createComponentView,Os.createNgModuleRef=e.createNgModuleRef,Os.overrideProvider=e.overrideProvider,Os.clearProviderOverrides=e.clearProviderOverrides,Os.checkAndUpdateView=e.checkAndUpdateView,Os.checkNoChangesView=e.checkNoChangesView,Os.destroyView=e.destroyView,Os.resolveDep=Tn,Os.createDebugContext=e.createDebugContext,Os.handleEvent=e.handleEvent,Os.updateDirectives=e.updateDirectives,Os.updateRenderer=e.updateRenderer,Os.dirtyParentQueries=Mn}}function Or(){return{setCurrentNode:function(){},createRootView:kr,createEmbeddedView:nr,createComponentView:or,createNgModuleRef:pn,overrideProvider:Ts,clearProviderOverrides:Ts,checkAndUpdateView:cr,checkNoChangesView:ur,destroyView:yr,createDebugContext:function(e,t){return new lu(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Fr:jr,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Fr:jr,e)}}}function Tr(){return{setCurrentNode:zr,createRootView:Rr,createEmbeddedView:Nr,createComponentView:Ar,createNgModuleRef:Ir,overrideProvider:Dr,clearProviderOverrides:Mr,checkAndUpdateView:Vr,checkNoChangesView:Hr,destroyView:Ur,createDebugContext:function(e,t){return new lu(e,t)},handleEvent:qr,updateDirectives:Wr,updateRenderer:Gr}}function kr(e,t,n,r,o,i){return rr(Pr(e,o,o.injector.get(Ia),t,n),r,i)}function Rr(e,t,n,r,o,i){var a=o.injector.get(Ia),s=Pr(e,o,new fu(a),t,n),u=Lr(r);return ro(iu.create,rr,null,[s,u,i])}function Pr(e,t,n,r,o){var i=t.injector.get(Es),a=t.injector.get(_i);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function Nr(e,t,n,r){var o=Lr(n);return ro(iu.create,nr,null,[e,t,o,r])}function Ar(e,t,n,r){var o=Lr(n);return ro(iu.create,or,null,[e,t,o,r])}function Ir(e,t,n,r){return pn(e,t,n,Br(r))}function Dr(e){ou.set(e.token,e)}function Mr(){ou.clear()}function Lr(e){if(0===ou.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var o=e.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&ou.has(o.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(function(){return Ts});for(var n=0;n<t.length;n++)!function(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var o=r.provider,i=ou.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=ht(i.deps),o.value=i.value)}}}(e,t[n]);return e}function Br(e){var t=function(e){var t=!1,n=!1;return 0===ou.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(function(e){var r=ou.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;return n?(e=e.factory(function(){return Ts}),function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var o=ou.get(n.token);o&&(n.flags=-3841&n.flags|o.flags,n.deps=ht(o.deps),n.value=o.value)}}(e),e):e}function Fr(e,t,n,r,o,i,a,s,u,c,l,f,d){var p=e.def.nodes[t];return lr(e,p,n,r,o,i,a,s,u,c,l,f,d),224&p.flags?Ue(e,t).value:void 0}function jr(e,t,n,r,o,i,a,s,u,c,l,f,d){var p=e.def.nodes[t];return hr(e,p,n,r,o,i,a,s,u,c,l,f,d),224&p.flags?Ue(e,t).value:void 0}function Vr(e){return ro(iu.detectChanges,cr,null,[e])}function Hr(e){return ro(iu.checkNoChanges,ur,null,[e])}function Ur(e){return ro(iu.destroy,yr,null,[e])}function zr(e,t){su=e,uu=t}function qr(e,t,n,r){return zr(e,t),ro(iu.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Wr(e,t){function n(e,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=e.def.nodes[n];return 0===t?Kr(e,a,r,o):$r(e,a,r,o),16384&a.flags&&zr(e,Jr(e,n)),224&a.flags?Ue(e,a.nodeIndex).value:void 0}if(128&e.state)throw Ye(iu[au]);return zr(e,Jr(e,0)),e.def.updateDirectives(n,e)}function Gr(e,t){function n(e,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=e.def.nodes[n];return 0===t?Kr(e,a,r,o):$r(e,a,r,o),3&a.flags&&zr(e,Qr(e,n)),224&a.flags?Ue(e,a.nodeIndex).value:void 0}if(128&e.state)throw Ye(iu[au]);return zr(e,Qr(e,0)),e.def.updateRenderer(n,e)}function Kr(e,t,n,r){if(lr.apply(void 0,[e,t,n].concat(r))){var o=1===n?r[0]:r;if(16384&t.flags){for(var i={},a=0;a<t.bindings.length;a++){var s=t.bindings[a],u=o[a];8&s.flags&&(i[Yr(s.nonMinifiedName)]=Zr(u))}var c=t.parent,l=Ve(e,c.nodeIndex).renderElement;if(c.element.name)for(var f in i){var u=i[f];null!=u?e.renderer.setAttribute(l,f,u):e.renderer.removeAttribute(l,f)}else e.renderer.setValue(l,"bindings="+JSON.stringify(i,null,2))}}}function $r(e,t,n,r){hr.apply(void 0,[e,t,n].concat(r))}function Yr(e){return"ng-reflect-"+(e=Xr(e.replace(/[$@]/g,"_")))}function Xr(e){return e.replace(cu,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"-"+e[1].toLowerCase()})}function Zr(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Jr(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Qr(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}function eo(e,t){for(var n=-1,r=0;r<=t;r++){3&e.nodes[r].flags&&n++}return n}function to(e){for(;e&&!lt(e);)e=e.parent;return e.parent?Ve(e.parent,st(e).nodeIndex):null}function no(e,t,n){for(var r in t.references)n[r]=Fn(e,t,t.references[r])}function ro(e,t,n,r){var o=au,i=su,a=uu;try{au=e;var s=t.apply(n,r);return su=i,uu=a,au=o,s}catch(e){if($e(e)||!su)throw e;throw We(e,oo())}}function oo(){return su?new lu(su,uu):null}function io(e){return Sr(),Os.overrideProvider(e)}function ao(){return Sr(),Os.clearProviderOverrides()}function so(e,t,n){return new pu(e,t,n)}function uo(e,t){return{type:7,name:e,definitions:t,options:{}}}function co(e,t){return void 0===t&&(t=null),{type:4,styles:t,timings:e}}function lo(e,t){return void 0===t&&(t=null),{type:3,steps:e,options:t}}function fo(e,t){return void 0===t&&(t=null),{type:2,steps:e,options:t}}function po(e){return{type:6,styles:e,offset:null}}function ho(e,t,n){return{type:0,name:e,styles:t,options:n}}function mo(e){return{type:5,steps:e}}function go(e,t,n){return void 0===n&&(n=null),{type:1,expr:e,animation:t,options:n}}function vo(e,t){return uo(e,t)}function yo(e,t){return co(e,t)}function bo(e){return lo(e)}function wo(e){return fo(e)}function Co(e){return po(e)}function _o(e,t){return ho(e,t)}function xo(e){return mo(e)}function Eo(e,t){return go(e,t)}n.d(t,"Class",function(){return c}),n.d(t,"createPlatform",function(){return fe}),n.d(t,"assertPlatform",function(){return pe}),n.d(t,"destroyPlatform",function(){return he}),n.d(t,"getPlatform",function(){return me}),n.d(t,"PlatformRef",function(){return Sa}),n.d(t,"ApplicationRef",function(){return Ta}),n.d(t,"enableProdMode",function(){return ce}),n.d(t,"isDevMode",function(){return le}),n.d(t,"createPlatformFactory",function(){return de}),n.d(t,"NgProbeToken",function(){return Ea}),n.d(t,"APP_ID",function(){return Hi}),n.d(t,"PACKAGE_ROOT_URL",function(){return Gi}),n.d(t,"PLATFORM_INITIALIZER",function(){return zi}),n.d(t,"PLATFORM_ID",function(){return qi}),n.d(t,"APP_BOOTSTRAP_LISTENER",function(){return Wi}),n.d(t,"APP_INITIALIZER",function(){return ji}),n.d(t,"ApplicationInitStatus",function(){return Vi}),n.d(t,"DebugElement",function(){return Xa}),n.d(t,"DebugNode",function(){return Ya}),n.d(t,"asNativeElements",function(){return _e}),n.d(t,"getDebugNode",function(){return Se}),n.d(t,"Testability",function(){return ga}),n.d(t,"TestabilityRegistry",function(){return va}),n.d(t,"setTestabilityGetter",function(){return ue}),n.d(t,"TRANSLATIONS",function(){return bs}),n.d(t,"TRANSLATIONS_FORMAT",function(){return ws}),n.d(t,"LOCALE_ID",function(){return ys}),n.d(t,"MissingTranslationStrategy",function(){return Cs}),n.d(t,"ApplicationModule",function(){return _s}),n.d(t,"wtfCreateScope",function(){return la}),n.d(t,"wtfLeave",function(){return fa}),n.d(t,"wtfStartTimeRange",function(){return da}),n.d(t,"wtfEndTimeRange",function(){return pa}),n.d(t,"Type",function(){return Oi}),n.d(t,"EventEmitter",function(){return ha}),n.d(t,"ErrorHandler",function(){return _i}),n.d(t,"Sanitizer",function(){return Es}),n.d(t,"SecurityContext",function(){return xs}),n.d(t,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return jo}),n.d(t,"Attribute",function(){return Vo}),n.d(t,"ContentChild",function(){return zo}),n.d(t,"ContentChildren",function(){return Uo}),n.d(t,"Query",function(){return Ho}),n.d(t,"ViewChild",function(){return Wo}),n.d(t,"ViewChildren",function(){return qo}),n.d(t,"Component",function(){return Yo}),n.d(t,"Directive",function(){return $o}),n.d(t,"HostBinding",function(){return Qo}),n.d(t,"HostListener",function(){return ei}),n.d(t,"Input",function(){return Zo}),n.d(t,"Output",function(){return Jo}),n.d(t,"Pipe",function(){return Xo}),n.d(t,"CUSTOM_ELEMENTS_SCHEMA",function(){return ti}),n.d(t,"NO_ERRORS_SCHEMA",function(){return ni}),n.d(t,"NgModule",function(){return ri}),n.d(t,"ViewEncapsulation",function(){return oi}),n.d(t,"Version",function(){return ai}),n.d(t,"VERSION",function(){return si}),n.d(t,"forwardRef",function(){return m}),n.d(t,"resolveForwardRef",function(){return g}),n.d(t,"Injector",function(){return vi}),n.d(t,"ReflectiveInjector",function(){return Li}),n.d(t,"ResolvedReflectiveFactory",function(){return Di}),n.d(t,"ReflectiveKey",function(){return xi}),n.d(t,"InjectionToken",function(){return No}),n.d(t,"OpaqueToken",function(){return Po}),n.d(t,"Inject",function(){return ui}),n.d(t,"Optional",function(){return ci}),n.d(t,"Injectable",function(){return li}),n.d(t,"Self",function(){return fi}),n.d(t,"SkipSelf",function(){return di}),n.d(t,"Host",function(){return pi}),n.d(t,"NgZone",function(){return ma}),n.d(t,"RenderComponentType",function(){return Ra}),n.d(t,"Renderer",function(){return Na}),n.d(t,"Renderer2",function(){return Ma}),n.d(t,"RendererFactory2",function(){return Ia}),n.d(t,"RendererStyleFlags2",function(){return Da}),n.d(t,"RootRenderer",function(){return Aa}),n.d(t,"COMPILER_OPTIONS",function(){return Xi}),n.d(t,"Compiler",function(){return Yi}),n.d(t,"CompilerFactory",function(){return Zi}),n.d(t,"ModuleWithComponentFactories",function(){return $i}),n.d(t,"ComponentFactory",function(){return Qi}),n.d(t,"ComponentRef",function(){return Ji}),n.d(t,"ComponentFactoryResolver",function(){return na}),n.d(t,"ElementRef",function(){return La}),n.d(t,"NgModuleFactory",function(){return ua}),n.d(t,"NgModuleRef",function(){return sa}),n.d(t,"NgModuleFactoryLoader",function(){return Ba}),n.d(t,"getModuleFactory",function(){return be}),n.d(t,"QueryList",function(){return ja}),n.d(t,"SystemJsNgModuleLoader",function(){return Ua}),n.d(t,"SystemJsNgModuleLoaderConfig",function(){return Va}),n.d(t,"TemplateRef",function(){return za}),n.d(t,"ViewContainerRef",function(){return qa}),n.d(t,"EmbeddedViewRef",function(){return Ka}),n.d(t,"ViewRef",function(){return Ga}),n.d(t,"ChangeDetectionStrategy",function(){return Go}),n.d(t,"ChangeDetectorRef",function(){return Wa}),n.d(t,"DefaultIterableDiffer",function(){return rs}),n.d(t,"IterableDiffers",function(){return ls}),n.d(t,"KeyValueDiffers",function(){return fs}),n.d(t,"SimpleChange",function(){return es}),n.d(t,"WrappedValue",function(){return Ja}),n.d(t,"platformCore",function(){return vs}),n.d(t,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return xa}),n.d(t,"\u0275APP_ID_RANDOM_PROVIDER",function(){return Ui}),n.d(t,"\u0275ValueUnwrapper",function(){return Qa}),n.d(t,"\u0275devModeEqual",function(){return ke}),n.d(t,"\u0275isListLikeIterable",function(){return Re}),n.d(t,"\u0275ChangeDetectorStatus",function(){return Ko}),n.d(t,"\u0275isDefaultChangeDetectionStrategy",function(){return h}),n.d(t,"\u0275Console",function(){return Ki}),n.d(t,"\u0275ERROR_COMPONENT_TYPE",function(){return yi}),n.d(t,"\u0275ComponentFactory",function(){return Qi}),n.d(t,"\u0275CodegenComponentFactoryResolver",function(){return ia}),n.d(t,"\u0275ViewMetadata",function(){return ii}),n.d(t,"\u0275ReflectionCapabilities",function(){return ki}),n.d(t,"\u0275RenderDebugInfo",function(){return Pa}),n.d(t,"\u0275global",function(){return Mo}),n.d(t,"\u0275looseIdentical",function(){return i}),n.d(t,"\u0275stringify",function(){return a}),n.d(t,"\u0275makeDecorator",function(){return l}),n.d(t,"\u0275isObservable",function(){return K}),n.d(t,"\u0275isPromise",function(){return G}),n.d(t,"\u0275clearProviderOverrides",function(){return ao}),n.d(t,"\u0275overrideProvider",function(){return io}),n.d(t,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return tu}),n.d(t,"\u0275registerModuleFactory",function(){return ye}),n.d(t,"\u0275EMPTY_ARRAY",function(){return Ds}),n.d(t,"\u0275EMPTY_MAP",function(){return Ms}),n.d(t,"\u0275and",function(){return kt}),n.d(t,"\u0275ccf",function(){return on}),n.d(t,"\u0275cmf",function(){return so}),n.d(t,"\u0275crt",function(){return Je}),n.d(t,"\u0275did",function(){return hn}),n.d(t,"\u0275eld",function(){return Rt}),n.d(t,"\u0275elementEventFullName",function(){return ct}),n.d(t,"\u0275getComponentViewDefinitionFactory",function(){return an}),n.d(t,"\u0275inlineInterpolate",function(){return Ot}),n.d(t,"\u0275interpolate",function(){return St}),n.d(t,"\u0275mod",function(){return Ht}),n.d(t,"\u0275mpd",function(){return Vt}),n.d(t,"\u0275ncd",function(){return jn}),n.d(t,"\u0275nov",function(){return fn}),n.d(t,"\u0275pid",function(){return mn}),n.d(t,"\u0275prd",function(){return gn}),n.d(t,"\u0275pad",function(){return Un}),n.d(t,"\u0275pod",function(){return zn}),n.d(t,"\u0275ppd",function(){return Hn}),n.d(t,"\u0275qud",function(){return In}),n.d(t,"\u0275ted",function(){return $n}),n.d(t,"\u0275unv",function(){return Ze}),n.d(t,"\u0275vid",function(){return Qn}),n.d(t,"AUTO_STYLE",function(){return hu}),n.d(t,"trigger",function(){return vo}),n.d(t,"animate",function(){return yo}),n.d(t,"group",function(){return bo}),n.d(t,"sequence",function(){return wo}),n.d(t,"style",function(){return Co}),n.d(t,"state",function(){return _o}),n.d(t,"keyframes",function(){return xo}),n.d(t,"transition",function(){return Eo}),n.d(t,"\u0275x",function(){return co}),n.d(t,"\u0275y",function(){return lo}),n.d(t,"\u0275bc",function(){return mo}),n.d(t,"\u0275z",function(){return fo}),n.d(t,"\u0275bb",function(){return ho}),n.d(t,"\u0275ba",function(){return po}),n.d(t,"\u0275bd",function(){return go}),n.d(t,"\u0275w",function(){return uo}),n.d(t,"\u0275k",function(){return Le}),n.d(t,"\u0275l",function(){return Be}),n.d(t,"\u0275m",function(){return Fe}),n.d(t,"\u0275e",function(){return ka}),n.d(t,"\u0275f",function(){return $}),n.d(t,"\u0275g",function(){return hs}),n.d(t,"\u0275h",function(){return ms}),n.d(t,"\u0275i",function(){return ts}),n.d(t,"\u0275j",function(){return ss}),n.d(t,"\u0275b",function(){return Bi}),n.d(t,"\u0275c",function(){return Ni}),n.d(t,"\u0275d",function(){return F}),n.d(t,"\u0275n",function(){return ca}),n.d(t,"\u0275p",function(){return Q}),n.d(t,"\u0275o",function(){return J}),n.d(t,"\u0275s",function(){return ne}),n.d(t,"\u0275q",function(){return ee}),n.d(t,"\u0275r",function(){return te}),n.d(t,"\u0275a",function(){return d}),n.d(t,"\u0275t",function(){return vn}),n.d(t,"\u0275u",function(){return Ss});var So=n("6Xbx"),Oo=n("bKpL"),To=(n.n(Oo),n("LEug")),ko=(n.n(To),n("CE6k")),Ro=(n.n(ko),n("rlar")),Po=(n.n(Ro),function(){function e(e){this._desc=e}return e.prototype.toString=function(){return"Token "+this._desc},e}()),No=function(e){function t(t){return e.call(this,t)||this}return So.a(t,e),t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(Po),Ao="undefined"!=typeof window&&window,Io="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Do=void 0!==e&&e,Mo=Ao||Do||Io,Lo=null,Bo=0,Fo=Mo.Reflect,jo=new No("AnalyzeForEntryComponents"),Vo=d("Attribute",function(e){return{attributeName:e}}),Ho=function(){function e(){}return e}(),Uo=p("ContentChildren",function(e,t){return void 0===t&&(t={}),Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)},Ho),zo=p("ContentChild",function(e,t){return void 0===t&&(t={}),Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)},Ho),qo=p("ViewChildren",function(e,t){return void 0===t&&(t={}),Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)},Ho),Wo=p("ViewChild",function(e,t){return Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)},Ho),Go={};Go.OnPush=0,Go.Default=1,Go[Go.OnPush]="OnPush",Go[Go.Default]="Default";var Ko={};Ko.CheckOnce=0,Ko.Checked=1,Ko.CheckAlways=2,Ko.Detached=3,Ko.Errored=4,Ko.Destroyed=5,Ko[Ko.CheckOnce]="CheckOnce",Ko[Ko.Checked]="Checked",Ko[Ko.CheckAlways]="CheckAlways",Ko[Ko.Detached]="Detached",Ko[Ko.Errored]="Errored",Ko[Ko.Destroyed]="Destroyed";var $o=l("Directive",function(e){return void 0===e&&(e={}),e}),Yo=l("Component",function(e){return void 0===e&&(e={}),Object.assign({changeDetection:Go.Default},e)},$o),Xo=l("Pipe",function(e){return Object.assign({pure:!0},e)}),Zo=p("Input",function(e){return{bindingPropertyName:e}}),Jo=p("Output",function(e){return{bindingPropertyName:e}}),Qo=p("HostBinding",function(e){return{hostPropertyName:e}}),ei=p("HostListener",function(e,t){return{eventName:e,args:t}}),ti={name:"custom-elements"},ni={name:"no-errors-schema"},ri=l("NgModule",function(e){return e}),oi={};oi.Emulated=0,oi.Native=1,oi.None=2,oi[oi.Emulated]="Emulated",oi[oi.Native]="Native",oi[oi.None]="None";var ii=function(){function e(e){void 0===e&&(e={}),this.templateUrl=e.templateUrl,this.template=e.template,this.styleUrls=e.styleUrls,this.styles=e.styles,this.encapsulation=e.encapsulation,this.animations=e.animations,this.interpolation=e.interpolation}return e}(),ai=function(){function e(e){this.full=e}return Object.defineProperty(e.prototype,"major",{get:function(){return this.full.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minor",{get:function(){return this.full.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"patch",{get:function(){return this.full.split(".").slice(2).join(".")},enumerable:!0,configurable:!0}),e}(),si=new ai("4.4.7"),ui=d("Inject",function(e){return{token:e}}),ci=d("Optional"),li=l("Injectable"),fi=d("Self"),di=d("SkipSelf"),pi=d("Host"),hi=new Object,mi=hi,gi=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=hi),t===hi)throw new Error("No provider for "+a(e)+"!");return t},e}(),vi=function(){function e(){}return e.prototype.get=function(e,t){},e.prototype.get=function(e,t){},e}();vi.THROW_IF_NOT_FOUND=hi,vi.NULL=new gi;var yi="ngComponentType",bi="ngDebugContext",wi="ngOriginalError",Ci="ngErrorLogger",_i=function(){function e(e){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=b(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)},e.prototype._findContext=function(e){return e?v(e)?v(e):this._findContext(y(e)):null},e.prototype._findOriginalError=function(e){for(var t=y(e);t&&y(t);)t=y(t);return t},e}(),xi=function(){function e(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!")}return Object.defineProperty(e.prototype,"displayName",{get:function(){return a(this.token)},enumerable:!0,configurable:!0}),e.get=function(e){return Si.get(g(e))},Object.defineProperty(e,"numberOfKeys",{get:function(){return Si.numberOfKeys},enumerable:!0,configurable:!0}),e}(),Ei=function(){function e(){this._allKeys=new Map}return e.prototype.get=function(e){if(e instanceof xi)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new xi(e,xi.numberOfKeys);return this._allKeys.set(e,t),t},Object.defineProperty(e.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),e}(),Si=new Ei,Oi=Function,Ti=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,ki=function(){function e(e){this._reflect=e||Mo.Reflect}return e.prototype.isReflectionEnabled=function(){return!0},e.prototype.factory=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new(e.bind.apply(e,[void 0].concat(t)))}},e.prototype._zipTypesAndAnnotations=function(e,t){var n;n=void 0===e?new Array(t.length):new Array(e.length);for(var r=0;r<n.length;r++)void 0===e?n[r]=[]:e[r]!=Object?n[r]=[e[r]]:n[r]=[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n},e.prototype._ownParameters=function(e,t){if(Ti.exec(e.toString()))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var n=e.ctorParameters;if(n&&n!==t.ctorParameters){var r="function"==typeof n?n():n,o=r.map(function(e){return e&&e.type}),i=r.map(function(e){return e&&D(e.decorators)});return this._zipTypesAndAnnotations(o,i)}if(null!=this._reflect&&null!=this._reflect.getOwnMetadata){var i=this._reflect.getOwnMetadata("parameters",e),o=this._reflect.getOwnMetadata("design:paramtypes",e);if(o||i)return this._zipTypesAndAnnotations(o,i)}return new Array(e.length).fill(void 0)},e.prototype.parameters=function(e){if(!I(e))return[];var t=M(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]},e.prototype._ownAnnotations=function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?D(e.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",e):null},e.prototype.annotations=function(e){if(!I(e))return[];var t=M(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)},e.prototype._ownPropMetadata=function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var r=e.propDecorators,o={};return Object.keys(r).forEach(function(e){o[e]=D(r[e])}),o}return this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("propMetadata",e):null},e.prototype.propMetadata=function(e){if(!I(e))return{};var t=M(e),n={};if(t!==Object){var r=this.propMetadata(t);Object.keys(r).forEach(function(e){n[e]=r[e]})}var o=this._ownPropMetadata(e,t);return o&&Object.keys(o).forEach(function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,n[e]),t.push.apply(t,o[e]),n[e]=t}),n},e.prototype.hasLifecycleHook=function(e,t){return e instanceof Oi&&t in e.prototype},e.prototype.getter=function(e){return new Function("o","return o."+e+";")},e.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")},e.prototype.method=function(e){var t="if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);";return new Function("o","args",t)},e.prototype.importUri=function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+a(e)},e.prototype.resourceUri=function(e){return"./"+a(e)},e.prototype.resolveIdentifier=function(e,t,n,r){return r},e.prototype.resolveEnum=function(e,t){return e[t]},e}(),Ri=function(){function e(e){this.reflectionCapabilities=e}return e.prototype.updateCapabilities=function(e){this.reflectionCapabilities=e},e.prototype.factory=function(e){return this.reflectionCapabilities.factory(e)},e.prototype.parameters=function(e){return this.reflectionCapabilities.parameters(e)},e.prototype.annotations=function(e){return this.reflectionCapabilities.annotations(e)},e.prototype.propMetadata=function(e){return this.reflectionCapabilities.propMetadata(e)},e.prototype.hasLifecycleHook=function(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)},e.prototype.getter=function(e){return this.reflectionCapabilities.getter(e)},e.prototype.setter=function(e){return this.reflectionCapabilities.setter(e)},e.prototype.method=function(e){return this.reflectionCapabilities.method(e)},e.prototype.importUri=function(e){return this.reflectionCapabilities.importUri(e)},e.prototype.resourceUri=function(e){return this.reflectionCapabilities.resourceUri(e)},e.prototype.resolveIdentifier=function(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)},e.prototype.resolveEnum=function(e,t){return this.reflectionCapabilities.resolveEnum(e,t)},e}(),Pi=new Ri(new ki),Ni=function(){function e(e,t,n){this.key=e,this.optional=t,this.visibility=n}return e.fromKey=function(t){return new e(t,!1,null)},e}(),Ai=[],Ii=function(){function e(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n}return Object.defineProperty(e.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),e}(),Di=function(){function e(e,t){this.factory=e,this.dependencies=t}return e}(),Mi=new Object,Li=function(){function e(){}return e.resolve=function(e){return F(e)},e.resolveAndCreate=function(t,n){var r=e.resolve(t);return e.fromResolvedProviders(r,n)},e.fromResolvedProviders=function(e,t){return new Bi(e,t)},e.prototype.parent=function(){},e.prototype.resolveAndCreateChild=function(e){},e.prototype.createChildFromResolved=function(e){},e.prototype.resolveAndInstantiate=function(e){},e.prototype.instantiateResolved=function(e){},e.prototype.get=function(e,t){},e}(),Bi=function(){function e(e,t){this._constructionCounter=0,this._providers=e,this._parent=t||null;var n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=Mi}return e.prototype.get=function(e,t){return void 0===t&&(t=mi),this._getByKey(xi.get(e),null,t)},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),e.prototype.resolveAndCreateChild=function(e){var t=Li.resolve(e);return this.createChildFromResolved(t)},e.prototype.createChildFromResolved=function(t){var n=new e(t);return n._parent=this,n},e.prototype.resolveAndInstantiate=function(e){return this.instantiateResolved(Li.resolve([e])[0])},e.prototype.instantiateResolved=function(e){return this._instantiateProvider(e)},e.prototype.getProviderAtIndex=function(e){if(e<0||e>=this._providers.length)throw N(e);return this._providers[e]},e.prototype._new=function(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw T(this,e.key);return this._instantiateProvider(e)},e.prototype._getMaxNumberOfObjects=function(){return this.objs.length},e.prototype._instantiateProvider=function(e){if(e.multiProvider){for(var t=new Array(e.resolvedFactories.length),n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])},e.prototype._instantiate=function(e,t){var n,r=this,o=t.factory;try{n=t.dependencies.map(function(e){return r._getByReflectiveDependency(e)})}catch(t){throw t.addKey&&t.addKey(this,e.key),t}var i;try{i=o.apply(void 0,n)}catch(t){throw k(this,t,t.stack,e.key)}return i},e.prototype._getByReflectiveDependency=function(e){return this._getByKey(e.key,e.visibility,e.optional?null:mi)},e.prototype._getByKey=function(e,t,n){return e===Fi?this:t instanceof fi?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)},e.prototype._getObjByKeyId=function(e){for(var t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===Mi&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return Mi},e.prototype._throwOrNull=function(e,t){if(t!==mi)return t;throw O(this,e)},e.prototype._getByKeySelf=function(e,t){var n=this._getObjByKeyId(e.id);return n!==Mi?n:this._throwOrNull(e,t)},e.prototype._getByKeyDefault=function(t,n,r){var o;for(o=r instanceof di?this._parent:this;o instanceof e;){var i=o,a=i._getObjByKeyId(t.id);if(a!==Mi)return a;o=i._parent}return null!==o?o.get(t.token,n):this._throwOrNull(t,n)},Object.defineProperty(e.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+W(this,function(e){return' "'+e.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.displayName},e}(),Fi=xi.get(vi),ji=new No("Application Initializer"),Vi=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this._done=!1,this._donePromise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],n=function(){e._done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();G(o)&&t.push(o)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}},Object.defineProperty(e.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),e}();Vi.decorators=[{type:li}],Vi.ctorParameters=function(){return[{type:Array,decorators:[{type:ui,args:[ji]},{type:ci}]}]};var Hi=new No("AppId"),Ui={provide:Hi,useFactory:$,deps:[]},zi=new No("Platform Initializer"),qi=new No("Platform ID"),Wi=new No("appBootstrapListener"),Gi=new No("Application Packages Root URL"),Ki=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e}();Ki.decorators=[{type:li}],Ki.ctorParameters=function(){return[]};var $i=function(){function e(e,t){this.ngModuleFactory=e,this.componentFactories=t}return e}(),Yi=function(){function e(){}return e.prototype.compileModuleSync=function(e){throw X()},e.prototype.compileModuleAsync=function(e){throw X()},e.prototype.compileModuleAndAllComponentsSync=function(e){throw X()},e.prototype.compileModuleAndAllComponentsAsync=function(e){throw X()},e.prototype.getNgContentSelectors=function(e){throw X()},e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e}();Yi.decorators=[{type:li}],Yi.ctorParameters=function(){return[]};var Xi=new No("compilerOptions"),Zi=function(){function e(){}return e.prototype.createCompiler=function(e){},e}(),Ji=function(){function e(){}return e.prototype.location=function(){},e.prototype.injector=function(){},e.prototype.instance=function(){},e.prototype.hostView=function(){},e.prototype.changeDetectorRef=function(){},e.prototype.componentType=function(){},e.prototype.destroy=function(){},e.prototype.onDestroy=function(e){},e}(),Qi=function(){function e(){}return e.prototype.selector=function(){},e.prototype.componentType=function(){},e.prototype.ngContentSelectors=function(){},e.prototype.inputs=function(){},e.prototype.outputs=function(){},e.prototype.create=function(e,t,n,r){},e}(),ea="ngComponent",ta=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw Z(e)},e}(),na=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){},e}();na.NULL=new ta;var ra,oa,ia=function(){function e(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(var r=0;r<e.length;r++){var o=e[r];this._factories.set(o.componentType,o)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Z(e);return new aa(t,this._ngModule)},e}(),aa=function(e){function t(t,n){var r=e.call(this)||this;return r.factory=t,r.ngModule=n,r}return So.a(t,e),Object.defineProperty(t.prototype,"selector",{get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngContentSelectors",{get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)},t}(Qi),sa=function(){function e(){}return e.prototype.injector=function(){},e.prototype.componentFactoryResolver=function(){},e.prototype.instance=function(){},e.prototype.destroy=function(){},e.prototype.onDestroy=function(e){},e}(),ua=function(){function e(){}return e.prototype.moduleType=function(){},e.prototype.create=function(e){},e}(),ca=J(),la=ca?Q:function(e,t){return re},fa=ca?ee:function(e,t){return t},da=ca?te:function(e,t){return null},pa=ca?ne:function(e){return null},ha=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__isAsync=t,n}return So.a(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,r){var o,i=function(e){return null},a=function(){return null};return t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(i=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(i=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),e.prototype.subscribe.call(this,o,i,a)},t}(Ro.Subject),ma=function(){function e(e){var t=e.enableLongStackTrace,n=void 0!==t&&t;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ha(!1),this.onMicrotaskEmpty=new ha(!1),this.onStable=new ha(!1),this.onError=new ha(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched();var r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.wtfZoneSpec&&(r._inner=r._inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),ie(r)}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype.run=function(e){return this._inner.run(e)},e.prototype.runGuarded=function(e){return this._inner.runGuarded(e)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}(),ga=function(){function e(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){ma.assertNotInAngularZone(),o(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;this.isStable()?o(function(){for(;0!==e._callbacks.length;)e._callbacks.pop()(e._didWork);e._didWork=!1}):this._didWork=!0},e.prototype.whenStable=function(e){this._callbacks.push(e),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findBindings=function(e,t,n){return[]},e.prototype.findProviders=function(e,t,n){return[]},e}();ga.decorators=[{type:li}],ga.ctorParameters=function(){return[{type:ma}]};var va=function(){function e(){this._applications=new Map,wa.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),wa.findTestabilityInTree(this,e,t)},e}();va.decorators=[{type:li}],va.ctorParameters=function(){return[]};var ya,ba=function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,n){return null},e}(),wa=new ba,Ca=!0,_a=!1,xa=new No("AllowMultipleToken"),Ea=function(){function e(e,t){this.name=e,this.token=t}return e}(),Sa=function(){function e(){}return e.prototype.bootstrapModuleFactory=function(e){},e.prototype.bootstrapModule=function(e,t){},e.prototype.onDestroy=function(e){},e.prototype.injector=function(){},e.prototype.destroy=function(){},e.prototype.destroyed=function(){},e}(),Oa=function(e){function t(t){var n=e.call(this)||this;return n._injector=t,n._modules=[],n._destroyListeners=[],n._destroyed=!1,n}return So.a(t,e),t.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},t.prototype.bootstrapModuleFactory=function(e){return this._bootstrapModuleFactoryWithZone(e)},t.prototype._bootstrapModuleFactoryWithZone=function(e,t){var n=this;return t||(t=new ma({enableLongStackTrace:le()})),t.run(function(){var r=Li.resolveAndCreate([{provide:ma,useValue:t}],n.injector),o=e.create(r),i=o.injector.get(_i,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.onDestroy(function(){return ve(n._modules,o)}),t.runOutsideAngular(function(){return t.onError.subscribe({next:function(e){i.handleError(e)}})}),ge(i,t,function(){var e=o.injector.get(Vi);return e.runInitializers(),e.donePromise.then(function(){return n._moduleDoBootstrap(o),o})})})},t.prototype.bootstrapModule=function(e,t){return void 0===t&&(t=[]),this._bootstrapModuleWithZone(e,t)},t.prototype._bootstrapModuleWithZone=function(e,t,n){var r=this;return void 0===t&&(t=[]),this.injector.get(Zi).createCompiler(Array.isArray(t)?t:[t]).compileModuleAsync(e).then(function(e){return r._bootstrapModuleFactoryWithZone(e,n)})},t.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(Ta);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+a(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},t}(Sa);Oa.decorators=[{type:li}],Oa.ctorParameters=function(){return[{type:vi}]};var Ta=function(){function e(){}return e.prototype.bootstrap=function(e,t){},e.prototype.tick=function(){},e.prototype.componentTypes=function(){},e.prototype.components=function(){},e.prototype.attachView=function(e){},e.prototype.detachView=function(e){},e.prototype.viewCount=function(){},e.prototype.isStable=function(){},e}(),ka=function(e){function t(t,n,r,i,a,s){var u=e.call(this)||this;u._zone=t,u._console=n,u._injector=r,u._exceptionHandler=i,u._componentFactoryResolver=a,u._initStatus=s,u._bootstrapListeners=[],u._rootComponents=[],u._rootComponentTypes=[],u._views=[],u._runningTick=!1,u._enforceNoNewChanges=!1,u._stable=!0,u._enforceNoNewChanges=le(),u._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}});var c=new Oo.Observable(function(e){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular(function(){e.next(u._stable),e.complete()})}),l=new Oo.Observable(function(e){var t;u._zone.runOutsideAngular(function(){t=u._zone.onStable.subscribe(function(){ma.assertNotInAngularZone(),o(function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,e.next(!0))})})});var n=u._zone.onUnstable.subscribe(function(){ma.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});return u._isStable=Object(To.merge)(c,ko.share.call(l)),u}return So.a(t,e),t.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},t.prototype.detachView=function(e){var t=e;ve(this._views,t),t.detachFromAppRef()},t.prototype.bootstrap=function(e,t){var n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var r;r=e instanceof Qi?e:this._componentFactoryResolver.resolveComponentFactory(e),this._rootComponentTypes.push(r.componentType);var o=r instanceof aa?null:this._injector.get(sa),i=t||r.selector,a=r.create(vi.NULL,[],i,o);a.onDestroy(function(){n._unloadComponent(a)});var s=a.injector.get(ga,null);return s&&a.injector.get(va).registerApplication(a.location.nativeElement,s),this._loadComponent(a),le()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),a},t.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this._rootComponents.push(e),this._injector.get(Wi,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})},t.prototype._unloadComponent=function(e){this.detachView(e.hostView),ve(this._rootComponents,e)},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(e){return e.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,fa(n)}},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),t}(Ta);ka._tickScope=la("ApplicationRef#tick()"),ka.decorators=[{type:li}],ka.ctorParameters=function(){return[{type:ma},{type:Ki},{type:vi},{type:_i},{type:na},{type:Vi}]};var Ra=function(){function e(e,t,n,r,o,i){this.id=e,this.templateUrl=t,this.slotCount=n,this.encapsulation=r,this.styles=o,this.animations=i}return e}(),Pa=function(){function e(){}return e.prototype.injector=function(){},e.prototype.component=function(){},e.prototype.providerTokens=function(){},e.prototype.references=function(){},e.prototype.context=function(){},e.prototype.source=function(){},e}(),Na=function(){function e(){}return e.prototype.selectRootElement=function(e,t){},e.prototype.createElement=function(e,t,n){},e.prototype.createViewRoot=function(e){},e.prototype.createTemplateAnchor=function(e,t){},e.prototype.createText=function(e,t,n){},e.prototype.projectNodes=function(e,t){},e.prototype.attachViewAfter=function(e,t){},e.prototype.detachView=function(e){},e.prototype.destroyView=function(e,t){},e.prototype.listen=function(e,t,n){},e.prototype.listenGlobal=function(e,t,n){},e.prototype.setElementProperty=function(e,t,n){},e.prototype.setElementAttribute=function(e,t,n){},e.prototype.setBindingDebugInfo=function(e,t,n){},e.prototype.setElementClass=function(e,t,n){},e.prototype.setElementStyle=function(e,t,n){},e.prototype.invokeElementMethod=function(e,t,n){},e.prototype.setText=function(e,t){},e.prototype.animate=function(e,t,n,r,o,i,a){},e}(),Aa=(new No("Renderer2Interceptor"),function(){function e(){}return e.prototype.renderComponent=function(e){},e}()),Ia=function(){function e(){}return e.prototype.createRenderer=function(e,t){},e.prototype.begin=function(){},e.prototype.end=function(){},e.prototype.whenRenderingDone=function(){},e}(),Da={};Da.Important=1,Da.DashCase=2,Da[Da.Important]="Important",Da[Da.DashCase]="DashCase";var Ma=function(){function e(){}return e.prototype.data=function(){},e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){},e.prototype.createComment=function(e){},e.prototype.createText=function(e){},e.prototype.appendChild=function(e,t){},e.prototype.insertBefore=function(e,t,n){},e.prototype.removeChild=function(e,t){},e.prototype.selectRootElement=function(e){},e.prototype.parentNode=function(e){},e.prototype.nextSibling=function(e){},e.prototype.setAttribute=function(e,t,n,r){},e.prototype.removeAttribute=function(e,t,n){},e.prototype.addClass=function(e,t){},e.prototype.removeClass=function(e,t){},e.prototype.setStyle=function(e,t,n,r){},e.prototype.removeStyle=function(e,t,n){},e.prototype.setProperty=function(e,t,n){},e.prototype.setValue=function(e,t){},e.prototype.listen=function(e,t,n){},e}(),La=function(){function e(e){this.nativeElement=e}return e}(),Ba=function(){function e(){}return e.prototype.load=function(e){},e}(),Fa=new Map,ja=function(){function e(){this._dirty=!0,this._results=[],this._emitter=new ha}return Object.defineProperty(e.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[r()]=function(){return this._results[r()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=we(e),this._dirty=!1},e.prototype.notifyOnChanges=function(){this._emitter.emit(this)},e.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._emitter.complete(),this._emitter.unsubscribe()},e}(),Va=function(){function e(){}return e}(),Ha={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ua=function(){function e(e,t){this._compiler=e,this._config=t||Ha}return e.prototype.load=function(e){return this._compiler instanceof Yi?this.loadFactory(e):this.loadAndCompile(e)},e.prototype.loadAndCompile=function(e){var t=this,r=e.split("#"),o=r[0],i=r[1];return void 0===i&&(i="default"),n("gFIY")(o).then(function(e){return e[i]}).then(function(e){return Ce(e,o,i)}).then(function(e){return t._compiler.compileModuleAsync(e)})},e.prototype.loadFactory=function(e){var t=e.split("#"),r=t[0],o=t[1],i="NgFactory";return void 0===o&&(o="default",i=""),n("gFIY")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[o+i]}).then(function(e){return Ce(e,r,o)})},e}();Ua.decorators=[{type:li}],Ua.ctorParameters=function(){return[{type:Yi},{type:Va,decorators:[{type:ci}]}]};var za=function(){function e(){}return e.prototype.elementRef=function(){},e.prototype.createEmbeddedView=function(e){},e}(),qa=function(){function e(){}return e.prototype.element=function(){},e.prototype.injector=function(){},e.prototype.parentInjector=function(){},e.prototype.clear=function(){},e.prototype.get=function(e){},e.prototype.length=function(){},e.prototype.createEmbeddedView=function(e,t,n){},e.prototype.createComponent=function(e,t,n,r,o){},e.prototype.insert=function(e,t){},e.prototype.move=function(e,t){},e.prototype.indexOf=function(e){},e.prototype.remove=function(e){},e.prototype.detach=function(e){},e}(),Wa=function(){function e(){}return e.prototype.markForCheck=function(){},e.prototype.detach=function(){},e.prototype.detectChanges=function(){},e.prototype.checkNoChanges=function(){},e.prototype.reattach=function(){},e}(),Ga=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return So.a(t,e),t.prototype.destroy=function(){},t.prototype.destroyed=function(){},t.prototype.onDestroy=function(e){},t}(Wa),Ka=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return So.a(t,e),t.prototype.context=function(){},t.prototype.rootNodes=function(){},t}(Ga),$a=function(){function e(e,t){this.name=e,this.callback=t}return e}(),Ya=function(){function e(e,t,n){this._debugContext=n,this.nativeNode=e,t&&t instanceof Xa?t.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return"Deprecated since v4"},enumerable:!0,configurable:!0}),e}(),Xa=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=t,o}return So.a(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var n=this,r=this.childNodes.indexOf(e);-1!==r&&((o=this.childNodes).splice.apply(o,[r+1,0].concat(t)),t.forEach(function(e){e.parent&&e.parent.removeChild(e),e.parent=n}));var o},t.prototype.insertBefore=function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return xe(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return Ee(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},t}(Ya),Za=new Map,Ja=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e}(),Qa=function(){function e(){this.hasWrappedValue=!1}return e.prototype.unwrap=function(e){return e instanceof Ja?(this.hasWrappedValue=!0,e.wrapped):e},e.prototype.reset=function(){this.hasWrappedValue=!1},e}(),es=function(){function e(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}return e.prototype.isFirstChange=function(){return this.firstChange},e}(),ts=function(){function e(){}return e.prototype.supports=function(e){return Re(e)},e.prototype.create=function(e,t){return new rs(t||e)},e}(),ns=function(e,t){return t},rs=function(){function e(e){this._length=0,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ns}return Object.defineProperty(e.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,n=this._removalsHead,r=0,o=null;t||n;){var i=!n||t&&t.currentIndex<Ie(n,r,o)?t:n,a=Ie(i,r,o),s=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{o||(o=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var f=l<o.length?o[l]:o[l]=0,d=f+l;c<=d&&d<u&&(o[l]=f+1)}var p=i.previousIndex;o[p]=c-u}}a!==s&&e(i,a,s)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!Re(e))throw new Error("Error trying to diff '"+a(e)+"'. Only arrays and iterables are allowed");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n,r,o,a=this._itHead,s=!1;if(Array.isArray(e)){this._length=e.length;for(var u=0;u<this._length;u++)r=e[u],o=this._trackByFn(u,r),null!==a&&i(a.trackById,o)?(s&&(a=this._verifyReinsertion(a,r,o,u)),i(a.item,r)||this._addIdentityChange(a,r)):(a=this._mismatch(a,r,o,u),s=!0),a=a._next}else n=0,Ne(e,function(e){o=t._trackByFn(n,e),null!==a&&i(a.trackById,o)?(s&&(a=t._verifyReinsertion(a,e,o,n)),i(a.item,e)||t._addIdentityChange(a,e)):(a=t._mismatch(a,e,o,n),s=!0),a=a._next,n++}),this._length=n;return this._truncate(a),this._collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,n,r){var o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),e=null===this._linkedRecords?null:this._linkedRecords.get(n,r),null!==e?(i(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null),null!==e?(i(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):e=this._addAfter(new os(t,n),o,r)),e},e.prototype._verifyReinsertion=function(e,t,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new as),this._linkedRecords.put(e),e.currentIndex=n,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new as),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e},e.prototype.toString=function(){var e=[];this.forEachItem(function(t){return e.push(t)});var t=[];this.forEachPreviousItem(function(e){return t.push(e)});var n=[];this.forEachAddedItem(function(e){return n.push(e)});var r=[];this.forEachMovedItem(function(e){return r.push(e)});var o=[];this.forEachRemovedItem(function(e){return o.push(e)});var i=[];return this.forEachIdentityChange(function(e){return i.push(e)}),"collection: "+e.join(", ")+"\nprevious: "+t.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+r.join(", ")+"\nremovals: "+o.join(", ")+"\nidentityChanges: "+i.join(", ")+"\n"},e}(),os=function(){function e(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return e.prototype.toString=function(){return this.previousIndex===this.currentIndex?a(this.item):a(this.item)+"["+a(this.previousIndex)+"->"+a(this.currentIndex)+"]"},e}(),is=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&i(n.trackById,e))return n;return null},e.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},e}(),as=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,n=this.map.get(t);n||(n=new is,this.map.set(t,n)),n.add(e)},e.prototype.get=function(e,t){var n=e,r=this.map.get(n);return r?r.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e.prototype.toString=function(){return"_DuplicateMap("+a(this.map)+")"},e}(),ss=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||Ae(e)},e.prototype.create=function(e){return new us},e}(),us=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||Ae(e)))throw new Error("Error trying to diff '"+a(e)+"'. Only maps and objects are allowed")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var o=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new cs(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){i(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})},e}(),cs=function(){function e(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}return e}(),ls=function(){function e(e){this.factories=e}return e.create=function(t,n){if(null!=n){var r=n.factories.slice();return t=t.concat(r),new e(t)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new di,new ci]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(null!=t)return t;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+De(e)+"'")},e}(),fs=function(){function e(e){this.factories=e}return e.create=function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new di,new ci]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e}(),ds=[new ss],ps=[new ts],hs=new ls(ps),ms=new fs(ds),gs=[{provide:qi,useValue:"unknown"},Oa,{provide:Sa,useExisting:Oa},{provide:Ri,useFactory:Me,deps:[]},va,Ki],vs=de(null,"core",gs),ys=new No("LocaleId"),bs=new No("Translations"),ws=new No("TranslationsFormat"),Cs={};Cs.Error=0,Cs.Warning=1,Cs.Ignore=2,Cs[Cs.Error]="Error",Cs[Cs.Warning]="Warning",Cs[Cs.Ignore]="Ignore";var _s=function(){function e(e){}return e}();_s.decorators=[{type:ri,args:[{providers:[ka,{provide:Ta,useExisting:ka},Vi,Yi,Ui,{provide:ls,useFactory:Le},{provide:fs,useFactory:Be},{provide:ys,useFactory:Fe,deps:[[new ui(ys),new ci,new di]]}]}]}],_s.ctorParameters=function(){return[{type:Ta}]};var xs={};xs.NONE=0,xs.HTML=1,xs.STYLE=2,xs.SCRIPT=3,xs.URL=4,xs.RESOURCE_URL=5,xs[xs.NONE]="NONE",xs[xs.HTML]="HTML",xs[xs.STYLE]="STYLE",xs[xs.SCRIPT]="SCRIPT",xs[xs.URL]="URL",xs[xs.RESOURCE_URL]="RESOURCE_URL";var Es=function(){function e(){}return e.prototype.sanitize=function(e,t){},e}(),Ss=function(){function e(){}return e.prototype.view=function(){},e.prototype.nodeIndex=function(){},e.prototype.injector=function(){},e.prototype.component=function(){},e.prototype.providerTokens=function(){},e.prototype.references=function(){},e.prototype.context=function(){},e.prototype.componentRenderElement=function(){},e.prototype.renderNode=function(){},e.prototype.logError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e}(),Os={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,clearProviderOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Ts=function(){},ks=new Map,Rs="$$undefined",Ps="$$empty",Ns=0,As=new WeakMap,Is=/^:([^:]+):(.+)$/,Ds=[],Ms={},Ls=new Object,Bs=Xe(vi),Fs=Xe(sa),js=new Object,Vs=function(e){function t(t,n,r,o,i,a){var s=e.call(this)||this;return s.selector=t,s.componentType=n,s._inputs=o,s._outputs=i,s.ngContentSelectors=a,s.viewDefFactory=r,s}return So.a(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){var e=[],t=this._inputs;for(var n in t){var r=t[n];e.push({propName:n,templateName:r})}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){var e=[];for(var t in this._outputs){var n=this._outputs[t];e.push({propName:t,templateName:n})}return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var o=gt(this.viewDefFactory),i=o.nodes[0].element.componentProvider.nodeIndex,a=Os.createRootView(e,t||[],n,o,r,js),s=He(a,i).instance;return n&&a.renderer.setAttribute(Ve(a,0).renderElement,"ng-version",si.full),new Hs(a,new zs(a),s)},t}(Qi),Hs=function(e){function t(t,n,r){var o=e.call(this)||this;return o._view=t,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o}return So.a(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return new La(Ve(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Ws(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instance",{get:function(){return this._component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostView",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeDetectorRef",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(Ji),Us=function(){function e(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"element",{get:function(){return new La(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Ws(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=st(e),e=e.parent;return e?new Ws(e,t):new Ws(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length,t=e-1;t>=0;t--){var n=Zt(this._data,t);Os.destroyView(n)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var n=new zs(t);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(e.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r},e.prototype.createComponent=function(e,t,n,r,o){var i=n||this.parentInjector;o||e instanceof aa||(o=i.get(sa));var a=e.create(i,r,void 0,o);return this.insert(a.hostView,t),a},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=e,r=n._view;return $t(this._view,this._data,t,r),n.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this._embeddedViews.indexOf(e._view);return Qt(this._data,n,t),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=Zt(this._data,e);t&&Os.destroyView(t)},e.prototype.detach=function(e){var t=Zt(this._data,e);return t?new zs(t):null},e}(),zs=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return vt(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){rt(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin(),Os.checkAndUpdateView(this._view),e.end&&e.end()},e.prototype.checkNoChanges=function(){Os.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Os.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,tn(this._view),Os.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e}(),qs=function(e){function t(t,n){var r=e.call(this)||this;return r._parentView=t,r._def=n,r}return So.a(t,e),t.prototype.createEmbeddedView=function(e){return new zs(Os.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,"elementRef",{get:function(){return new La(Ve(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(za),Ws=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){void 0===t&&(t=vi.THROW_IF_NOT_FOUND);var n=!!this.elDef&&0!=(33554432&this.elDef.flags);return Os.resolveDep(this.view,this.elDef,n,{flags:0,token:e,tokenKey:Xe(e)},t)},e}(),Gs=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var n=xt(t),r=n[0],o=n[1],i=this.delegate.createElement(o,r);return e&&this.delegate.appendChild(e,i),i},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n},e.prototype.projectNodes=function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])},e.prototype.attachViewAfter=function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),o=0;o<t.length;o++)this.delegate.insertBefore(n,t[o],r)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},e.prototype.destroyView=function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.listenGlobal=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.setElementProperty=function(e,t,n){this.delegate.setProperty(e,t,n)},e.prototype.setElementAttribute=function(e,t,n){var r=xt(t),o=r[0],i=r[1];null!=n?this.delegate.setAttribute(e,i,n,o):this.delegate.removeAttribute(e,i,o)},e.prototype.setBindingDebugInfo=function(e,t,n){},e.prototype.setElementClass=function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,n){e[t].apply(e,n)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},e}(),Ks=function(){function e(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,Ut(this)}return e.prototype.get=function(e,t){return void 0===t&&(t=vi.THROW_IF_NOT_FOUND),zt(this,{token:e,tokenKey:Xe(e),flags:0},t)},Object.defineProperty(e.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(na)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+a(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,Kt(this,131072),this._destroyListeners.forEach(function(e){return e()})},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),$s=Xe(Na),Ys=Xe(Ma),Xs=Xe(La),Zs=Xe(qa),Js=Xe(za),Qs=Xe(Wa),eu=Xe(vi),tu={},nu={};nu.CreateViewNodes=0,nu.CheckNoChanges=1,nu.CheckNoChangesProjectedViews=2,nu.CheckAndUpdate=3,nu.CheckAndUpdateProjectedViews=4,nu.Destroy=5,nu[nu.CreateViewNodes]="CreateViewNodes",nu[nu.CheckNoChanges]="CheckNoChanges",nu[nu.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",nu[nu.CheckAndUpdate]="CheckAndUpdate",nu[nu.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",nu[nu.Destroy]="Destroy";var ru=!1,ou=new Map,iu={};iu.create=0,iu.detectChanges=1,iu.checkNoChanges=2,iu.destroy=3,iu.handleEvent=4,iu[iu.create]="create",iu[iu.detectChanges]="detectChanges",iu[iu.checkNoChanges]="checkNoChanges",iu[iu.destroy]="destroy",iu[iu.handleEvent]="handleEvent";var au,su,uu,cu=/([A-Z])/g,lu=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var n=this.nodeDef,r=e;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=st(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(e.prototype,"elOrCompView",{get:function(){return Ve(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return ln(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e={};if(this.elDef){no(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&no(this.elView,n,e),t+=n.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){var e=to(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?ut(this.view,this.nodeDef):ut(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o;2&this.nodeDef.flags?(r=this.view.def,o=this.nodeDef.nodeIndex):(r=this.elView.def,o=this.elDef.nodeIndex);var i=eo(r,o),a=-1,s=function(){return a++,a===i?(n=e.error).bind.apply(n,[e].concat(t)):Ts;var n};r.factory(s),a<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,t))},e}(),fu=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new du(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),du=function(){function e(e){this.delegate=e}return Object.defineProperty(e.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),e.prototype.destroyNode=function(e){Te(Se(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var n=this.delegate.createElement(e,t),r=oo();if(r){var o=new Xa(n,null,r);o.name=e,Oe(o)}return n},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),n=oo();return n&&Oe(new Ya(t,null,n)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),n=oo();return n&&Oe(new Ya(t,null,n)),t},e.prototype.appendChild=function(e,t){var n=Se(e),r=Se(t);n&&r&&n instanceof Xa&&n.addChild(r),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,n){var r=Se(e),o=Se(t),i=Se(n);r&&o&&r instanceof Xa&&r.insertBefore(i,o),this.delegate.insertBefore(e,t,n)},e.prototype.removeChild=function(e,t){var n=Se(e),r=Se(t);n&&r&&n instanceof Xa&&n.removeChild(r),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e){var t=this.delegate.selectRootElement(e),n=oo();return n&&Oe(new Xa(t,null,n)),t},e.prototype.setAttribute=function(e,t,n,r){var o=Se(e);if(o&&o instanceof Xa){var i=r?r+":"+t:t;o.attributes[i]=n}this.delegate.setAttribute(e,t,n,r)},e.prototype.removeAttribute=function(e,t,n){var r=Se(e);if(r&&r instanceof Xa){var o=n?n+":"+t:t;r.attributes[o]=null}this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){var n=Se(e);n&&n instanceof Xa&&(n.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var n=Se(e);n&&n instanceof Xa&&(n.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,r){var o=Se(e);o&&o instanceof Xa&&(o.styles[t]=n),this.delegate.setStyle(e,t,n,r)},e.prototype.removeStyle=function(e,t,n){var r=Se(e);r&&r instanceof Xa&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){var r=Se(e);r&&r instanceof Xa&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)},e.prototype.listen=function(e,t,n){if("string"!=typeof e){var r=Se(e);r&&r.listeners.push(new $a(t,n))}return this.delegate.listen(e,t,n)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}(),pu=function(e){function t(t,n,r){var o=e.call(this)||this;return o.moduleType=t,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return So.a(t,e),t.prototype.create=function(e){Sr();var t=gt(this._ngModuleDefFactory);return Os.createNgModuleRef(this.moduleType,e||vi.NULL,this._bootstrapComponents,t)},t}(ua),hu="*"}.call(t,n("fRUx"))},"0pMh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fRX7");t.FlashMessagesModule=r.FlashMessagesModule;var o=n("G1/N");t.FlashMessagesService=o.FlashMessagesService},"1/Co":function(e,t){!function(){!function(){"use strict";function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return Oe.each(e,function(e,n){r[e]=F.constant(t[n])}),r}}function t(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return ze.validateStrArr("required",e),ze.validateStrArr("optional",t),ze.checkDupes(n),function(r){var o=Le.keys(r);Oe.forall(e,function(e){return Oe.contains(o,e)})||ze.reqMessage(e,o);var i=Oe.filter(o,function(e){return!Oe.contains(n,e)});i.length>0&&ze.unsuppMessage(i);var a={};return Oe.each(e,function(e){a[e]=F.constant(r[e])}),Oe.each(t,function(e){a[e]=F.constant(Object.prototype.hasOwnProperty.call(r,e)?W.some(r[e]):W.none())}),a}}function n(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=r||i||a&&!0===/mobile/i.test(n),u=e.isiOS()||e.isAndroid(),c=u&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:F.constant(r),isiPhone:F.constant(o),isTablet:F.constant(s),isPhone:F.constant(c),isTouch:F.constant(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:F.constant(l)}}function r(e,t,n,r,o){return e(n,r)?W.some(n):$.isFunction(o)&&o(n)?W.none():t(n,r,o)}function o(){var e=function(e){return lt.fromDom(e.dom().cloneNode(!1))},t=function(e){return!!_r.isElement(e)&&("body"===_r.name(e)||Oe.contains(ia,_r.name(e)))},n=function(e){return!!_r.isElement(e)&&Oe.contains(["br","img","hr","input"],_r.name(e))},r=function(e,t){return e.dom().compareDocumentPosition(t.dom())},o=function(e,t){var n=Ir.clone(e);Ir.setAll(t,n)};return{up:F.constant({selector:co.ancestor,closest:co.closest,predicate:no.ancestor,all:lr.parents}),down:F.constant({selector:Yr.descendants,predicate:zr.descendants}),styles:F.constant({get:Qo.get,getRaw:Qo.getRaw,set:Qo.set,remove:Qo.remove}),attrs:F.constant({get:Ir.get,set:Ir.set,remove:Ir.remove,copyTo:o}),insert:F.constant({before:ai.before,after:ai.after,afterAll:fi.after,append:ai.append,appendAll:fi.append,prepend:ai.prepend,wrap:ai.wrap}),remove:F.constant({unwrap:mi.unwrap,remove:mi.remove}),create:F.constant({nu:lt.fromTag,clone:e,text:lt.fromText}),query:F.constant({comparePosition:r,prevSibling:lr.prevSibling,nextSibling:lr.nextSibling}),property:F.constant({children:lr.children,name:_r.name,parent:lr.parent,isText:_r.isText,isComment:_r.isComment,isElement:_r.isElement,getText:Di.get,setText:Di.set,isBoundary:t,isEmptyTag:n}),eq:zn.eq,is:zn.is}}function i(e,t){var n=function(t,n){if(!$.isNumber(n)&&!n.match(/^[0-9]+$/))throw e+".set accepts only positive integer values. Value was "+n;var r=t.dom();Lo.isSupported(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=Qo.get(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return Oe.foldl(t,function(t,n){var r=Qo.get(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}function a(e){var t=function(t){return e(t).isRtl()?Xu.rtl:Xu.ltr},n=function(e,n){return t(n).delta(e,n)},r=function(e,n){return t(n).positions(e,n)};return{delta:n,edge:function(e){return t(e).edge(e)},positions:r}}function s(e,t,n){var r=n||!1,o=function(){t(),r=!0},i=function(){e(),r=!1};return{on:o,off:i,toggle:function(){(r?i:o)()},isOn:function(){return r}}}function u(e,t,n,r){function o(e,t,n){n&&a.setAttrib(e,t,n)}function i(e,t,n){n&&a.setStyle(e,t,n)}var a=e.dom;mh.updateStyleField(e,r);var s=r.control.rootControl.toJSON();e.undoManager.transact(function(){oh.each(t,function(t){o(t,"scope",s.scope),o(t,"style",s.style),o(t,"class",s.class),i(t,"height",Cp(s.height)),s.type!==t.parentNode.nodeName.toLowerCase()&&_h(e.dom,t,s.type),s.align!==n.align&&(lh.unApplyAlign(e,t),lh.applyAlign(e,t,s.align))}),e.focus()})}function c(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)e.setStyle(t,n,r);else if(t.children)for(var o=0;o<t.children.length;o++)c(e,t.children[o],n,r)}function l(e){var t=qe.immutable.apply(null,e),n=[];return{bind:function(e){if(void 0===e)throw"Event bind error: undefined handler";n.push(e)},unbind:function(e){n=Oe.filter(n,function(t){return t!==e})},trigger:function(){var e=t.apply(null,arguments);Oe.each(n,function(t){t(e)})}}}function f(e){var t=Fc.merge({layerClass:um.resolve("blocker")},e),n=lt.fromTag("div");return Ir.set(n,"role","presentation"),Qo.setAll(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Hl.add(n,um.resolve("blocker")),Hl.add(n,t.layerClass),{element:function(){return n},destroy:function(){mi.remove(n)}}}function d(){var e=W.none(),t=function(){e=W.none()},n=function(t,n){var r=e.map(function(e){return t.compare(e,n)});return e=W.some(n),r},r=function(e,t){t.extract(e).each(function(e){n(t,e).each(function(e){o.trigger.move(e)})})},o=nm.create({move:l(["info"])});return{onEvent:r,reset:t,events:o.registry}}function p(e){return{onEvent:function(e,t){},reset:F.noop}}function h(){var e=p(),t=d(),n=e,r=function(){n.reset(),n=t},o=function(){n.reset(),n=e},i=function(e,t){n.onEvent(e,t)};return{on:r,off:o,isOn:function(){return n===t},onEvent:i,events:t.events}}function m(){var e=nm.create({drag:l(["xDelta","yDelta"])});return{mutate:function(t,n){e.trigger.drag(t,n)},events:e.registry}}function g(){var e=nm.create({drag:l(["xDelta","yDelta","target"])}),t=W.none(),n=m();return n.events.drag.bind(function(n){t.each(function(t){e.trigger.drag(n.xDelta(),n.yDelta(),t)})}),{assign:function(e){t=W.some(e)},get:function(){return t},mutate:n.mutate,events:e.registry}}function v(e,t,n){var r=g(),o=Am.transform(r,{}),i=W.none(),a=function(e,t){return W.from(Ir.get(e,t))};r.events.drag.bind(function(e){a(e.target(),"data-row").each(function(t){var n=cd.getInt(e.target(),"top");Qo.set(e.target(),"top",n+e.yDelta()+"px")}),a(e.target(),"data-column").each(function(t){var n=cd.getInt(e.target(),"left");Qo.set(e.target(),"left",n+e.xDelta()+"px")})});var s=function(e,t){return cd.getInt(e,t)-parseInt(Ir.get(e,"data-initial-"+t),10)};o.events.stop.bind(function(){r.get().each(function(r){i.each(function(o){a(r,"data-row").each(function(e){var t=s(r,"top");Ir.remove(r,"data-initial-top"),m.trigger.adjustHeight(o,t,parseInt(e,10))}),a(r,"data-column").each(function(e){var t=s(r,"left");Ir.remove(r,"data-initial-left"),m.trigger.adjustWidth(o,t,parseInt(e,10))}),nf.refresh(e,o,n,t)})})});var u=function(t,n){m.trigger.startAdjust(),r.assign(t),Ir.set(t,"data-initial-"+n,parseInt(Qo.get(t,n),10)),Hl.add(t,Vm),Qo.set(t,"opacity","0.2"),o.go(e.parent())},c=bm.bind(e.parent(),"mousedown",function(e){nf.isRowBar(e.target())&&u(e.target(),"top"),nf.isColBar(e.target())&&u(e.target(),"left")}),f=function(t){return zn.eq(t,e.view())},d=bm.bind(e.view(),"mouseover",function(r){"table"===_r.name(r.target())||jm.closest(r.target(),"table",f)?(i="table"===_r.name(r.target())?W.some(r.target()):co.ancestor(r.target(),"table",f),i.each(function(r){nf.refresh(e,r,n,t)})):Br.inBody(r.target())&&nf.destroy(e)}),p=function(){c.unbind(),d.unbind(),o.destroy(),nf.destroy(e)},h=function(r){nf.refresh(e,r,n,t)},m=nm.create({adjustHeight:l(["table","delta","row"]),adjustWidth:l(["table","delta","column"]),startAdjust:l([])});return{destroy:p,refresh:h,on:o.on,off:o.off,hideBars:F.curry(nf.hide,e),showBars:F.curry(nf.show,e),events:m.registry}}function y(e,t){var n=Yu.height,r=v(e,t,n),o=nm.create({beforeResize:l(["table"]),afterResize:l(["table"]),startDrag:l([])});return r.events.adjustHeight.bind(function(e){o.trigger.beforeResize(e.table());var t=n.delta(e.delta(),e.table());Fd.adjustHeight(e.table(),t,e.row(),n),o.trigger.afterResize(e.table())}),r.events.startAdjust.bind(function(e){o.trigger.startDrag()}),r.events.adjustWidth.bind(function(e){o.trigger.beforeResize(e.table());var n=t.delta(e.delta(),e.table());Fd.adjustWidth(e.table(),n,e.column(),t),o.trigger.afterResize(e.table())}),{on:r.on,off:r.off,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:o.registry}}function b(e){var t=function(t,n){return lt.fromPoint(lt.fromDom(e.document),t,n)},n=function(e){return e.dom().getBoundingClientRect()},r=function(t,n,r,o){var i=fg.exact(t,n,r,o);return Vv.getFirstRect(e,i).map(function(e){return Le.map(e,F.apply)})},o=function(){return Vv.get(e).map(function(t){return iy.convertToRange(e,t)})},i=function(t){var n=fg.relative(t.start(),t.finish());return iy.convertToRange(e,n)},a=function(t,n){return Vv.getAtPoint(e,t,n).map(function(e){return{start:F.constant(ig.on(e.start(),e.soffset())),finish:F.constant(ig.on(e.finish(),e.foffset()))}})},s=function(){Vv.clear(e)},u=function(t){Vv.setToElement(e,t)};return{elementFromPoint:t,getRect:n,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:a,clearSelection:s,setSelection:function(t){Vv.setExact(e,t.start(),t.soffset(),t.finish(),t.foffset())},setRelativeSelection:function(t,n){Vv.setRelative(e,t,n)},selectContents:u,getInnerHeight:function(){return e.innerHeight},getScrollY:function(){return gy.get(lt.fromDom(e.document)).top()},scrollBy:function(t,n){gy.by(t,n,lt.fromDom(e.document))}}}function w(e,t,n,r){var o=W.none(),i=function(){o=W.none()};return{mousedown:function(e){r.clear(t),o=Ow(e.target(),n)},mouseover:function(i){o.each(function(o){r.clear(t),Ow(i.target(),n).each(function(i){cs.identify(o,i,n).each(function(n){var a=n.boxes().getOr([]);(a.length>1||1===a.length&&!zn.eq(o,i))&&(r.selectRange(t,a,n.start(),n.finish()),e.selectContents(i))})})})},mouseup:function(){o.each(i)}}}function C(e,t){var n=qe.immutableBag(["mousedown","mouseover","mouseup","keyup","keydown"],[]),r=W.none(),o=Kw.byAttr(hs);e.on("init",function(i){var a=e.getWin(),s=gp(e),u=bp(e),c=function(){var t=e.selection,n=lt.fromDom(t.getStart()),r=lt.fromDom(t.getEnd());La.sharedOne(Eo.table,[n,r]).fold(function(){o.clear(s)},F.noop)},l=Nw.mouse(a,s,u,o),f=Nw.keyboard(a,s,u,o),d=function(e){return!0===e.raw().shiftKey},p=function(t,n){d(t)&&(n.kill()&&t.kill(),n.selection().each(function(t){var n=fg.relative(t.start(),t.finish()),r=Vg.asLtrRange(a,n);e.selection.setRng(r)}))},h=function(t){var n=v(t);if(n.raw().shiftKey&&ny.isNavigation(n.raw().which)){var r=e.selection.getRng(),o=lt.fromDom(r.startContainer),i=lt.fromDom(r.endContainer);f.keyup(n,o,r.startOffset,i,r.endOffset).each(function(e){p(n,e)})}},m=function(n){var r=v(n);t().each(function(e){e.hideBars()});var o=e.selection.getRng(),i=lt.fromDom(e.selection.getStart()),a=lt.fromDom(o.startContainer),s=lt.fromDom(o.endContainer),u=Rp.directionAt(i).isRtl()?ny.rtl:ny.ltr;f.keydown(r,a,o.startOffset,s,o.endOffset,u).each(function(e){p(r,e)}),t().each(function(e){e.showBars()})},g=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},v=function(e){var t=lt.fromDom(e.target),n=function(){e.stopPropagation()},r=function(){e.preventDefault()},o=F.compose(r,n);return{target:F.constant(t),x:F.constant(g(e)?e.x:null),y:F.constant(g(e)?e.y:null),stop:n,prevent:r,kill:o,raw:F.constant(e)}},y=function(e){return 0===e.button},b=function(e){return void 0===e.buttons||0!=(1&e.buttons)},w=function(e){y(e)&&$w(e)&&l.mousedown(v(e))},C=function(e){b(e)&&$w(e)&&l.mouseover(v(e))},_=function(e){y(e)&&$w(e)&&l.mouseup(v(e))};e.on("mousedown",w),e.on("mouseover",C),e.on("mouseup",_),e.on("keyup",h),e.on("keydown",m),e.on("nodechange",c),r=W.some(n({mousedown:w,mouseover:C,mouseup:_,keyup:h,keydown:m}))});var i=function(){r.each(function(e){})};return{clear:o.clear,destroy:i}}function _(e){var t=Wm(e),n=C(e,t.lazyResize),r=th(e,t.lazyWire),o=Yw(e),i=Qu(W.none());return Xh.registerCommands(e,r,n,o,i),Is.registerEvents(e,o,r,n),tC.addMenuItems(e,o),Qw.addButtons(e),Qw.addToolbars(e),e.on("PreInit",function(){e.serializer.addTempAttr(hs.firstSelected()),e.serializer.addTempAttr(hs.lastSelected())}),Lp(e)&&e.on("keydown",function(n){Yv.handle(n,e,r,t.lazyWire)}),e.on("remove",function(){t.destroy(),n.destroy()}),oC(e,i)}function x(){}var E=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},O=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e()}},T=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,arguments))}},k=function(e){return function(){return e}},R=function(e){return e},P=function(e,t){return e===t},N=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=new Array(arguments.length-1),o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var o=new Array(arguments.length),i=0;i<o.length;i++)o[i]=arguments[i];var a=r.concat(o);return e.apply(null,a)}},A=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,arguments)}},I=function(e){return function(){throw new Error(e)}},D=function(e){return e()},M=function(e){e()},L=k(!1),B=k(!0),F={noop:S,noarg:O,compose:T,constant:k,identity:R,tripleEquals:P,curry:N,not:A,die:I,apply:D,call:M,never:L,always:B},j=F.never,V=F.always,H=function(){return U},U=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o={fold:function(e,t){return e()},is:j,isSome:j,isNone:V,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:H,ap:H,each:r,bind:H,flatten:H,exists:j,forall:V,filter:H,equals:e,equals_:e,toArray:function(){return[]},toString:F.constant("none()")};return Object.freeze&&Object.freeze(o),o}(),z=function(e){var t=function(){return e},n=function(){return i},r=function(t){return z(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:V,isNone:j,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(H,function(t){return z(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:U},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(j,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},q=function(e){return null===e||void 0===e?U:z(e)},W={some:z,none:H,from:q},G=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},K=function(e){return function(t){return G(t)===e}},$={isString:K("string"),isObject:K("object"),isArray:K("array"),isNull:K("null"),isBoolean:K("boolean"),isUndefined:K("undefined"),isFunction:K("function"),isNumber:K("number")},Y=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return fe(e,t)};return void 0===e?n:t}(),X=function(e,t){var n=Y(e,t);return-1===n?W.none():W.some(n)},Z=function(e,t){return Y(e,t)>-1},J=function(e,t){return le(e,t).isSome()},Q=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},ee=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},te=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},ne=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},re=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},oe=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},ie=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},ae=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var s=e[i],u=t(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r},se=function(e,t,n){return re(e,function(e){n=t(n,e)}),n},ue=function(e,t,n){return ne(e,function(e){n=t(n,e)}),n},ce=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return W.some(o)}return W.none()},le=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n,e))return W.some(n)}return W.none()},fe=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},de=Array.prototype.push,pe=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);de.apply(t,e[n])}return t},he=function(e,t){var n=te(e,t);return pe(n)},me=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},ge=function(e,t){return e.length===t.length&&me(e,function(e,n){return e===t[n]})},ve=Array.prototype.slice,ye=function(e){var t=ve.call(e,0);return t.reverse(),t},be=function(e,t){return ie(e,function(e){return!Z(t,e)})},we=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},Ce=function(e){return[e]},_e=function(e,t){var n=ve.call(e,0);return n.sort(t),n},xe=function(e){return 0===e.length?W.none():W.some(e[0])},Ee=function(e){return 0===e.length?W.none():W.some(e[e.length-1])},Se=$.isFunction(Array.from)?Array.from:function(e){return ve.call(e)},Oe={map:te,each:ne,eachr:re,partition:oe,filter:ie,groupBy:ae,indexOf:X,foldr:se,foldl:ue,find:ce,findIndex:le,flatten:pe,bind:he,forall:me,exists:J,contains:Z,equal:ge,reverse:ye,chunk:ee,difference:be,mapToObject:we,pure:Ce,sort:_e,range:Q,head:xe,last:Ee,from:Se},Te=function(){var e=Object.keys,t=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};return void 0===e?t:e}(),ke=function(e,t){for(var n=Te(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},Re=function(e,t){return Pe(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},Pe=function(e,t){var n={};return ke(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},Ne=function(e,t){var n={},r={};return ke(e,function(e,o){(t(e,o)?n:r)[o]=e}),{t:n,f:r}},Ae=function(e,t){var n=[];return ke(e,function(e,r){n.push(t(e,r))}),n},Ie=function(e,t){for(var n=Te(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return W.some(a)}return W.none()},De=function(e){return Ae(e,function(e){return e})},Me=function(e){return De(e).length},Le={bifilter:Ne,each:ke,map:Re,mapToArray:Ae,tupleMap:Pe,find:Ie,keys:Te,values:De,size:Me},Be=function(e){return e.slice(0).sort()},Fe=function(e,t){throw new Error("All required keys ("+Be(e).join(", ")+") were not specified. Specified keys were: "+Be(t).join(", ")+".")},je=function(e){throw new Error("Unsupported keys for object: "+Be(e).join(", "))},Ve=function(e,t){if(!$.isArray(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");Oe.each(t,function(t){if(!$.isString(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},He=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+Be(e).join(", ")+") were not.")},Ue=function(e){var t=Be(e);Oe.find(t,function(e,n){return n<t.length-1&&e===t[n+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},ze={sort:Be,reqMessage:Fe,unsuppMessage:je,validateStrArr:Ve,invalidTypeMessage:He,checkDupes:Ue},qe={immutable:e,immutableBag:t},We=qe.immutable("width","height"),Ge=qe.immutable("rows","columns"),Ke=qe.immutable("row","column"),$e=qe.immutable("x","y"),Ye=qe.immutable("element","rowspan","colspan"),Xe=qe.immutable("element","rowspan","colspan","isNew"),Ze=qe.immutable("element","rowspan","colspan","row","column"),Je=qe.immutable("element","cells","section"),Qe=qe.immutable("element","isNew"),et=qe.immutable("element","cells","section","isNew"),tt=qe.immutable("cells","section"),nt=qe.immutable("details","section"),rt=qe.immutable("startRow","startCol","finishRow","finishCol"),ot={dimensions:We,grid:Ge,address:Ke,coords:$e,extended:Ze,detail:Ye,detailnew:Xe,rowdata:Je,elementnew:Qe,rowdatanew:et,rowcells:tt,rowdetails:nt,bounds:rt},it=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return ut(r.childNodes[0])},at=function(e,t){var n=t||document,r=n.createElement(e);return ut(r)},st=function(e,t){var n=t||document,r=n.createTextNode(e);return ut(r)},ut=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:F.constant(e)}},ct=function(e,t,n){return W.from(e.dom().elementFromPoint(t,n)).map(ut)},lt={fromHtml:it,fromTag:at,fromText:st,fromDom:ut,fromPoint:ct},ft={ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12},dt=ft.ELEMENT,pt=ft.DOCUMENT,ht=function(e,t){var n=e.dom();if(n.nodeType!==dt)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},mt=function(e){return e.nodeType!==dt&&e.nodeType!==pt||0===e.childElementCount},gt=function(e,t){var n=void 0===t?document:t.dom();return mt(n)?[]:Oe.map(n.querySelectorAll(e),lt.fromDom)},vt=function(e,t){var n=void 0===t?document:t.dom();return mt(n)?W.none():W.from(n.querySelector(e)).map(lt.fromDom)},yt={all:gt,is:ht,one:vt},bt=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},wt={toArray:bt},Ct="undefined"!=typeof window?window:Function("return this;")(),_t=function(e,t){for(var n=void 0!==t&&null!==t?t:Ct,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},xt=function(e,t){var n=e.split(".");return _t(n,t)},Et=function(e,t){return void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]},St=function(e,t){for(var n=void 0!==t?t:Ct,r=0;r<e.length;++r)n=Et(n,e[r]);return n},Ot=function(e,t){var n=e.split(".");return St(n,t)},Tt={path:_t,resolve:xt,forge:St,namespace:Ot},kt=function(e,t){return Tt.resolve(e,t)},Rt=function(e,t){var n=kt(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},Pt={getOrDie:Rt},Nt=function(){return Pt.getOrDie("Node")},At=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},It=function(e,t){return At(e,t,Nt().DOCUMENT_POSITION_PRECEDING)},Dt=function(e,t){return At(e,t,Nt().DOCUMENT_POSITION_CONTAINED_BY)},Mt={documentPositionPreceding:It,documentPositionContainedBy:Dt},Lt=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},Bt={cached:Lt},Ft=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},jt=function(e,t){var n=Ft(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Ut(r(1),r(2))},Vt=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Ht():jt(e,n)},Ht=function(){return Ut(0,0)},Ut=function(e,t){return{major:e,minor:t}},zt={nu:Ut,detect:Vt,unknown:Ht},qt=function(e,t){return function(){return t===e}},Wt=function(){return Gt({current:void 0,version:zt.unknown()})},Gt=function(e){var t=e.current;return{current:t,version:e.version,isEdge:qt("Edge",t),isChrome:qt("Chrome",t),isIE:qt("IE",t),isOpera:qt("Opera",t),isFirefox:qt("Firefox",t),isSafari:qt("Safari",t)}},Kt={unknown:Wt,nu:Gt,edge:F.constant("Edge"),chrome:F.constant("Chrome"),ie:F.constant("IE"),opera:F.constant("Opera"),firefox:F.constant("Firefox"),safari:F.constant("Safari")},$t=function(e,t){return function(){return t===e}},Yt=function(){return Xt({current:void 0,version:zt.unknown()})},Xt=function(e){var t=e.current;return{current:t,version:e.version,isWindows:$t("Windows",t),isiOS:$t("iOS",t),isAndroid:$t("Android",t),isOSX:$t("OSX",t),isLinux:$t("Linux",t),isSolaris:$t("Solaris",t),isFreeBSD:$t("FreeBSD",t)}},Zt={unknown:Yt,nu:Xt,windows:F.constant("Windows"),ios:F.constant("iOS"),android:F.constant("Android"),linux:F.constant("Linux"),osx:F.constant("OSX"),solaris:F.constant("Solaris"),freebsd:F.constant("FreeBSD")},Jt=function(e,t){var n=String(t).toLowerCase();return Oe.find(e,function(e){return e.search(n)})},Qt=function(e,t){return Jt(e,t).map(function(e){var n=zt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},en=function(e,t){return Jt(e,t).map(function(e){var n=zt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},tn={detectBrowser:Qt,detectOs:en},nn=function(e,t){return t+e},rn=function(e,t){return e+t},on=function(e,t){return e.substring(t)},an=function(e,t){return e.substring(0,e.length-t)},sn={addToStart:nn,addToEnd:rn,removeFromStart:on,removeFromEnd:an},un=function(e,t){return e.substr(0,t)},cn=function(e,t){return e.substr(e.length-t,e.length)},ln=function(e){return""===e?W.none():W.some(e.substr(0,1))},fn=function(e){return""===e?W.none():W.some(e.substring(1))},dn={first:un,last:cn,head:ln,tail:fn},pn=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},hn=function(e,t){var n=function(e){var t=typeof e;return"string"===t||"number"===t};return e.replace(/\${([^{}]*)}/g,function(e,r){var o=t[r];return n(o)?o:e})},mn=function(e,t){return Cn(e,t)?sn.removeFromStart(e,t.length):e},gn=function(e,t){return _n(e,t)?sn.removeFromEnd(e,t.length):e},vn=function(e,t){return Cn(e,t)?e:sn.addToStart(e,t)},yn=function(e,t){return _n(e,t)?e:sn.addToEnd(e,t)},bn=function(e,t){return-1!==e.indexOf(t)},wn=function(e){return dn.head(e).bind(function(t){return dn.tail(e).map(function(e){return t.toUpperCase()+e})}).getOr(e)},Cn=function(e,t){return pn(e,t,0)},_n=function(e,t){return pn(e,t,e.length-t.length)},xn=function(e){return e.replace(/^\s+|\s+$/g,"")},En=function(e){return e.replace(/^\s+/g,"")},Sn=function(e){return e.replace(/\s+$/g,"")},On={supplant:hn,startsWith:Cn,removeLeading:mn,removeTrailing:gn,ensureLeading:vn,ensureTrailing:yn,endsWith:_n,contains:bn,trim:xn,lTrim:En,rTrim:Sn,capitalize:wn},Tn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,kn=function(e){return function(t){return On.contains(t,e)}},Rn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return On.contains(e,"edge/")&&On.contains(e,"chrome")&&On.contains(e,"safari")&&On.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tn],search:function(e){return On.contains(e,"chrome")&&!On.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return On.contains(e,"msie")||On.contains(e,"trident")}},{name:"Opera",versionRegexes:[Tn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:kn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:kn("firefox")},{name:"Safari",versionRegexes:[Tn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(On.contains(e,"safari")||On.contains(e,"mobile/"))&&On.contains(e,"applewebkit")}}],Pn=[{name:"Windows",search:kn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return On.contains(e,"iphone")||On.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:kn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:kn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:kn("linux"),versionRegexes:[]},{name:"Solaris",search:kn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:kn("freebsd"),versionRegexes:[]}],Nn={browsers:F.constant(Rn),oses:F.constant(Pn)},An=function(e){var t=Nn.browsers(),r=Nn.oses(),o=tn.detectBrowser(t,e).fold(Kt.unknown,Kt.nu),i=tn.detectOs(r,e).fold(Zt.unknown,Zt.nu);return{browser:o,os:i,deviceType:n(i,o,e)}},In={detect:An},Dn=Bt.cached(function(){var e=navigator.userAgent;return In.detect(e)}),Mn={detect:Dn},Ln=function(e,t){return e.dom()===t.dom()},Bn=function(e,t){return e.dom().isEqualNode(t.dom())},Fn=function(e,t){return Oe.exists(t,F.curry(Ln,e))},jn=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Vn=function(e,t){return Mt.documentPositionContainedBy(e.dom(),t.dom())},Hn=Mn.detect().browser,Un=Hn.isIE()?Vn:jn,zn={eq:Ln,isEqualNode:Bn,member:Fn,contains:Un,is:yt.is},qn=function(e){return lt.fromDom(e.dom().ownerDocument)},Wn=function(e){var t=qn(e);return lt.fromDom(t.dom().documentElement)},Gn=function(e){var t=e.dom(),n=t.ownerDocument.defaultView;return lt.fromDom(n)},Kn=function(e){var t=e.dom();return W.from(t.parentNode).map(lt.fromDom)},$n=function(e){return Kn(e).bind(function(t){var n=nr(t);return Oe.findIndex(n,function(t){return zn.eq(e,t)})})},Yn=function(e,t){for(var n=$.isFunction(t)?t:F.constant(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=lt.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},Xn=function(e){var t=function(t){return Oe.filter(t,function(t){return!zn.eq(e,t)})};return Kn(e).map(nr).map(t).getOr([])},Zn=function(e){var t=e.dom();return W.from(t.offsetParent).map(lt.fromDom)},Jn=function(e){var t=e.dom();return W.from(t.previousSibling).map(lt.fromDom)},Qn=function(e){var t=e.dom();return W.from(t.nextSibling).map(lt.fromDom)},er=function(e){return Oe.reverse(wt.toArray(e,Jn))},tr=function(e){return wt.toArray(e,Qn)},nr=function(e){var t=e.dom();return Oe.map(t.childNodes,lt.fromDom)},rr=function(e,t){var n=e.dom().childNodes;return W.from(n[t]).map(lt.fromDom)},or=function(e){return rr(e,0)},ir=function(e){return rr(e,e.dom().childNodes.length-1)},ar=function(e){return e.dom().childNodes.length},sr=function(e){return e.dom().hasChildNodes()},ur=qe.immutable("element","offset"),cr=function(e,t){var n=nr(e);return n.length>0&&t<n.length?ur(n[t],0):ur(e,t)},lr={owner:qn,defaultView:Gn,documentElement:Wn,parent:Kn,findIndex:$n,parents:Yn,siblings:Xn,prevSibling:Jn,offsetParent:Zn,prevSiblings:er,nextSibling:Qn,nextSiblings:tr,children:nr,child:rr,firstChild:or,lastChild:ir,childNodesCount:ar,hasChildNodes:sr,leaf:cr},fr=function(e,t){return dr(e,t,F.constant(!0))},dr=function(e,t,n){return Oe.bind(lr.children(e),function(e){return yt.is(e,t)?n(e)?[e]:[]:dr(e,t,n)})},pr={firstLayer:fr,filterFirstLayer:dr},hr=function(e){return e.dom().nodeName.toLowerCase()},mr=function(e){return e.dom().nodeType},gr=function(e){return e.dom().nodeValue},vr=function(e){return function(t){return mr(t)===e}},yr=function(e){return mr(e)===ft.COMMENT||"#comment"===hr(e)},br=vr(ft.ELEMENT),wr=vr(ft.TEXT),Cr=vr(ft.DOCUMENT),_r={name:hr,type:mr,value:gr,isElement:br,isText:wr,isDocument:Cr,isComment:yr},xr=function(e,t,n){if(!($.isString(n)||$.isBoolean(n)||$.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Er=function(e,t,n){xr(e.dom(),t,n)},Sr=function(e,t){var n=e.dom();Le.each(t,function(e,t){xr(n,t,e)})},Or=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Tr=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},kr=function(e,t){e.dom().removeAttribute(t)},Rr=function(e){var t=e.dom().attributes;return void 0===t||null===t||0===t.length},Pr=function(e){return Oe.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},Nr=function(e,t,n){Tr(e,n)&&!Tr(t,n)&&Er(t,n,Or(e,n))},Ar=function(e,t,n){_r.isElement(e)&&_r.isElement(t)&&Oe.each(n,function(n){Nr(e,t,n)})},Ir={clone:Pr,set:Er,setAll:Sr,get:Or,has:Tr,remove:kr,hasNone:Rr,transfer:Ar},Dr=function(e){var t=_r.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},Mr=Bt.cached(function(){return Lr(lt.fromDom(document))}),Lr=function(e){var t=e.dom().body;if(null===t||void 0===t)throw"Body is not available yet";return lt.fromDom(t)},Br={body:Mr,getBody:Lr,inBody:Dr},Fr=function(e){return Ur(Br.body(),e)},jr=function(e,t,n){return Oe.filter(lr.parents(e,n),t)},Vr=function(e,t){return Oe.filter(lr.siblings(e),t)},Hr=function(e,t){return Oe.filter(lr.children(e),t)},Ur=function(e,t){var n=[];return Oe.each(lr.children(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Ur(e,t))}),n},zr={all:Fr,ancestors:jr,siblings:Vr,children:Hr,descendants:Ur},qr=function(e){return yt.all(e)},Wr=function(e,t,n){return zr.ancestors(e,function(e){return yt.is(e,t)},n)},Gr=function(e,t){return zr.siblings(e,function(e){return yt.is(e,t)})},Kr=function(e,t){return zr.children(e,function(e){return yt.is(e,t)})},$r=function(e,t){return yt.all(t,e)},Yr={all:qr,ancestors:Wr,siblings:Gr,children:Kr,descendants:$r},Xr=function(e){return to(Br.body(),e)},Zr=function(e,t,n){for(var r=e.dom(),o=$.isFunction(n)?n:F.constant(!1);r.parentNode;){r=r.parentNode;var i=lt.fromDom(r);if(t(i))return W.some(i);if(o(i))break}return W.none()},Jr=function(e,t,n){return r(function(e){return t(e)},Zr,e,t,n)},Qr=function(e,t){var n=e.dom();return n.parentNode?eo(lt.fromDom(n.parentNode),function(n){return!zn.eq(e,n)&&t(n)}):W.none()},eo=function(e,t){return Oe.find(e.dom().childNodes,F.compose(t,lt.fromDom)).map(lt.fromDom)},to=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){if(t(lt.fromDom(e.childNodes[r])))return W.some(lt.fromDom(e.childNodes[r]));var o=n(e.childNodes[r]);if(o.isSome())return o}return W.none()};return n(e.dom())},no={first:Xr,ancestor:Zr,closest:Jr,sibling:Qr,child:eo,descendant:to},ro=function(e){return yt.one(e)},oo=function(e,t,n){return no.ancestor(e,function(e){return yt.is(e,t)},n)},io=function(e,t){return no.sibling(e,function(e){return yt.is(e,t)})},ao=function(e,t){return no.child(e,function(e){return yt.is(e,t)})},so=function(e,t){return yt.one(t,e)},uo=function(e,t,n){return r(yt.is,oo,e,t,n)},co={first:ro,ancestor:oo,sibling:io,child:ao,descendant:so,closest:uo},lo=function(e,t,n){var r=void 0!==n?n:F.constant(!1);if(r(t))return W.none();if(Oe.contains(e,_r.name(t)))return W.some(t);var o=function(e){return yt.is(e,"table")||r(e)};return co.ancestor(t,e.join(","),o)},fo=function(e,t){return lo(["td","th"],e,t)},po=function(e){return pr.firstLayer(e,"th,td")},ho=function(e,t){return lo(["caption","tr","tbody","tfoot","thead"],e,t)},mo=function(e,t){return lr.parent(t).map(function(t){return Yr.children(t,e)})},go=F.curry(mo,"th,td"),vo=F.curry(mo,"tr"),yo=function(e){return co.descendant(e,"th,td")},bo=function(e,t){return co.closest(e,"table",t)},wo=function(e,t){return lo(["tr"],e,t)},Co=function(e){return pr.firstLayer(e,"tr")},_o=function(e,t){return parseInt(Ir.get(e,t),10)},xo=function(e,t,n){var r=_o(e,t),o=_o(e,n);return ot.grid(r,o)},Eo={cell:fo,firstCell:yo,cells:po,neighbourCells:go,table:bo,row:wo,rows:Co,notCell:ho,neighbourRows:vo,attr:_o,grid:xo},So=function(e){var t=Eo.rows(e);return Oe.map(t,function(e){var t=e,n=lr.parent(t),r=n.bind(function(e){var t=_r.name(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"}),o=Oe.map(Eo.cells(e),function(e){var t=Ir.has(e,"rowspan")?parseInt(Ir.get(e,"rowspan"),10):1,n=Ir.has(e,"colspan")?parseInt(Ir.get(e,"colspan"),10):1;return ot.detail(e,t,n)});return ot.rowdata(t,o,r)})},Oo=function(e,t){return Oe.map(e,function(e){var n=Oe.map(Eo.cells(e),function(e){var t=Ir.has(e,"rowspan")?parseInt(Ir.get(e,"rowspan"),10):1,n=Ir.has(e,"colspan")?parseInt(Ir.get(e,"colspan"),10):1;return ot.detail(e,t,n)});return ot.rowdata(e,n,t.section())})},To={fromTable:So,fromPastedRows:Oo},ko=function(e,t){return e+","+t},Ro=function(e,t,n){var r=e.access()[ko(t,n)];return void 0!==r?W.some(r):W.none()},Po=function(e,t,n){var r=No(e,function(e){return n(t,e.element())});return r.length>0?W.some(r[0]):W.none()},No=function(e,t){var n=Oe.bind(e.all(),function(e){return e.cells()});return Oe.filter(n,t)},Ao=function(e){var t={},n=[],r=e.length,o=0;Oe.each(e,function(e,r){var i=[];Oe.each(e.cells(),function(e,n){for(var a=0;void 0!==t[ko(r,a)];)a++;for(var s=ot.extended(e.element(),e.rowspan(),e.colspan(),r,a),u=0;u<e.colspan();u++)for(var c=0;c<e.rowspan();c++){var l=r+c,f=a+u,d=ko(l,f);t[d]=s,o=Math.max(o,f+1)}i.push(s)}),n.push(ot.rowdata(e.element(),i,e.section()))});var i=ot.grid(r,o);return{grid:F.constant(i),access:F.constant(t),all:F.constant(n)}},Io=function(e){var t=Oe.map(e.all(),function(e){return e.cells()});return Oe.flatten(t)},Do={generate:Ao,getAt:Ro,findItem:Po,filterItems:No,justCells:Io},Mo=function(e){return void 0!==e.style},Lo={isSupported:Mo},Bo=function(e,t,n){if(!$.isString(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Lo.isSupported(e)&&e.style.setProperty(t,n)},Fo=function(e,t){Lo.isSupported(e)&&e.style.removeProperty(t)},jo=function(e,t,n){var r=e.dom();Bo(r,t,n)},Vo=function(e,t){var n=e.dom();Le.each(t,function(e,t){Bo(n,t,e)})},Ho=function(e,t){var n=e.dom();Le.each(t,function(e,t){e.fold(function(){Fo(n,t)},function(e){Bo(n,t,e)})})},Uo=function(e,t){var n=e.dom(),r=window.getComputedStyle(n),o=r.getPropertyValue(t),i=""!==o||Br.inBody(e)?o:zo(n,t);return null===i?void 0:i},zo=function(e,t){return Lo.isSupported(e)?e.style.getPropertyValue(t):""},qo=function(e,t){var n=e.dom(),r=zo(n,t);return W.from(r).filter(function(e){return e.length>0})},Wo=function(e){var t={},n=e.dom();if(Lo.isSupported(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},Go=function(e,t,n){var r=lt.fromTag(e);return jo(r,t,n),qo(r,t).isSome()},Ko=function(e,t){var n=e.dom();Fo(n,t),Ir.has(e,"style")&&""===On.trim(Ir.get(e,"style"))&&Ir.remove(e,"style")},$o=function(e,t){var n=Ir.get(e,"style"),r=t(e);return(void 0===n?Ir.remove:Ir.set)(e,"style",n),r},Yo=function(e,t){var n=e.dom(),r=t.dom();Lo.isSupported(n)&&Lo.isSupported(r)&&(r.style.cssText=n.style.cssText)},Xo=function(e){return e.dom().offsetWidth},Zo=function(e,t,n){qo(e,n).each(function(e){qo(t,n).isNone()&&jo(t,n,e)})},Jo=function(e,t,n){_r.isElement(e)&&_r.isElement(t)&&Oe.each(n,function(n){Zo(e,t,n)})},Qo={copy:Yo,set:jo,preserve:$o,setAll:Vo,setOptions:Ho,remove:Ko,get:Uo,getRaw:qo,getAllRaw:Wo,isValidValue:Go,reflow:Xo,transfer:Jo},ei=function(e,t){lr.parent(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},ti=function(e,t){lr.nextSibling(e).fold(function(){lr.parent(e).each(function(e){ri(e,t)})},function(e){ei(e,t)})},ni=function(e,t){lr.firstChild(e).fold(function(){ri(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},ri=function(e,t){e.dom().appendChild(t.dom())},oi=function(e,t,n){lr.child(e,n).fold(function(){ri(e,t)},function(e){ei(e,t)})},ii=function(e,t){ei(e,t),ri(t,e)},ai={before:ei,after:ti,prepend:ni,append:ri,appendAt:oi,wrap:ii},si=function(e,t){Oe.each(t,function(t){ai.before(e,t)})},ui=function(e,t){Oe.each(t,function(n,r){var o=0===r?e:t[r-1];ai.after(o,n)})},ci=function(e,t){Oe.each(t.slice().reverse(),function(t){ai.prepend(e,t)})},li=function(e,t){Oe.each(t,function(t){ai.append(e,t)})},fi={before:si,after:ui,prepend:ci,append:li},di=function(e){e.dom().textContent="",Oe.each(lr.children(e),function(e){pi(e)})},pi=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},hi=function(e){var t=lr.children(e);t.length>0&&fi.before(e,t),pi(e)},mi={empty:di,remove:pi,unwrap:hi},gi=qe.immutable("minRow","minCol","maxRow","maxCol"),vi=function(e,t){var n=e.grid().columns(),r=e.grid().rows(),o=r,i=n,a=0,s=0;return Le.each(e.access(),function(e){if(t(e)){var n=e.row(),r=n+e.rowspan()-1,u=e.column(),c=u+e.colspan()-1;n<o?o=n:r>a&&(a=r),u<i?i=u:c>s&&(s=c)}}),gi(o,i,a,s)},yi=function(e,t,n){var r=e[n].element(),o=lt.fromTag("td");ai.append(o,lt.fromTag("br")),(t?ai.append:ai.prepend)(r,o)},bi=function(e,t,n,r){for(var o=t.grid().columns(),i=t.grid().rows(),a=0;a<i;a++)for(var s=!1,u=0;u<o;u++)if(!(a<n.minRow()||a>n.maxRow()||u<n.minCol()||u>n.maxCol())){var c=Do.getAt(t,a,u).filter(r).isNone();c?yi(e,s,a):s=!0}},wi=function(e,t){var n=Oe.filter(pr.firstLayer(e,"tr"),function(e){return 0===e.dom().childElementCount});Oe.each(n,mi.remove),t.minCol()!==t.maxCol()&&t.minRow()!==t.maxRow()||Oe.each(pr.firstLayer(e,"th,td"),function(e){Ir.remove(e,"rowspan"),Ir.remove(e,"colspan")}),Ir.remove(e,"width"),Ir.remove(e,"height"),Qo.remove(e,"width"),Qo.remove(e,"height")},Ci=function(e,t){var n=function(e){return yt.is(e.element(),t)},r=To.fromTable(e),o=Do.generate(r),i=vi(o,n),a="th:not("+t+"),td:not("+t+")",s=pr.filterFirstLayer(e,"th,td",function(e){return yt.is(e,a)});return Oe.each(s,mi.remove),bi(r,o,i,n),wi(e,i),e},_i={extract:Ci},xi=function(e,t){return lt.fromDom(e.dom().cloneNode(t))},Ei=function(e){return xi(e,!1)},Si=function(e){return xi(e,!0)},Oi=function(e,t){var n=lt.fromTag(t),r=Ir.clone(e);return Ir.setAll(n,r),n},Ti=function(e,t){var n=Oi(e,t),r=lr.children(Si(e));return fi.append(n,r),n},ki=function(e,t){var n=Oi(e,t);ai.before(e,n);var r=lr.children(e);return fi.append(n,r),mi.remove(e),n},Ri={shallow:Ei,shallowAs:Oi,deep:Si,copy:Ti,mutate:ki},Pi=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return a(n).getOr("")},r=function(e){try{return o(e)}catch(e){return W.none()}},o=function(t){return e(t)?W.from(t.dom().nodeValue):W.none()},i=Mn.detect().browser,a=i.isIE()&&10===i.version.major?r:o;return{get:n,getOption:a,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(_r.isText,"text"),Ni=function(e){return Pi.get(e)},Ai=function(e){return Pi.getOption(e)},Ii=function(e,t){Pi.set(e,t)},Di={get:Ni,getOption:Ai,set:Ii},Mi=function(e){return"img"===_r.name(e)?1:Di.getOption(e).fold(function(){return lr.children(e).length},function(e){return e.length})},Li=function(e,t){return Mi(e)===t},Bi=function(e,t){return 0===t},Fi=function(e){return Di.getOption(e).filter(function(e){return 0!==e.trim().length||e.indexOf("\xa0")>-1}).isSome()},ji=["img","br"],Vi=function(e){return Fi(e)||Oe.contains(ji,_r.name(e))},Hi={getEnd:Mi,isEnd:Li,isStart:Bi,isCursorPosition:Vi},Ui=function(e){return no.descendant(e,Hi.isCursorPosition)},zi=function(e){return qi(e,Hi.isCursorPosition)},qi=function(e,t){var n=function(e){for(var r=lr.children(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return W.some(i);var a=n(i);if(a.isSome())return a}return W.none()};return n(e)},Wi={first:Ui,last:zi},Gi=function(){var e=lt.fromTag("td");return ai.append(e,lt.fromTag("br")),e},Ki=function(e,t,n){var r=Ri.copy(e,t);return Le.each(n,function(e,t){null===e?Ir.remove(r,t):Ir.set(r,t,e)}),r},$i=function(e){return e},Yi=function(e){return function(){return lt.fromTag("tr",e.dom())}},Xi=function(e,t,n){return Wi.first(e).map(function(r){var o=n.join(","),i=Yr.ancestors(r,o,function(t){return zn.eq(t,e)});return Oe.foldr(i,function(e,t){var n=Ri.shallow(t);return ai.append(e,n),n},t)}).getOr(t)},Zi=function(e,t,n){var r=function(t){var r=lr.owner(t.element()),o=lt.fromTag(_r.name(t.element()),r.dom()),i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=i.length>0?Xi(t.element(),o,i):o;return ai.append(a,lt.fromTag("br")),Qo.copy(t.element(),o),Qo.remove(o,"height"),1!==t.colspan()&&Qo.remove(t.element(),"width"),e(t.element(),o),o};return{row:Yi(t),cell:r,replace:Ki,gap:Gi}},Ji=function(e){return{row:Yi(e),cell:Gi,replace:$i,gap:Gi}},Qi={cellOperations:Zi,paste:Ji},ea=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,lr.children(lt.fromDom(r))},ta=function(e,t){return Oe.map(e,function(e){return lt.fromTag(e,t)})},na=function(e,t){return Oe.map(e,function(e){return lt.fromText(e,t)})},ra=function(e){return Oe.map(e,lt.fromDom)},oa={fromHtml:ea,fromTags:ta,fromText:na,fromDom:ra},ia=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],aa=qe.immutable("left","right"),sa=function(e,t,n){var r=e.property().children(t);return Oe.findIndex(r,F.curry(e.eq,n)).map(function(e){return{before:F.constant(r.slice(0,e)),after:F.constant(r.slice(e+1))}})},ua=function(e,t,n){return sa(e,t,n).map(function(n){var r=e.create().clone(t);return e.insert().appendAll(r,n.after()),e.insert().after(t,r),aa(t,r)})},ca=function(e,t,n){return sa(e,t,n).map(function(r){var o=e.create().clone(t);return e.insert().appendAll(o,r.before().concat([n])),e.insert().appendAll(t,r.after()),e.insert().before(t,o),aa(o,t)})},la=function(e,t,n,r){var o=qe.immutable("first","second","splits"),i=function(t,a,s){var u=o(t,W.none(),s);return n(t)?o(t,a,s):e.property().parent(t).bind(function(o){return r(e,o,t).map(function(e){var t=[{first:e.left,second:e.right}],r=n(o)?o:e.left();return i(r,W.some(e.right()),s.concat(t))}).getOr(u)})};return i(t,W.none(),[])},fa={breakToLeft:ca,breakToRight:ua,breakPath:la},da=function(e,t,n,r){return r(e,t,n[0],n.slice(1))},pa=function(e,t,n){return n.length>0?da(e,t,n,ha):W.none()},ha=function(e,t,n,r){var o=t(e,n);return Oe.foldr(r,function(n,r){var o=t(e,r);return ma(e,n,o)},o)},ma=function(e,t,n){return t.bind(function(t){return n.filter(F.curry(e.eq,t))})},ga={oneAll:pa},va=function(e,t){return F.curry(e.eq,t)},ya=function(e,t,n,r){var o=e.property().children(t);if(e.eq(t,n[0]))return W.some([n[0]]);if(e.eq(t,r[0]))return W.some([r[0]]);var i=function(n){var r=Oe.reverse(n),i=Oe.findIndex(r,va(e,t)).getOr(-1),a=i<r.length-1?r[i+1]:r[i];return Oe.findIndex(o,va(e,a))},a=i(n),s=i(r);return a.bind(function(e){return s.map(function(t){var n=Math.min(e,t),r=Math.max(e,t);return o.slice(n,r+1)})})},ba=function(e,t,n,r){var o=void 0!==r?r:F.constant(!1),i=[t].concat(e.up().all(t)),a=[n].concat(e.up().all(n)),s=function(e){return Oe.findIndex(e,o).fold(function(){return e},function(t){return e.slice(0,t+1)})},u=s(i),c=s(a),l=Oe.find(u,function(t){return Oe.exists(c,va(e,t))});return{firstpath:F.constant(u),secondpath:F.constant(c),shared:F.constant(l)}},wa=function(e,t,n){var r=ba(e,t,n);return r.shared().bind(function(t){return ya(e,t,r.firstpath(),r.secondpath())})},Ca={subset:wa,ancestors:ba},_a=function(e,t,n){return ga.oneAll(e,t,n)},xa=function(e,t,n){return Ca.subset(e,t,n)},Ea=function(e,t,n,r){return Ca.ancestors(e,t,n,r)},Sa=function(e,t,n){return fa.breakToLeft(e,t,n)},Oa=function(e,t,n){return fa.breakToRight(e,t,n)},Ta=function(e,t,n,r){return fa.breakPath(e,t,n,r)},ka={sharedOne:_a,subset:xa,ancestors:Ea,breakToLeft:Sa,breakToRight:Oa,breakPath:Ta},Ra=o(),Pa=function(e,t){return ka.sharedOne(Ra,function(t,n){return e(n)},t)},Na=function(e,t){return ka.subset(Ra,e,t)},Aa=function(e,t,n){return ka.ancestors(Ra,e,t,n)},Ia=function(e,t){return ka.breakToLeft(Ra,e,t)},Da=function(e,t){return ka.breakToRight(Ra,e,t)},Ma=function(e,t,n){return ka.breakPath(Ra,e,t,function(e,t,r){return n(t,r)})},La={sharedOne:Pa,subset:Na,ancestors:Aa,breakToLeft:Ia,breakToRight:Da,breakPath:Ma},Ba=function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,o=t.row(),i=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&o<=e.finishRow()&&i>=e.startRow()},Fa=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()},ja=function(e,t){for(var n=!0,r=F.curry(Fa,t),o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)n=n&&Do.getAt(e,o,i).exists(r);return n?W.some(t):W.none()},Va={inSelection:Ba,isWithin:Fa,isRectangular:ja},Ha=function(e,t){return ot.bounds(Math.min(e.row(),t.row()),Math.min(e.column(),t.column()),Math.max(e.row()+e.rowspan()-1,t.row()+t.rowspan()-1),Math.max(e.column()+e.colspan()-1,t.column()+t.colspan()-1))},Ua=function(e,t,n){var r=Do.findItem(e,t,zn.eq),o=Do.findItem(e,n,zn.eq);return r.bind(function(e){return o.map(function(t){return Ha(e,t)})})},za=function(e,t,n){return Ua(e,t,n).bind(function(t){return Va.isRectangular(e,t)})},qa={getAnyBox:Ua,getBox:za},Wa=function(e,t,n,r){return Do.findItem(e,t,zn.eq).bind(function(t){var o=n>0?t.row()+t.rowspan()-1:t.row(),i=r>0?t.column()+t.colspan()-1:t.column();return Do.getAt(e,o+n,i+r).map(function(e){return e.element()})})},Ga=function(e,t,n){return qa.getAnyBox(e,t,n).map(function(t){var n=Do.filterItems(e,F.curry(Va.inSelection,t));return Oe.map(n,function(e){return e.element()})})},Ka=function(e,t){var n=function(e,t){return zn.contains(t,e)};return Do.findItem(e,t,n).bind(function(e){return e.element()})},$a={moveBy:Wa,intercepts:Ga,parentCell:Ka},Ya=function(e,t,n){return Eo.table(e).bind(function(r){var o=Qa(r);return $a.moveBy(o,e,t,n)})},Xa=function(e,t,n){var r=Qa(e);return $a.intercepts(r,t,n)},Za=function(e,t,n,r,o){var i=Qa(e),a=zn.eq(e,n)?t:$a.parentCell(i,t),s=zn.eq(e,o)?r:$a.parentCell(i,r);return $a.intercepts(i,a,s)},Ja=function(e,t,n){var r=Qa(e);return qa.getBox(r,t,n)},Qa=function(e){var t=To.fromTable(e);return Do.generate(t)},es={moveBy:Ya,intercepts:Xa,nestedIntercepts:Za,getBox:Ja},ts=function(e,t){return co.ancestor(e,"table")},ns=qe.immutableBag(["boxes","start","finish"],[]),rs=function(e,t,n){var r=function(e){return function(t){return n(t)||zn.eq(t,e)}};return zn.eq(e,t)?W.some(ns({boxes:W.some([e]),start:e,finish:t})):ts(e).bind(function(o){return ts(t).bind(function(i){if(zn.eq(o,i))return W.some(ns({boxes:es.intercepts(o,e,t),start:e,finish:t}));if(zn.contains(o,i)){var a=Yr.ancestors(t,"td,th",r(o)),s=a.length>0?a[a.length-1]:t;return W.some(ns({boxes:es.nestedIntercepts(o,e,o,t,i),start:e,finish:s}))}if(zn.contains(i,o)){var a=Yr.ancestors(e,"td,th",r(i)),u=a.length>0?a[a.length-1]:e;return W.some(ns({boxes:es.nestedIntercepts(i,e,o,t,i),start:e,finish:u}))}return La.ancestors(e,t).shared().bind(function(a){return co.closest(a,"table",n).bind(function(n){var a=Yr.ancestors(t,"td,th",r(n)),s=a.length>0?a[a.length-1]:t,u=Yr.ancestors(e,"td,th",r(n)),c=u.length>0?u[u.length-1]:e;return W.some(ns({boxes:es.nestedIntercepts(n,e,o,t,i),start:c,finish:s}))})})})})},os=function(e,t){var n=Yr.descendants(e,t);return n.length>0?W.some(n):W.none()},is=function(e,t){return Oe.find(e,function(e){return yt.is(e,t)})},as=function(e,t,n){return co.descendant(e,t).bind(function(t){return co.descendant(e,n).bind(function(e){return La.sharedOne(ts,[t,e]).map(function(n){return{first:F.constant(t),last:F.constant(e),table:F.constant(n)}})})})},ss=function(e,t){return co.ancestor(e,"table").bind(function(n){return co.descendant(n,t).bind(function(t){return rs(t,e).bind(function(e){return e.boxes().map(function(t){return{boxes:F.constant(t),start:F.constant(e.start()),finish:F.constant(e.finish())}})})})})},us=function(e,t,n,r,o){return is(e,o).bind(function(e){return es.moveBy(e,t,n).bind(function(e){return ss(e,r)})})},cs={identify:rs,retrieve:os,shiftSelection:us,getEdges:as},ls=function(e,t){return cs.retrieve(e,t)},fs=function(e,t,n){return cs.getEdges(e,t,n).bind(function(t){var n=function(t){return zn.eq(e,t)},r=co.ancestor(t.first(),"thead,tfoot,tbody,table",n),o=co.ancestor(t.last(),"thead,tfoot,tbody,table",n);return r.bind(function(e){return o.bind(function(n){return zn.eq(e,n)?es.getBox(t.table(),t.first(),t.last()):W.none()})})})},ds={retrieve:ls,retrieveBox:fs},ps="data-mce-selected",hs={selected:F.constant(ps),selectedSelector:F.constant("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:F.constant("[data-mce-selected]"),firstSelected:F.constant("data-mce-first-selected"),firstSelectedSelector:F.constant("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:F.constant("data-mce-last-selected"),lastSelectedSelector:F.constant("td[data-mce-last-selected],th[data-mce-last-selected]")},ms=function(e){if(!$.isArray(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return Oe.each(e,function(r,o){var i=Le.keys(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],s=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!$.isArray(s))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){var n=arguments.length;if(n!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var u=function(e){var n=Le.keys(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!Oe.forall(t,function(e){return Oe.contains(n,e)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,r)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[o].apply(null,r)},match:u,log:function(e){console.log(e,{constructors:t,constructor:a,params:r})}}}}),n},gs={generate:ms},vs=gs.generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]),ys=function(e,t,n,r){return e.fold(t,n,r)},bs={cata:ys,none:vs.none,multiple:vs.multiple,single:vs.single},ws=function(e,t){return bs.cata(t.get(),F.constant([]),F.identity,F.constant([e]))},Cs=function(e,t){var n=function(e){return Ir.has(e,"rowspan")&&parseInt(Ir.get(e,"rowspan"),10)>1||Ir.has(e,"colspan")&&parseInt(Ir.get(e,"colspan"),10)>1},r=ws(e,t);return r.length>0&&Oe.forall(r,n)?W.some(r):W.none()},_s=function(e,t){return bs.cata(t.get(),W.none,function(t,n){return 0===t.length?W.none():ds.retrieveBox(e,hs.firstSelectedSelector(),hs.lastSelectedSelector()).bind(function(e){return t.length>1?W.some({bounds:F.constant(e),cells:F.constant(t)}):W.none()})},W.none)},xs={mergable:_s,unmergable:Cs,selection:ws},Es=function(e){return{element:F.constant(e),mergable:W.none,unmergable:W.none,selection:F.constant([e])}},Ss=function(e,t,n){return{element:F.constant(n),mergable:F.constant(xs.mergable(t,e)),unmergable:F.constant(xs.unmergable(n,e)),selection:F.constant(xs.selection(n,e))}},Os=function(e){return Es(e)},Ts=qe.immutable("element","clipboard","generators"),ks=function(e,t,n,r,o){return{element:F.constant(n),mergable:W.none,unmergable:W.none,selection:F.constant(xs.selection(n,e)),clipboard:F.constant(r),generators:F.constant(o)}},Rs={noMenu:Es,forMenu:Ss,notCell:Os,paste:Ts,pasteRows:ks},Ps=function(e){return Eo.table(e[0]).map(Ri.deep).map(function(e){return[_i.extract(e,hs.attributeSelector())]})},Ns=function(e,t){return e.selection.serializer.serialize(t.dom(),{})},As=function(e,t,n,r){e.on("BeforeGetContent",function(n){var r=function(t){n.preventDefault(),Ps(t).each(function(t){n.content=Oe.map(t,function(t){return Ns(e,t)}).join("")})};!0===n.selection&&bs.cata(t.get(),F.noop,r,F.noop)}),e.on("BeforeSetContent",function(t){if(!0===t.selection&&!0===t.paste){W.from(e.dom.getParent(e.selection.getStart(),"th,td")).each(function(o){var i=lt.fromDom(o);Eo.table(i).bind(function(o){var a=Oe.filter(oa.fromHtml(t.content),function(e){return"meta"!==_r.name(e)});if(1===a.length&&"table"===_r.name(a[0])){t.preventDefault();var s=lt.fromDom(e.getDoc()),u=Qi.paste(s),c=Rs.paste(i,a[0],u);n.pasteCells(o,c).each(function(t){e.selection.setRng(t),e.focus(),r.clear(o)})}})})}})},Is={registerEvents:As},Ds=i("height",function(e){return Br.inBody(e)?e.dom().getBoundingClientRect().height:e.dom().offsetHeight}),Ms=function(e,t){Ds.set(e,t)},Ls=function(e){return Ds.get(e)},Bs=function(e){return Ds.getOuter(e)},Fs=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=Ds.max(e,t,n);Qo.set(e,"max-height",r+"px")},js={set:Ms,get:Ls,getOuter:Bs,setMax:Fs},Vs=i("width",function(e){return e.dom().offsetWidth}),Hs=function(e,t){Vs.set(e,t)},Us=function(e){return Vs.get(e)},zs=function(e){return Vs.getOuter(e)},qs=function(e,t){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=Vs.max(e,t,n);Qo.set(e,"max-width",r+"px")},Ws={set:Hs,get:Us,getOuter:zs,setMax:qs},Gs=Mn.detect(),Ks=function(){return Gs.browser.isIE()||Gs.browser.isEdge()},$s=function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},Ys=function(e,t,n){return $s(Qo.get(e,t),n)},Xs=function(e){var t=Ys(e,"padding-top",0),n=Ys(e,"padding-bottom",0),r=Ys(e,"border-top-width",0),o=Ys(e,"border-bottom-width",0),i=e.dom().getBoundingClientRect().height,a=Qo.get(e,"box-sizing"),s=r+o;return"border-box"===a?i:i-t-n-s},Zs=function(e){return Ys(e,"width",Ws.get(e))},Js=function(e){return Ks()?Xs(e):Ys(e,"height",js.get(e))},Qs={getWidth:Zs,getHeight:Js},eu=/(\d+(\.\d+)?)(\w|%)*/,tu=/(\d+(\.\d+)?)%/,nu=/(\d+(\.\d+)?)px|em/,ru=function(e,t){Qo.set(e,"width",t+"px")},ou=function(e,t){Qo.set(e,"width",t+"%")},iu=function(e,t){Qo.set(e,"height",t+"px")},au=function(e){return Qo.getRaw(e,"height").getOrThunk(function(){return Qs.getHeight(e)+"px"})},su=function(e,t,n,r){var o=Eo.table(e).map(function(e){var r=n(e);return Math.floor(t/100*r)}).getOr(t);return r(e,o),o},uu=function(e,t,n,r){var o=parseInt(e,10);return On.endsWith(e,"%")&&"table"!==_r.name(t)?su(t,o,n,r):o},cu=function(e){var t=au(e);return t?uu(t,e,js.get,iu):js.get(e)},lu=function(e,t,n){return n(e)/fu(e,t)},fu=function(e,t){return Ir.has(e,t)?parseInt(Ir.get(e,t),10):1},du=function(e){return Qo.getRaw(e,"width").fold(function(){return W.from(Ir.get(e,"width"))},function(e){return W.some(e)})},pu=function(e,t){return e/t.pixelWidth()*100},hu=function(e,t,n){if(tu.test(t)){var r=tu.exec(t);return parseFloat(r[1])}var o=Ws.get(e),i=parseInt(o,10);return pu(i,n)},mu=function(e,t){return du(e).fold(function(){var n=Ws.get(e),r=parseInt(n,10);return pu(r,t)},function(n){return hu(e,n,t)})},gu=function(e,t){return e/100*t.pixelWidth()},vu=function(e,t,n){if(nu.test(t)){var r=nu.exec(t);return parseInt(r[1],10)}if(tu.test(t)){var o=tu.exec(t),i=parseFloat(o[1]);return gu(i,n)}var a=Ws.get(e);return parseInt(a,10)},yu=function(e,t){return du(e).fold(function(){var t=Ws.get(e);return parseInt(t,10)},function(n){return vu(e,n,t)})},bu=function(e){return lu(e,"rowspan",cu)},wu=function(e){return du(e).bind(function(e){if(eu.test(e)){var t=eu.exec(e);return W.some({width:F.constant(t[1]),unit:F.constant(t[3])})}return W.none()})},Cu=function(e,t,n){Qo.set(e,"width",t+n)},_u={percentageBasedSizeRegex:F.constant(tu),pixelBasedSizeRegex:F.constant(nu),setPixelWidth:ru,setPercentageWidth:ou,setHeight:iu,getPixelWidth:yu,getPercentageWidth:mu,getGenericWidth:wu,setGenericWidth:Cu,getHeight:bu,getRawWidth:du},xu=function(e,t){_u.getGenericWidth(e).each(function(n){var r=n.width()/2;_u.setGenericWidth(e,r,n.unit()),_u.setGenericWidth(t,r,n.unit())})},Eu={halve:xu},Su=function(e,t){var n=t||lt.fromDom(document.documentElement);return no.ancestor(e,F.curry(zn.eq,n)).isSome()},Ou=function(e){var t=e.dom();return t===t.window?e:_r.isDocument(e)?t.defaultView||t.parentWindow:null},Tu={attached:Su,windowOf:Ou},ku=function(e,t){var n=function(n,r){return ku(e+n,t+r)};return{left:F.constant(e),top:F.constant(t),translate:n}},Ru=function(e){var t=e.getBoundingClientRect();return ku(t.left,t.top)},Pu=function(e,t){return void 0!==e?e:void 0!==t?t:0},Nu=function(e){var t=e.dom().ownerDocument,n=t.body,r=Tu.windowOf(lt.fromDom(t)),o=t.documentElement,i=Pu(r.pageYOffset,o.scrollTop),a=Pu(r.pageXOffset,o.scrollLeft),s=Pu(o.clientTop,n.clientTop),u=Pu(o.clientLeft,n.clientLeft);return Iu(e).translate(a-u,i-s)},Au=function(e){var t=e.dom();return ku(t.offsetLeft,t.offsetTop)},Iu=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body,o=lt.fromDom(n.documentElement);return r===t?ku(r.offsetLeft,r.offsetTop):Tu.attached(e,o)?Ru(t):ku(0,0)},Du={absolute:Nu,relative:Au,viewport:Iu},Mu=qe.immutable("row","y"),Lu=qe.immutable("col","x"),Bu=function(e){return Du.absolute(e).left()+Ws.getOuter(e)},Fu=function(e){return Du.absolute(e).left()},ju=function(e,t){return Lu(e,Fu(t))},Vu=function(e,t){return Lu(e,Bu(t))},Hu=function(e){return Du.absolute(e).top()},Uu=function(e,t){return Mu(e,Hu(t))},zu=function(e,t){return Mu(e,Hu(t)+js.getOuter(t))},qu=function(e,t,n){if(0===n.length)return[];var r=Oe.map(n.slice(1),function(t,n){return t.map(function(t){return e(n,t)})}),o=n[n.length-1].map(function(e){return t(n.length-1,e)});return r.concat([o])},Wu=function(e,t){return-e},Gu={delta:F.identity,positions:F.curry(qu,Uu,zu),edge:Hu},Ku={delta:F.identity,edge:Fu,positions:F.curry(qu,ju,Vu)},$u={delta:Wu,edge:Bu,positions:F.curry(qu,Vu,ju)},Yu={height:Gu,rtl:$u,ltr:Ku},Xu={ltr:Yu.ltr,rtl:Yu.rtl},Zu=function(e){var t=To.fromTable(e);return Do.generate(t).grid()},Ju={getGridSize:Zu},Qu=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return Qu(n())}}},ec=function(e,t){return tc(e,t,{validate:$.isFunction,label:"function"})},tc=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");return ze.validateStrArr("required",t),ze.checkDupes(t),function(r){var o=Le.keys(r);Oe.forall(t,function(e){return Oe.contains(o,e)})||ze.reqMessage(t,o),e(t,o);var i=Oe.filter(t,function(e){return!n.validate(r[e],e)});return i.length>0&&ze.invalidTypeMessage(i,n.label),r}},nc=function(e,t){var n=Oe.filter(t,function(t){return!Oe.contains(e,t)});n.length>0&&ze.unsuppMessage(n)},rc=F.noop,oc={exactly:F.curry(ec,nc),ensure:F.curry(ec,rc),ensureWith:F.curry(tc,rc)},ic=function(e){var t=Ir.has(e,"colspan")?parseInt(Ir.get(e,"colspan"),10):1,n=Ir.has(e,"rowspan")?parseInt(Ir.get(e,"rowspan"),10):1;return{element:F.constant(e),colspan:F.constant(t),rowspan:F.constant(n)}},ac=function(e,t){cc(e);var n=Qu(W.none()),r=void 0!==t?t:ic,o=function(t){return e.cell(t)},i=function(e){var t=r(e);return o(t)},a=function(e){var t=i(e);return n.get().isNone()&&n.set(W.some(t)),s=W.some({item:e,replacement:t}),t},s=W.none();return{getOrInit:function(e,t){return s.fold(function(){return a(e)},function(n){return t(e,n.item)?n.replacement:a(e)})},cursor:n.get}},sc=function(e,t){return function(n){var r=Qu(W.none());cc(n);var o=[],i=function(e,t){return Oe.find(o,function(n){return t(n.item,e)})},a=function(i){var a=n.replace(i,t,{scope:e});return o.push({item:i,sub:a}),r.get().isNone()&&r.set(W.some(a)),a};return{replaceOrInit:function(e,t){return i(e,t).fold(function(){return a(e)},function(n){return t(e,n.item)?n.sub:a(e)})},cursor:r.get}}},uc=function(e){cc(e);var t=Qu(W.none());return{combine:function(n){return t.get().isNone()&&t.set(W.some(n)),function(){var t=e.cell({element:F.constant(n),colspan:F.constant(1),rowspan:F.constant(1)});return Qo.remove(t,"width"),Qo.remove(n,"width"),t}},cursor:t.get}},cc=oc.exactly(["cell","row","replace","gap"]),lc={modification:ac,transform:sc,merging:uc},fc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],dc=function(e,t){var n=e.property().name(t);return Oe.contains(["ol","ul"],n)},pc=function(e,t){var n=e.property().name(t);return Oe.contains(fc,n)},hc=function(e,t){var n=e.property().name(t);return Oe.contains(["address","pre","p","h1","h2","h3","h4","h5","h6"],n)},mc=function(e,t){var n=e.property().name(t);return Oe.contains(["h1","h2","h3","h4","h5","h6"],n)},gc=function(e,t){return Oe.contains(["div","li","td","th","blockquote","body","caption"],e.property().name(t))},vc=function(e,t){return Oe.contains(["br","img","hr","input"],e.property().name(t))},yc=function(e,t){return"iframe"===e.property().name(t)},bc=function(e,t){return!(pc(e,t)||vc(e,t))&&"li"!==e.property().name(t)},wc={isBlock:pc,isList:dc,isFormatting:hc,isHeading:mc,isContainer:gc,isEmptyTag:vc,isFrame:yc,isInline:bc},Cc=o(),_c=function(e){return wc.isBlock(Cc,e)},xc=function(e){return wc.isList(Cc,e)},Ec=function(e){return wc.isFormatting(Cc,e)},Sc=function(e){return wc.isHeading(Cc,e)},Oc=function(e){return wc.isContainer(Cc,e)},Tc=function(e){return wc.isEmptyTag(Cc,e)},kc=function(e){return wc.isFrame(Cc,e)},Rc=function(e){return wc.isInline(Cc,e)},Pc={isBlock:_c,isList:xc,isFormatting:Ec,isHeading:Sc,isContainer:Oc,isEmptyTag:Tc,isFrame:kc,isInline:Rc},Nc=function(e){var t=function(e){return"br"===_r.name(e)},n=function(e){return Oe.forall(e,function(e){return t(e)||_r.isText(e)&&0===Di.get(e).trim().length})},r=function(e){return"li"===_r.name(e)||no.ancestor(e,Pc.isList).isSome()},o=function(e){return lr.nextSibling(e).map(function(e){return!!Pc.isBlock(e)||(Pc.isEmptyTag(e)?"img"!==_r.name(e):void 0)}).getOr(!1)},i=function(e){return Wi.last(e).bind(function(n){var i=o(n);return lr.parent(n).map(function(o){return!0===i||r(o)||t(n)||Pc.isBlock(o)&&!zn.eq(e,o)?[]:[lt.fromTag("br")]})}).getOr([])},a=function(){var t=Oe.bind(e,function(e){var t=lr.children(e);return n(t)?[]:t.concat(i(e))});return 0===t.length?[lt.fromTag("br")]:t}();mi.empty(e[0]),fi.append(e[0],a)},Ac={merge:Nc},Ic=function(e,t){return t},Dc=function(e,t){return $.isObject(e)&&$.isObject(t)?Lc(e,t):t},Mc=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)i.hasOwnProperty(a)&&(r[a]=e(r[a],i[a]))}return r}},Lc=Mc(Dc),Bc=Mc(Ic),Fc={deepMerge:Lc,merge:Bc},jc=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Vc=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return W.none()},Hc=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return W.none();n.push(o.getOrDie())}return W.some(t.apply(null,n))},Uc={cat:jc,findMap:Vc,liftN:Hc},zc=function(e,t,n){var r=e.cells(),o=r.slice(0,t),i=r.slice(t),a=o.concat([n]).concat(i);return Wc(e,a)},qc=function(e,t,n){e.cells()[t]=n},Wc=function(e,t){return ot.rowcells(t,e.section())},Gc=function(e,t){var n=e.cells(),r=Oe.map(n,t);return ot.rowcells(r,e.section())},Kc=function(e,t){return e.cells()[t]},$c=function(e,t){return Kc(e,t).element()},Yc=function(e){return e.cells().length},Xc={addCell:zc,setCells:Wc,mutateCell:qc,getCell:Kc,getCellElement:$c,mapCells:Gc,cellLength:Yc},Zc=function(e,t){return Oe.map(e,function(e){return Xc.getCell(e,t)})},Jc=function(e,t){return e[t]},Qc=function(e,t){if(0===e.length)return 0;var n=e[0];return Oe.findIndex(e,function(e){return!t(n.element(),e.element())}).fold(function(){return e.length},function(e){return e})},el=function(e,t,n,r){var o=Jc(e,t).cells().slice(n),i=Qc(o,r),a=Zc(e,n).slice(t),s=Qc(a,r);return{colspan:F.constant(i),rowspan:F.constant(s)}},tl={subgrid:el},nl=function(e,t){var n=Oe.map(e,function(e,t){return Oe.map(e.cells(),function(e,t){return!1})}),r=function(e,t,r,o){for(var i=e;i<e+r;i++)for(var a=t;a<t+o;a++)n[i][a]=!0};return Oe.map(e,function(o,i){var a=Oe.bind(o.cells(),function(o,a){if(!1===n[i][a]){var s=tl.subgrid(e,i,a,t);return r(i,a,s.rowspan(),s.colspan()),[ot.detailnew(o.element(),s.rowspan(),s.colspan(),o.isNew())]}return[]});return ot.rowdetails(a,o.section())})},rl=function(e,t,n){for(var r=[],o=0;o<e.grid().rows();o++){for(var i=[],a=0;a<e.grid().columns();a++){var s=Do.getAt(e,o,a).map(function(e){return ot.elementnew(e.element(),n)}).getOrThunk(function(){return ot.elementnew(t.gap(),!0)});i.push(s)}var u=ot.rowcells(i,e.all()[o].section());r.push(u)}return r},ol={toDetails:nl,toGrid:rl},il=function(e,t,n,r){n===r?Ir.remove(e,t):Ir.set(e,t,n)},al=function(e,t){var n=[],r=[],o=function(t,o){var i=co.child(e,o).getOrThunk(function(){var t=lt.fromTag(o,lr.owner(e).dom());return ai.append(e,t),t});mi.empty(i);var a=Oe.map(t,function(e){e.isNew()&&n.push(e.element());var t=e.element();return mi.empty(t),Oe.each(e.cells(),function(e){e.isNew()&&r.push(e.element()),il(e.element(),"colspan",e.colspan(),1),il(e.element(),"rowspan",e.rowspan(),1),ai.append(t,e.element())}),t});fi.append(i,a)},i=function(t){co.child(e,t).bind(mi.remove)},a=function(e,t){e.length>0?o(e,t):i(t)},s=[],u=[],c=[];return Oe.each(t,function(e){switch(e.section()){case"thead":s.push(e);break;case"tbody":u.push(e);break;case"tfoot":c.push(e)}}),a(s,"thead"),a(u,"tbody"),a(c,"tfoot"),{newRows:F.constant(n),newCells:F.constant(r)}},sl=function(e){return Oe.map(e,function(e){var t=Ri.shallow(e.element());return Oe.each(e.cells(),function(e){var n=Ri.deep(e.element());il(n,"colspan",e.colspan(),1),il(n,"rowspan",e.rowspan(),1),ai.append(t,n)}),t})},ul={render:al,copy:sl},cl=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},ll=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},fl=function(e,t){var n=[];return Oe.each(e,function(r,o){o<e.length-1&&!t(r,e[o+1])?n.push(r):o===e.length-1&&n.push(r)}),n},dl=function(e,t){if(t<0||t>=e.length-1)return W.none();var n=e[t].fold(function(){var n=Oe.reverse(e.slice(0,t));return Uc.findMap(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return W.some({value:e,delta:0})}),r=e[t+1].fold(function(){var n=e.slice(t+1);return Uc.findMap(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return W.some({value:e,delta:1})});return n.bind(function(e){return r.map(function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n})})},pl={repeat:cl,range:ll,unique:fl,deduce:dl},hl=function(e){var t=e.grid(),n=pl.range(0,t.columns()),r=pl.range(0,t.rows());return Oe.map(n,function(t){return ml(function(){return Oe.bind(r,function(n){return Do.getAt(e,n,t).filter(function(e){return e.column()===t}).fold(F.constant([]),function(e){return[e]})})},function(e){return 1===e.colspan()},function(){return Do.getAt(e,0,t)})})},ml=function(e,t,n){var r=e();return Oe.find(r,t).orThunk(function(){return W.from(r[0]).orThunk(n)}).map(function(e){return e.element()})},gl=function(e){var t=e.grid(),n=pl.range(0,t.rows()),r=pl.range(0,t.columns());return Oe.map(n,function(t){return ml(function(){return Oe.bind(r,function(n){return Do.getAt(e,t,n).filter(function(e){return e.row()===t}).fold(F.constant([]),function(e){return[e]})})},function(e){return 1===e.rowspan()},function(){return Do.getAt(e,t,0)})})},vl={columns:hl,rows:gl},yl=function(e,t,n,r,o){var i=lt.fromTag("div");return Qo.setAll(i,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Ir.setAll(i,{"data-column":e,role:"presentation"}),i},bl=function(e,t,n,r,o){var i=lt.fromTag("div");return Qo.setAll(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Ir.setAll(i,{"data-row":e,role:"presentation"}),i},wl={col:yl,row:bl},Cl=function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}},_l={css:Cl},xl=_l.css("ephox-snooker"),El={resolve:xl.resolve},Sl=function(e,t){var n=Ir.get(e,t);return void 0===n||""===n?[]:n.split(" ")},Ol=function(e,t,n){var r=Sl(e,t),o=r.concat([n]);Ir.set(e,t,o.join(" "))},Tl=function(e,t,n){var r=Oe.filter(Sl(e,t),function(e){return e!==n});r.length>0?Ir.set(e,t,r.join(" ")):Ir.remove(e,t)},kl={read:Sl,add:Ol,remove:Tl},Rl=function(e){return void 0!==e.dom().classList},Pl=function(e){return kl.read(e,"class")},Nl=function(e,t){return kl.add(e,"class",t)},Al=function(e,t){return kl.remove(e,"class",t)},Il=function(e,t){Oe.contains(Pl(e),t)?Al(e,t):Nl(e,t)},Dl={get:Pl,add:Nl,remove:Al,toggle:Il,supports:Rl},Ml=function(e,t){Dl.supports(e)?e.dom().classList.add(t):Dl.add(e,t)},Ll=function(e){0===(Dl.supports(e)?e.dom().classList:Dl.get(e)).length&&Ir.remove(e,"class")},Bl=function(e,t){if(Dl.supports(e)){e.dom().classList.remove(t)}else Dl.remove(e,t);Ll(e)},Fl=function(e,t){return Dl.supports(e)?e.dom().classList.toggle(t):Dl.toggle(e,t)},jl=function(e,t){var n=Dl.supports(e),r=e.dom().classList;return s(function(){n?r.remove(t):Dl.remove(e,t)},function(){n?r.add(t):Dl.add(e,t)},Vl(e,t))},Vl=function(e,t){return Dl.supports(e)&&e.dom().classList.contains(t)},Hl={add:Ml,remove:Bl,toggle:Fl,toggler:jl,has:Vl},Ul=El.resolve("resizer-bar"),zl=El.resolve("resizer-rows"),ql=El.resolve("resizer-cols"),Wl=function(e){var t=Yr.descendants(e.parent(),"."+Ul);Oe.each(t,mi.remove)},Gl=function(e,t,n){var r=e.origin();Oe.each(t,function(t,o){t.each(function(t){var o=n(r,t);Hl.add(o,Ul),ai.append(e.parent(),o)})})},Kl=function(e,t,n,r){Gl(e,t,function(e,t){var o=wl.col(t.col(),t.x()-e.left(),n.top()-e.top(),7,r);return Hl.add(o,ql),o})},$l=function(e,t,n,r){Gl(e,t,function(e,t){var o=wl.row(t.row(),n.left()-e.left(),t.y()-e.top(),r,7);return Hl.add(o,zl),o})},Yl=function(e,t,n,r,o,i){var a=Du.absolute(t),s=n.length>0?o.positions(n,t):[];$l(e,s,a,Ws.getOuter(t));var u=r.length>0?i.positions(r,t):[];Kl(e,u,a,js.getOuter(t))},Xl=function(e,t,n,r){Wl(e);var o=To.fromTable(t),i=Do.generate(o),a=vl.rows(i),s=vl.columns(i);Yl(e,t,a,s,n,r)},Zl=function(e,t){var n=Yr.descendants(e.parent(),"."+Ul);Oe.each(n,t)},Jl=function(e){Zl(e,function(e){Qo.set(e,"display","none")})},Ql=function(e){Zl(e,function(e){Qo.set(e,"display","block")})},ef=function(e){return Hl.has(e,zl)},tf=function(e){return Hl.has(e,ql)},nf={refresh:Xl,hide:Jl,show:Ql,destroy:Wl,isRowBar:ef,isColBar:tf},rf=function(e,t){return ol.toGrid(e,t,!1)},of=function(e,t){var n=function(e){return Uc.findMap(e,function(e){return lr.parent(e.element()).map(function(e){var t=lr.parent(e).isNone();return ot.elementnew(e,t)})}).getOrThunk(function(){return ot.elementnew(t.row(),!0)})};return Oe.map(e,function(e){var t=n(e.details());return ot.rowdatanew(t.element(),e.details(),e.section(),t.isNew())})},af=function(e,t){var n=ol.toDetails(e,zn.eq);return of(n,t)},sf=function(e,t){var n=Oe.flatten(Oe.map(e.all(),function(e){return e.cells()}));return Oe.find(n,function(e){return zn.eq(t,e.element())})},uf=function(e,t,n,r,o){return function(i,a,s,u,c){var l=To.fromTable(a),f=Do.generate(l);return t(f,s).map(function(t){var n=rf(f,u),r=e(n,t,zn.eq,o(u)),i=af(r.grid(),u);return{grid:F.constant(i),cursor:r.cursor}}).fold(function(){return W.none()},function(e){var t=ul.render(a,e.grid());return n(a,e.grid(),c),r(a),nf.refresh(i,a,Yu.height,c),W.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})}},cf=function(e,t){return Eo.cell(t.element()).bind(function(t){return sf(e,t)})},lf=function(e,t){return Eo.cell(t.element()).bind(function(n){return sf(e,n).map(function(e){return Fc.merge(e,{generators:t.generators,clipboard:t.clipboard})})})},ff=function(e,t){var n=Oe.map(t.selection(),function(t){return Eo.cell(t).bind(function(t){return sf(e,t)})}),r=Uc.cat(n);return r.length>0?W.some(Fc.merge({cells:r},{generators:t.generators,clipboard:t.clipboard})):W.none()},df=function(e,t){return t.mergable()},pf=function(e,t){return t.unmergable()},hf=function(e,t){var n=Oe.map(t.selection(),function(t){return Eo.cell(t).bind(function(t){return sf(e,t)})}),r=Uc.cat(n);return r.length>0?W.some(r):W.none()},mf={run:uf,toDetailList:af,onCell:cf,onCells:hf,onPaste:lf,onPasteRows:ff,onMergable:df,onUnmergable:pf},gf=function(e){var t=function(t){return e===t},n=function(t){return gf(e)},r=function(t){return gf(e)},o=function(t){return gf(t(e))},i=function(t){t(e)},a=function(t){return t(e)},s=function(t,n){return n(e)},u=function(t){return t(e)},c=function(t){return t(e)},l=function(){return W.some(e)};return{is:t,isValue:F.always,isError:F.never,getOr:F.constant(e),getOrThunk:F.constant(e),getOrDie:F.constant(e),or:n,orThunk:r,fold:s,map:o,each:i,bind:a,exists:u,forall:c,toOption:l}},vf=function(e){var t=function(e){return e()},n=function(){return F.die(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return vf(e)},a=function(t){return vf(e)},s=function(t,n){return t(e)};return{is:F.never,isValue:F.never,isError:F.always,getOr:F.identity,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:s,map:i,each:F.noop,bind:a,exists:F.never,forall:F.always,toOption:W.none}},yf={value:gf,error:vf},bf=function(e,t,n){if(e.row()>=t.length||e.column()>Xc.cellLength(t[0]))return yf.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var r=t.slice(e.row()),o=r[0].cells().slice(e.column()),i=Xc.cellLength(n[0]),a=n.length;return yf.value({rowDelta:F.constant(r.length-a),colDelta:F.constant(o.length-i)})},wf=function(e,t){var n=Xc.cellLength(e[0]),r=Xc.cellLength(t[0]);return{rowDelta:F.constant(0),colDelta:F.constant(n-r)}},Cf=function(e,t){return Oe.map(e,function(){return ot.elementnew(t.cell(),!0)})},_f=function(e,t,n){return e.concat(pl.repeat(t,function(t){return Xc.setCells(e[e.length-1],Cf(e[e.length-1].cells(),n))}))},xf=function(e,t,n){return Oe.map(e,function(e){return Xc.setCells(e,e.cells().concat(Cf(pl.range(0,t),n)))})},Ef=function(e,t,n){var r=t.colDelta()<0?xf:F.identity;return(t.rowDelta()<0?_f:F.identity)(r(e,Math.abs(t.colDelta()),n),Math.abs(t.rowDelta()),n)},Sf={measure:bf,measureWidth:wf,tailor:Ef},Of=function(e,t,n,r){if(0===e.length)return e;for(var o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)Xc.mutateCell(e[o],i,ot.elementnew(r(),!1));return e},Tf=function(e,t,n,r){for(var o=!0,i=0;i<e.length;i++)for(var a=0;a<Xc.cellLength(e[0]);a++){var s=Xc.getCellElement(e[i],a),u=n(s,t);!0===u&&!1===o?Xc.mutateCell(e[i],a,ot.elementnew(r(),!0)):!0===u&&(o=!1)}return e},kf=function(e,t){return Oe.foldl(e,function(e,n){return Oe.exists(e,function(e){return t(e.element(),n.element())})?e:e.concat([n])},[])},Rf=function(e,t,n,r){if(t>0&&t<e.length){var o=e[t-1].cells(),i=kf(o,n);Oe.each(i,function(o){for(var i=W.none(),a=t;a<e.length;a++)for(var s=0;s<Xc.cellLength(e[0]);s++){var u=e[a].cells()[s],c=n(u.element(),o.element());c&&(i.isNone()&&(i=W.some(r())),i.each(function(t){Xc.mutateCell(e[a],s,ot.elementnew(t,!0))}))}})}return e},Pf={merge:Of,unmerge:Tf,splitRows:Rf},Nf=function(e,t,n,r){var o=Xc.getCell(e[t],n),i=F.curry(r,o.element()),a=e[t];return e.length>1&&Xc.cellLength(a)>1&&(n>0&&i(Xc.getCellElement(a,n-1))||n<a.length-1&&i(Xc.getCellElement(a,n+1))||t>0&&i(Xc.getCellElement(e[t-1],n))||t<e.length-1&&i(Xc.getCellElement(e[t+1],n)))},Af=function(e,t,n,r,o){for(var i=e.row(),a=e.column(),s=n.length,u=Xc.cellLength(n[0]),c=i+s,l=a+u,f=i;f<c;f++)for(var d=a;d<l;d++){Nf(t,f,d,o)&&Pf.unmerge(t,Xc.getCellElement(t[f],d),o,r.cell);var p=Xc.getCellElement(n[f-i],d-a),h=r.replace(p);Xc.mutateCell(t[f],d,ot.elementnew(h,!0))}return t},If=function(e,t,n,r,o){return Sf.measure(e,t,n).map(function(i){var a=Sf.tailor(t,i,r);return Af(e,a,n,r,o)})},Df=function(e,t,n,r,o){Pf.splitRows(t,e,o,r.cell);var i=Sf.measureWidth(n,t),a=Sf.tailor(n,i,r),s=Sf.measureWidth(t,a),u=Sf.tailor(t,s,r);return u.slice(0,e).concat(a).concat(u.slice(e,u.length))},Mf={merge:If,insert:Df},Lf=function(e,t,n,r,o){var i=e.slice(0,t),a=e.slice(t),s=Xc.mapCells(e[n],function(n,i){return t>0&&t<e.length&&r(Xc.getCellElement(e[t-1],i),Xc.getCellElement(e[t],i))?Xc.getCell(e[t],i):ot.elementnew(o(n.element(),r),!0)});return i.concat([s]).concat(a)},Bf=function(e,t,n,r,o){return Oe.map(e,function(e){var i=t>0&&t<Xc.cellLength(e)&&r(Xc.getCellElement(e,t-1),Xc.getCellElement(e,t)),a=i?Xc.getCell(e,t):ot.elementnew(o(Xc.getCellElement(e,n),r),!0);return Xc.addCell(e,t,a)})},Ff=function(e,t,n,r,o){var i=n+1;return Oe.map(e,function(e,a){var s=a===t,u=s?ot.elementnew(o(Xc.getCellElement(e,n),r),!0):Xc.getCell(e,n);return Xc.addCell(e,i,u)})},jf=function(e,t,n,r,o){var i=t+1,a=e.slice(0,i),s=e.slice(i),u=Xc.mapCells(e[t],function(e,t){return t===n?ot.elementnew(o(e.element(),r),!0):e});return a.concat([u]).concat(s)},Vf=function(e,t,n){var r=Oe.map(e,function(e){var r=e.cells().slice(0,t).concat(e.cells().slice(n+1));return ot.rowcells(r,e.section())});return Oe.filter(r,function(e){return e.cells().length>0})},Hf=function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},Uf={insertRowAt:Lf,insertColumnAt:Bf,splitCellIntoColumns:Ff,splitCellIntoRows:jf,deleteRowsAt:Hf,deleteColumnsAt:Vf},zf=function(e,t,n,r){var o=function(e){return Oe.exists(t,function(t){return n(e.element(),t.element())})};return Oe.map(e,function(e){return Xc.mapCells(e,function(e){return o(e)?ot.elementnew(r(e.element(),n),!0):e})})},qf=function(e,t,n,r){return void 0!==Xc.getCellElement(e[t],n)&&t>0&&r(Xc.getCellElement(e[t-1],n),Xc.getCellElement(e[t],n))},Wf=function(e,t,n){return t>0&&n(Xc.getCellElement(e,t-1),Xc.getCellElement(e,t))},Gf=function(e,t,n,r){var o=Oe.bind(e,function(r,o){return qf(e,o,t,n)||Wf(r,t,n)?[]:[Xc.getCell(r,t)]});return zf(e,o,n,r)},Kf=function(e,t,n,r){var o=e[t],i=Oe.bind(o.cells(),function(r,i){return qf(e,t,i,n)||Wf(o,i,n)?[]:[r]});return zf(e,i,n,r)},$f={replaceColumn:Gf,replaceRow:Kf},Yf=function(){return ed(function(e,t,n,r,o){return e()})},Xf=function(e){return ed(function(t,n,r,o,i){return n(e)})},Zf=function(e,t){return ed(function(n,r,o,i,a){return o(e,t)})},Jf=function(e,t,n){return ed(function(r,o,i,a,s){return a(e,t,n)})},Qf=function(e,t){return ed(function(n,r,o,i,a){return a(e,t)})},ed=function(e){return{fold:e}},td={none:Yf,only:Xf,left:Zf,middle:Jf,right:Qf},nd=function(e,t){return 0===e.length?td.none():1===e.length?td.only(0):0===t?td.left(0,1):t===e.length-1?td.right(t-1,t):t>0&&t<e.length-1?td.middle(t-1,t,t+1):td.none()},rd=function(e,t,n,r){var o=e.slice(0),i=nd(e,t),a=function(e){return Oe.map(e,F.constant(0))},s=F.constant(a(o)),u=function(e){return r.singleColumnWidth(o[e],n)},c=function(e,t){if(n>=0){var i=Math.max(r.minCellWidth(),o[t]-n);return a(o.slice(0,e)).concat([n,i-o[t]]).concat(a(o.slice(t+1)))}var s=Math.max(r.minCellWidth(),o[e]+n),u=o[e]-s;return a(o.slice(0,e)).concat([s-o[e],u]).concat(a(o.slice(t+1)))},l=c,f=function(e,t,n){return c(t,n)},d=function(e,t){if(n>=0)return a(o.slice(0,t)).concat([n]);var i=Math.max(r.minCellWidth(),o[t]+n);return a(o.slice(0,t)).concat([i-o[t]])};return i.fold(s,u,l,f,d)},od={determine:rd},id=function(e,t){return Ir.has(e,t)&&parseInt(Ir.get(e,t),10)>1},ad=function(e){return id(e,"colspan")},sd=function(e){return id(e,"rowspan")},ud=function(e,t){return parseInt(Qo.get(e,t),10)},cd={hasColspan:ad,hasRowspan:sd,minWidth:F.constant(10),minHeight:F.constant(10),getInt:ud},ld=function(e,t,n){return Qo.getRaw(e,t).fold(function(){return n(e)+"px"},function(e){return e})},fd=function(e){return ld(e,"width",_u.getPixelWidth)},dd=function(e){return ld(e,"height",_u.getHeight)},pd=function(e,t,n,r,o){var i=vl.columns(e),a=Oe.map(i,function(e){return e.map(t.edge)});return Oe.map(i,function(e,t){return e.filter(F.not(cd.hasColspan)).fold(function(){var e=pl.deduce(a,t);return r(e)},function(e){return n(e,o)})})},hd=function(e){return e.map(function(e){return e+"px"}).getOr("")},md=function(e,t){return pd(e,t,fd,hd)},gd=function(e,t,n){return pd(e,t,_u.getPercentageWidth,function(e){return e.fold(function(){return n.minCellWidth()},function(e){return e/n.pixelWidth()*100})},n)},vd=function(e,t,n){return pd(e,t,_u.getPixelWidth,function(e){return e.getOrThunk(n.minCellWidth)},n)},yd=function(e,t,n,r){var o=vl.rows(e),i=Oe.map(o,function(e){return e.map(t.edge)});return Oe.map(o,function(e,t){return e.filter(F.not(cd.hasRowspan)).fold(function(){var e=pl.deduce(i,t);return r(e)},function(e){return n(e)})})},bd=function(e,t){return yd(e,t,_u.getHeight,function(e){return e.getOrThunk(cd.minHeight)})},wd=function(e,t){return yd(e,t,dd,hd)},Cd={getRawWidths:md,getPixelWidths:vd,getPercentageWidths:gd,getPixelHeights:bd,getRawHeights:wd},_d=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},xd=function(e,t){var n=Do.justCells(e);return Oe.map(n,function(e){var n=_d(e.column(),e.column()+e.colspan(),t);return{element:e.element,width:F.constant(n),colspan:e.colspan}})},Ed=function(e,t){var n=Do.justCells(e);return Oe.map(n,function(e){var n=_d(e.row(),e.row()+e.rowspan(),t);return{element:e.element,height:F.constant(n),rowspan:e.rowspan}})},Sd=function(e,t){return Oe.map(e.all(),function(e,n){return{element:e.element,height:F.constant(t[n])}})},Od={recalculateWidth:xd,recalculateHeight:Ed,matchRowHeight:Sd},Td=function(e,t){var n=parseFloat(e),r=Ws.get(t),o=function(e){return e/r*100},i=function(e,t){return[100-e]},a=function(){return cd.minWidth()/r*100},s=function(e,t,r){var o=n+r;_u.setPercentageWidth(e,o)};return{width:F.constant(n),pixelWidth:F.constant(r),getWidths:Cd.getPercentageWidths,getCellDelta:o,singleColumnWidth:i,minCellWidth:a,setElementWidth:_u.setPercentageWidth,setTableWidth:s}},kd=function(e){var t=parseInt(e,10),n=F.identity,r=function(e,t){return[Math.max(cd.minWidth(),e+t)-e]},o=function(e,t,n){var r=Oe.foldr(t,function(e,t){return e+t},0);_u.setPixelWidth(e,r)};return{width:F.constant(t),pixelWidth:F.constant(t),getWidths:Cd.getPixelWidths,getCellDelta:n,singleColumnWidth:r,minCellWidth:cd.minWidth,setElementWidth:_u.setPixelWidth,setTableWidth:o}},Rd=function(e,t){if(_u.percentageBasedSizeRegex().test(t)){var n=_u.percentageBasedSizeRegex().exec(t);return Td(n[1],e)}if(_u.pixelBasedSizeRegex().test(t)){var r=_u.pixelBasedSizeRegex().exec(t);return kd(r[1])}var o=Ws.get(e);return kd(o)},Pd=function(e){return _u.getRawWidth(e).fold(function(){var t=Ws.get(e);return kd(t)},function(t){return Rd(e,t)})},Nd={getTableSize:Pd},Ad=function(e){return Do.generate(e)},Id=function(e){return Oe.foldr(e,function(e,t){return e+t},0)},Dd=function(e){var t=To.fromTable(e);return Ad(t)},Md=function(e,t,n,r){var o=Nd.getTableSize(e),i=o.getCellDelta(t),a=Dd(e),s=o.getWidths(a,r,o),u=od.determine(s,n,i,o),c=Oe.map(u,function(e,t){return e+s[t]}),l=Od.recalculateWidth(a,c);Oe.each(l,function(e){o.setElementWidth(e.element(),e.width())}),n===a.grid().columns()-1&&o.setTableWidth(e,c,i)},Ld=function(e,t,n,r){var o=Dd(e),i=Cd.getPixelHeights(o,r),a=Oe.map(i,function(e,r){return n===r?Math.max(t+e,cd.minHeight()):e}),s=Od.recalculateHeight(o,a),u=Od.matchRowHeight(o,a);Oe.each(u,function(e){_u.setHeight(e.element(),e.height())}),Oe.each(s,function(e){_u.setHeight(e.element(),e.height())});var c=Id(a);_u.setHeight(e,c)},Bd=function(e,t,n){var r=Nd.getTableSize(e),o=Ad(t),i=r.getWidths(o,n,r),a=Od.recalculateWidth(o,i);Oe.each(a,function(e){r.setElementWidth(e.element(),e.width())});var s=Oe.foldr(i,function(e,t){return t+e},0);a.length>0&&r.setElementWidth(e,s)},Fd={adjustWidth:Md,adjustHeight:Ld,adjustWidthTo:Bd},jd=function(e){0===Eo.cells(e).length&&mi.remove(e)},Vd=qe.immutable("grid","cursor"),Hd=function(e,t,n){return Ud(e,t,n).orThunk(function(){return Ud(e,0,0)})},Ud=function(e,t,n){return W.from(e[t]).bind(function(e){return W.from(e.cells()[n]).bind(function(e){return W.from(e.element())})})},zd=function(e,t,n){return Vd(e,Ud(e,t,n))},qd=function(e){return Oe.foldl(e,function(e,t){return Oe.exists(e,function(e){return e.row()===t.row()})?e:e.concat([t])},[]).sort(function(e,t){return e.row()-t.row()})},Wd=function(e){return Oe.foldl(e,function(e,t){return Oe.exists(e,function(e){return e.column()===t.column()})?e:e.concat([t])},[]).sort(function(e,t){return e.column()-t.column()})},Gd=function(e,t,n,r){var o=t.row(),i=t.row(),a=Uf.insertRowAt(e,i,o,n,r.getOrInit);return zd(a,i,t.column())},Kd=function(e,t,n,r){var o=t[0].row(),i=t[0].row(),a=qd(t),s=Oe.foldl(a,function(e,t){return Uf.insertRowAt(e,i,o,n,r.getOrInit)},e);return zd(s,i,t[0].column())},$d=function(e,t,n,r){var o=t.row(),i=t.row()+t.rowspan(),a=Uf.insertRowAt(e,i,o,n,r.getOrInit);return zd(a,i,t.column())},Yd=function(e,t,n,r){var o=qd(t),i=o[o.length-1].row(),a=o[o.length-1].row()+o[o.length-1].rowspan(),s=Oe.foldl(o,function(e,t){return Uf.insertRowAt(e,a,i,n,r.getOrInit)},e);return zd(s,a,t[0].column())},Xd=function(e,t,n,r){var o=t.column(),i=t.column(),a=Uf.insertColumnAt(e,i,o,n,r.getOrInit);return zd(a,t.row(),i)},Zd=function(e,t,n,r){var o=Wd(t),i=o[0].column(),a=o[0].column(),s=Oe.foldl(o,function(e,t){return Uf.insertColumnAt(e,a,i,n,r.getOrInit)},e);return zd(s,t[0].row(),a)},Jd=function(e,t,n,r){var o=t.column(),i=t.column()+t.colspan(),a=Uf.insertColumnAt(e,i,o,n,r.getOrInit);return zd(a,t.row(),i)},Qd=function(e,t,n,r){var o=t[t.length-1].column(),i=t[t.length-1].column()+t[t.length-1].colspan(),a=Wd(t),s=Oe.foldl(a,function(e,t){return Uf.insertColumnAt(e,i,o,n,r.getOrInit)},e);return zd(s,t[0].row(),i)},ep=function(e,t,n,r){var o=$f.replaceRow(e,t.row(),n,r.replaceOrInit);return zd(o,t.row(),t.column())},tp=function(e,t,n,r){var o=$f.replaceColumn(e,t.column(),n,r.replaceOrInit);return zd(o,t.row(),t.column())},np=function(e,t,n,r){var o=$f.replaceRow(e,t.row(),n,r.replaceOrInit);return zd(o,t.row(),t.column())},rp=function(e,t,n,r){var o=$f.replaceColumn(e,t.column(),n,r.replaceOrInit);return zd(o,t.row(),t.column())},op=function(e,t,n,r){var o=Uf.splitCellIntoColumns(e,t.row(),t.column(),n,r.getOrInit);return zd(o,t.row(),t.column())},ip=function(e,t,n,r){var o=Uf.splitCellIntoRows(e,t.row(),t.column(),n,r.getOrInit);return zd(o,t.row(),t.column())},ap=function(e,t,n,r){var o=Wd(t),i=Uf.deleteColumnsAt(e,o[0].column(),o[o.length-1].column()),a=Hd(i,t[0].row(),t[0].column());return Vd(i,a)},sp=function(e,t,n,r){var o=qd(t),i=Uf.deleteRowsAt(e,o[0].row(),o[o.length-1].row()),a=Hd(i,t[0].row(),t[0].column());return Vd(i,a)},up=function(e,t,n,r){var o=t.cells();Ac.merge(o);var i=Pf.merge(e,t.bounds(),n,F.constant(o[0]));return Vd(i,W.from(o[0]))},cp=function(e,t,n,r){var o=Oe.foldr(t,function(e,t){return Pf.unmerge(e,t,n,r.combine(t))},e);return Vd(o,W.from(t[0]))},lp=function(e,t,n,r){var o=function(e,t){var n=To.fromTable(e),r=Do.generate(n);return ol.toGrid(r,t,!0)}(t.clipboard(),t.generators()),i=ot.address(t.row(),t.column());return Mf.merge(i,e,o,t.generators(),n).fold(function(){return Vd(e,W.some(t.element()))},function(e){var n=Hd(e,t.row(),t.column());return Vd(e,n)})},fp=function(e,t,n){var r=To.fromPastedRows(e,n),o=Do.generate(r);return ol.toGrid(o,t,!0)},dp=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].row(),a=fp(t.clipboard(),t.generators(),o),s=Mf.insert(i,e,a,t.generators(),n),u=Hd(s,t.cells[0].row(),t.cells[0].column());return Vd(s,u)},pp=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),a=fp(t.clipboard(),t.generators(),o),s=Mf.insert(i,e,a,t.generators(),n),u=Hd(s,t.cells[0].row(),t.cells[0].column());return Vd(s,u)},hp=Fd.adjustWidthTo,mp={insertRowBefore:mf.run(Gd,mf.onCell,F.noop,F.noop,lc.modification),insertRowsBefore:mf.run(Kd,mf.onCells,F.noop,F.noop,lc.modification),insertRowAfter:mf.run($d,mf.onCell,F.noop,F.noop,lc.modification),insertRowsAfter:mf.run(Yd,mf.onCells,F.noop,F.noop,lc.modification),insertColumnBefore:mf.run(Xd,mf.onCell,hp,F.noop,lc.modification),insertColumnsBefore:mf.run(Zd,mf.onCells,hp,F.noop,lc.modification),insertColumnAfter:mf.run(Jd,mf.onCell,hp,F.noop,lc.modification),insertColumnsAfter:mf.run(Qd,mf.onCells,hp,F.noop,lc.modification),splitCellIntoColumns:mf.run(op,mf.onCell,hp,F.noop,lc.modification),splitCellIntoRows:mf.run(ip,mf.onCell,F.noop,F.noop,lc.modification),eraseColumns:mf.run(ap,mf.onCells,hp,jd,lc.modification),eraseRows:mf.run(sp,mf.onCells,F.noop,jd,lc.modification),makeColumnHeader:mf.run(tp,mf.onCell,F.noop,F.noop,lc.transform("row","th")),unmakeColumnHeader:mf.run(rp,mf.onCell,F.noop,F.noop,lc.transform(null,"td")),makeRowHeader:mf.run(ep,mf.onCell,F.noop,F.noop,lc.transform("col","th")),unmakeRowHeader:mf.run(np,mf.onCell,F.noop,F.noop,lc.transform(null,"td")),mergeCells:mf.run(up,mf.onMergable,F.noop,F.noop,lc.merging),unmergeCells:mf.run(cp,mf.onUnmergable,hp,F.noop,lc.merging),pasteCells:mf.run(lp,mf.onPaste,hp,F.noop,lc.modification),pasteRowsBefore:mf.run(dp,mf.onPasteRows,F.noop,F.noop,lc.modification),pasteRowsAfter:mf.run(pp,mf.onPasteRows,F.noop,F.noop,lc.modification)},gp=function(e){return lt.fromDom(e.getBody())},vp=function(e){return e.getBoundingClientRect().width},yp=function(e){return e.getBoundingClientRect().height},bp=function(e){return function(t){return zn.eq(t,gp(e))}},wp=function(e){return e?e.replace(/px$/,""):""},Cp=function(e){return/^[0-9]+$/.test(e)&&(e+="px"),e},_p=function(e){var t=Yr.descendants(e,"td[data-mce-style],th[data-mce-style]");Ir.remove(e,"data-mce-style"),Oe.each(t,function(e){Ir.remove(e,"data-mce-style")})},xp=function(e,t){return function(n){return"rtl"===Ep(n)?t:e}},Ep=function(e){return"rtl"===Qo.get(e,"direction")?"rtl":"ltr"},Sp={onDirection:xp,getDirection:Ep},Op={isRtl:F.constant(!1)},Tp={isRtl:F.constant(!0)},kp=function(e){return"rtl"===Sp.getDirection(e)?Tp:Op},Rp={directionAt:kp},Pp=["tableprops","tabledelete","|","tableinsertrowbefore","tableinsertrowafter","tabledeleterow","|","tableinsertcolbefore","tableinsertcolafter","tabledeletecol"],Np={"border-collapse":"collapse",width:"100%"},Ap={border:"1"},Ip=function(e){return e.getParam("table_default_attributes",Ap,"object")},Dp=function(e){return e.getParam("table_default_styles",Np,"object")},Mp=function(e){return e.getParam("table_resize_bars",!0,"boolean")},Lp=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},Bp=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},Fp=function(e){return e.getParam("table_row_advtab",!0,"boolean")},jp=function(e){return e.getParam("table_advtab",!0,"boolean")},Vp=function(e){return e.getParam("table_appearance_options",!0,"boolean")},Hp=function(e){return e.getParam("table_grid",!0,"boolean")},Up=function(e){return e.getParam("table_style_by_css",!1,"boolean")},zp=function(e){return e.getParam("table_cell_class_list",[],"array")},qp=function(e){return e.getParam("table_row_class_list",[],"array")},Wp=function(e){return e.getParam("table_class_list",[],"array")},Gp=function(e){return e.getParam("color_picker_callback")},Kp=function(e){return!1===e.getParam("table_responsive_width")},$p=function(e){var t=e.getParam("table_clone_elements");return $.isString(t)?W.some(t.split(/[ ,]/)):Array.isArray(t)?W.some(t):W.none()},Yp=function(e){var t=e.getParam("object_resizing",!0);return"table"===t||t},Xp=function(e){var t=e.getParam("table_toolbar",Pp);return""===t||!1===t?[]:$.isString(t)?t.split(/[ ,]/):$.isArray(t)?t:[]},Zp=function(e,t){return e.fire("newrow",{node:t})},Jp=function(e,t){return e.fire("newcell",{node:t})},Qp=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},eh=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},th=function(e,t){var n=function(e){return"table"===_r.name(gp(e))},r=function(t){var r=Ju.getGridSize(t);return!1===n(e)||r.rows()>1},o=function(t){var r=Ju.getGridSize(t);return!1===n(e)||r.columns()>1},i=$p(e),s=function(t,n,r,o){return function(s,u){_p(s);var c=o(),l=lt.fromDom(e.getDoc()),f=a(Rp.directionAt),d=Qi.cellOperations(r,l,i);return n(s)?t(c,s,u,d,f).bind(function(t){return Oe.each(t.newRows(),function(t){Zp(e,t.dom())}),Oe.each(t.newCells(),function(t){Jp(e,t.dom())}),t.cursor().map(function(t){var n=e.dom.createRng();return n.setStart(t.dom(),0),n.setEnd(t.dom(),0),n})}):W.none()}};return{deleteRow:s(mp.eraseRows,r,F.noop,t),deleteColumn:s(mp.eraseColumns,o,F.noop,t),insertRowsBefore:s(mp.insertRowsBefore,F.always,F.noop,t),insertRowsAfter:s(mp.insertRowsAfter,F.always,F.noop,t),insertColumnsBefore:s(mp.insertColumnsBefore,F.always,Eu.halve,t),insertColumnsAfter:s(mp.insertColumnsAfter,F.always,Eu.halve,t),mergeCells:s(mp.mergeCells,F.always,F.noop,t),unmergeCells:s(mp.unmergeCells,F.always,F.noop,t),pasteRowsBefore:s(mp.pasteRowsBefore,F.always,F.noop,t),pasteRowsAfter:s(mp.pasteRowsAfter,F.always,F.noop,t),pasteCells:s(mp.pasteCells,F.always,F.noop,t)}},nh=function(e,t,n){var r=To.fromTable(e),o=Do.generate(r);return mf.onCells(o,t).map(function(e){var t=ol.toGrid(o,n,!1),r=t.slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),i=mf.toDetailList(r,n);return ul.copy(i)})},rh={copyRows:nh},oh=tinymce.util.Tools.resolve("tinymce.util.Tools"),ih=function(e,t,n){var r,o=e.select("td,th",t);return r=function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if(void 0===t&&(t=i),t!==i)return""}return t}(r,o)},ah=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},sh=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},uh=function(e,t){oh.each("left center right".split(" "),function(n){e.formatter.remove("align"+n,{},t)})},ch=function(e,t){oh.each("top middle bottom".split(" "),function(n){e.formatter.remove("valign"+n,{},t)})},lh={applyAlign:ah,applyVAlign:sh,unApplyAlign:uh,unApplyVAlign:ch,getTDTHOverallStyle:ih},fh=function(e,t,n){var r=function(e,n){return n=n||[],oh.each(e,function(e){var o={text:e.text||e.title};e.menu?o.menu=r(e.menu):(o.value=e.value,t&&t(o)),n.push(o)}),n};return r(e,n||[])},dh=function(e,t){var n=e.dom,r=t.control.rootControl,o=r.toJSON(),i=n.parseStyle(o.style);"style"===t.control.name()?(r.find("#borderStyle").value(i["border-style"]||"")[0].fire("select"),r.find("#borderColor").value(i["border-color"]||"")[0].fire("change"),r.find("#backgroundColor").value(i["background-color"]||"")[0].fire("change"),r.find("#width").value(i.width||"").fire("change"),r.find("#height").value(i.height||"").fire("change")):(i["border-style"]=o.borderStyle,i["border-color"]=o.borderColor,i["background-color"]=o.backgroundColor,i.width=o.width?Cp(o.width):"",i.height=o.height?Cp(o.height):""),r.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))))},ph=function(e,t){var n=e.parseStyle(e.getAttrib(t,"style")),r={};return n["border-style"]&&(r.borderStyle=n["border-style"]),n["border-color"]&&(r.borderColor=n["border-color"]),n["background-color"]&&(r.backgroundColor=n["background-color"]),r.style=e.serializeStyle(n),r},hh=function(e){var t=function(){var t=Gp(e);if(t)return function(n){return t.call(e,function(e){n.control.value(e).fire("change")},n.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:F.curry(dh,e)},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:F.curry(dh,e),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:t()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:t()}]}]}},mh={createStyleForm:hh,buildListItems:fh,updateStyleField:dh,extractAdvancedStyles:ph},gh=function(e,t){delete e.dataset.mceStyle,e.style.cssText+=";"+t},vh=function(e,t){var n=e.dom,r={width:n.getStyle(t,"width")||n.getAttrib(t,"width"),height:n.getStyle(t,"height")||n.getAttrib(t,"height"),scope:n.getAttrib(t,"scope"),class:n.getAttrib(t,"class"),type:t.nodeName.toLowerCase(),style:"",align:"",valign:""};return oh.each("left center right".split(" "),function(n){e.formatter.matchNode(t,"align"+n)&&(r.align=n)}),oh.each("top middle bottom".split(" "),function(n){e.formatter.matchNode(t,"valign"+n)&&(r.valign=n)}),Bp(e)&&oh.extend(r,mh.extractAdvancedStyles(n,t)),r},yh=function(e,t,n){function r(e,t,n){n&&a.setAttrib(e,t,n)}function o(e,t,n){n&&a.setStyle(e,t,n)}var i,a=e.dom;mh.updateStyleField(e,n),i=n.control.rootControl.toJSON(),e.undoManager.transact(function(){oh.each(t,function(n){r(n,"scope",i.scope),1===t.length?r(n,"style",i.style):gh(n,i.style),r(n,"class",i.class),o(n,"width",Cp(i.width)),o(n,"height",Cp(i.height)),i.type&&n.nodeName.toLowerCase()!==i.type&&(n=a.rename(n,i.type)),1===t.length&&(lh.unApplyAlign(e,n),lh.unApplyVAlign(e,n)),i.align&&lh.applyAlign(e,n,i.align),i.valign&&lh.applyVAlign(e,n,i.valign)}),e.focus()})},bh=function(e){var t,n,r,o=[];if(o=e.dom.select("td[data-mce-selected],th[data-mce-selected]"),t=e.dom.getParent(e.selection.getStart(),"td,th"),!o.length&&t&&o.push(t),t=t||o[0]){n=o.length>1?{width:"",height:"",scope:"",class:"",align:"",valign:"",style:"",type:t.nodeName.toLowerCase()}:vh(e,t),zp(e).length>0&&(r={name:"class",type:"listbox",label:"Class",values:mh.buildListItems(zp(e),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"td",classes:[t.value]})})})});var i={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:F.curry(mh.updateStyleField,e)},{label:"Height",name:"height",onchange:F.curry(mh.updateStyleField,e)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},r]};Bp(e)?e.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:n,body:[{title:"General",type:"form",items:i},mh.createStyleForm(e)],onsubmit:F.curry(yh,e,o)}):e.windowManager.open({title:"Cell properties",data:n,body:i,onsubmit:F.curry(yh,e,o)})}},wh={open:bh},Ch=function(e,t){var n=e.dom,r={height:n.getStyle(t,"height")||n.getAttrib(t,"height"),scope:n.getAttrib(t,"scope"),class:n.getAttrib(t,"class"),align:"",style:"",type:t.parentNode.nodeName.toLowerCase()};return oh.each("left center right".split(" "),function(n){e.formatter.matchNode(t,"align"+n)&&(r.align=n)}),Fp(e)&&oh.extend(r,mh.extractAdvancedStyles(n,t)),r},_h=function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,i=e.select(n,r)[0];i||(i=e.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?e.insertAfter(i,r.firstChild):r.insertBefore(i,r.firstChild):r.appendChild(i)),i.appendChild(t),o.hasChildNodes()||e.remove(o)},xh=function(e){var t,n,r,o,i,a,s=e.dom,c=[];t=s.getParent(e.selection.getStart(),"table"),n=s.getParent(e.selection.getStart(),"td,th"),oh.each(t.rows,function(e){oh.each(e.cells,function(t){if(s.getAttrib(t,"data-mce-selected")||t===n)return c.push(e),!1})}),(r=c[0])&&(i=c.length>1?{height:"",scope:"",style:"",class:"",align:"",type:r.parentNode.nodeName.toLowerCase()}:Ch(e,r),qp(e).length>0&&(o={name:"class",type:"listbox",label:"Class",values:mh.buildListItems(qp(e),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"tr",classes:[t.value]})})})}),a={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},o]},Fp(e)?e.windowManager.open({title:"Row properties",data:i,bodyType:"tabpanel",body:[{title:"General",type:"form",items:a},mh.createStyleForm(e)],onsubmit:F.curry(u,e,c,i)}):e.windowManager.open({title:"Row properties",data:i,body:a,onsubmit:F.curry(u,e,c,i)}))},Eh={open:xh},Sh=tinymce.util.Tools.resolve("tinymce.Env"),Oh={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},Th=function(){return lt.fromTag("table")},kh=function(){return lt.fromTag("tbody")},Rh=function(){return lt.fromTag("tr")},Ph=function(){return lt.fromTag("th")},Nh=function(){return lt.fromTag("td")},Ah=function(e,t,n,r,o){void 0===o&&(o=Oh);var i=Th();Qo.setAll(i,o.styles),Ir.setAll(i,o.attributes);var a=kh();ai.append(i,a);for(var s=[],u=0;u<e;u++){for(var c=Rh(),l=0;l<t;l++){var f=u<n||l<r?Ph():Nh();l<r&&Ir.set(f,"scope","row"),u<n&&Ir.set(f,"scope","col"),ai.append(f,lt.fromTag("br")),o.percentages&&Qo.set(f,"width",100/t+"%"),ai.append(c,f)}s.push(c)}return fi.append(a,s),i},Ih=function(e){return e.dom().innerHTML},Dh=function(e,t){var n=lr.owner(e),r=n.dom(),o=lt.fromDom(r.createDocumentFragment()),i=oa.fromHtml(t,r);fi.append(o,i),mi.empty(e),ai.append(e,o)},Mh=function(e){var t=lt.fromTag("div"),n=lt.fromDom(e.dom().cloneNode(!0));return ai.append(t,n),Ih(t)},Lh={get:Ih,set:Dh,getOuter:Mh},Bh=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)},Fh=function(e,t){co.descendant(t,"td,th").each(F.curry(Bh,e))},jh=function(e,t){Oe.each(Yr.descendants(t,"tr"),function(t){Zp(e,t.dom()),Oe.each(Yr.descendants(t,"th,td"),function(t){Jp(e,t.dom())})})},Vh=function(e){return $.isString(e)&&-1!==e.indexOf("%")},Hh=function(e,t,n){var r=Dp(e),o={styles:r,attributes:Ip(e),percentages:Vh(r.width)&&!Kp(e)},i=Ah(n,t,0,0,o);Ir.set(i,"data-mce-id","__mce");var a=Lh.getOuter(i);return e.insertContent(a),co.descendant(gp(e),'table[data-mce-id="__mce"]').map(function(t){return Kp(e)&&Qo.set(t,"width",Qo.get(t,"width")),Ir.remove(t,"data-mce-id"),jh(e,t),Fh(e,t),t.dom()}).getOr(null)},Uh={insert:Hh},zh=function(e,t){var n=e.dom,r={width:n.getStyle(t,"width")||n.getAttrib(t,"width"),height:n.getStyle(t,"height")||n.getAttrib(t,"height"),cellspacing:n.getStyle(t,"border-spacing")||n.getAttrib(t,"cellspacing"),cellpadding:n.getAttrib(t,"data-mce-cell-padding")||n.getAttrib(t,"cellpadding")||lh.getTDTHOverallStyle(e.dom,t,"padding"),border:n.getAttrib(t,"data-mce-border")||n.getAttrib(t,"border")||lh.getTDTHOverallStyle(e.dom,t,"border"),borderColor:n.getAttrib(t,"data-mce-border-color"),caption:!!n.select("caption",t)[0],class:n.getAttrib(t,"class")};return oh.each("left center right".split(" "),function(n){e.formatter.matchNode(t,"align"+n)&&(r.align=n)}),jp(e)&&oh.extend(r,mh.extractAdvancedStyles(n,t)),r},qh=function(e,t,n){var r=e.dom,o={},i={};if(o.class=n.class,i.height=Cp(n.height),r.getAttrib(t,"width")&&!Up(e)?o.width=wp(n.width):i.width=Cp(n.width),Up(e)?(i["border-width"]=Cp(n.border),i["border-spacing"]=Cp(n.cellspacing),oh.extend(o,{"data-mce-border-color":n.borderColor,"data-mce-cell-padding":n.cellpadding,"data-mce-border":n.border})):oh.extend(o,{border:n.border,cellpadding:n.cellpadding,cellspacing:n.cellspacing}),Up(e)&&t.children)for(var a=0;a<t.children.length;a++)c(r,t.children[a],{"border-width":Cp(n.border),"border-color":n.borderColor,padding:Cp(n.cellpadding)});n.style?oh.extend(i,r.parseStyle(n.style)):i=oh.extend({},r.parseStyle(r.getAttrib(t,"style")),i),o.style=r.serializeStyle(i),r.setAttribs(t,o)},Wh=function(e,t,n){var r,o,i=e.dom;mh.updateStyleField(e,n),o=n.control.rootControl.toJSON(),!1===o.class&&delete o.class,e.undoManager.transact(function(){t||(t=Uh.insert(e,o.cols||1,o.rows||1)),qh(e,t,o),r=i.select("caption",t)[0],r&&!o.caption&&i.remove(r),!r&&o.caption&&(r=i.create("caption"),r.innerHTML=Sh.ie?"\xa0":'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),lh.unApplyAlign(e,t),o.align&&lh.applyAlign(e,t,o.align),e.focus(),e.addVisual()})},Gh=function(e,t){var n,r,o,i,a,s=e.dom,u={};!0===t?(n=s.getParent(e.selection.getStart(),"table"))&&(u=zh(e,n)):(r={label:"Cols",name:"cols"},o={label:"Rows",name:"rows"}),Wp(e).length>0&&(u.class&&(u.class=u.class.replace(/\s*mce\-item\-table\s*/g,"")),i={name:"class",type:"listbox",label:"Class",values:mh.buildListItems(Wp(e),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"table",classes:[t.value]})})})}),a={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:Vp(e)?[r,o,{label:"Width",name:"width",onchange:F.curry(mh.updateStyleField,e)},{label:"Height",name:"height",onchange:F.curry(mh.updateStyleField,e)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[r,o,{label:"Width",name:"width",onchange:F.curry(mh.updateStyleField,e)},{label:"Height",name:"height",onchange:F.curry(mh.updateStyleField,e)}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},i]},jp(e)?e.windowManager.open({title:"Table properties",data:u,bodyType:"tabpanel",body:[{title:"General",type:"form",items:a},mh.createStyleForm(e)],onsubmit:F.curry(Wh,e,n)}):e.windowManager.open({title:"Table properties",data:u,body:a,onsubmit:F.curry(Wh,e,n)})},Kh={open:Gh},$h=oh.each,Yh=function(e,t,n,r,o){var i=bp(e),a=function(){var t=lt.fromDom(e.dom.getParent(e.selection.getStart(),"th,td"));Eo.table(t,i).filter(F.not(i)).each(function(t){var n=lt.fromText("");ai.after(t,n),mi.remove(t);var r=e.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),e.selection.setRng(r)})},s=function(){return lt.fromDom(e.dom.getParent(e.selection.getStart(),"th,td"))},u=function(e){return Eo.table(e,i)},c=function(e){return{width:vp(e.dom()),height:vp(e.dom())}},l=function(e,t,n){var r=c(n);t.width===r.width&&t.height===r.height||(Qp(e,n.dom(),t.width,t.height),eh(e,n.dom(),r.width,r.height))},f=function(t){var o=s();u(o).each(function(i){var a=Rs.forMenu(r,i,o),s=c(i);t(i,a).each(function(t){l(e,s,i),e.selection.setRng(t),e.focus(),n.clear(i),_p(i)})})},d=function(t){var n=s();return u(n).bind(function(t){var o=lt.fromDom(e.getDoc()),i=Rs.forMenu(r,t,n),a=Qi.cellOperations(F.noop,o,W.none());return rh.copyRows(t,i,a)})},p=function(t){o.get().each(function(o){var i=Oe.map(o,function(e){return Ri.deep(e)}),a=s();u(a).bind(function(o){var s=lt.fromDom(e.getDoc()),u=Qi.paste(s),c=Rs.pasteRows(r,o,a,i,u);t(o,c).each(function(t){e.selection.setRng(t),e.focus(),n.clear(o)})})})};$h({mceTableSplitCells:function(){f(t.unmergeCells)},mceTableMergeCells:function(){f(t.mergeCells)},mceTableInsertRowBefore:function(){f(t.insertRowsBefore)},mceTableInsertRowAfter:function(){f(t.insertRowsAfter)},mceTableInsertColBefore:function(){f(t.insertColumnsBefore)},mceTableInsertColAfter:function(){f(t.insertColumnsAfter)},mceTableDeleteCol:function(){f(t.deleteColumn)},mceTableDeleteRow:function(){f(t.deleteRow)},mceTableCutRow:function(e){o.set(d()),f(t.deleteRow)},mceTableCopyRow:function(e){o.set(d())},mceTablePasteRowBefore:function(e){p(t.pasteRowsBefore)},mceTablePasteRowAfter:function(e){p(t.pasteRowsAfter)},mceTableDelete:a},function(t,n){e.addCommand(n,t)}),$h({mceInsertTable:F.curry(Kh.open,e),mceTableProps:F.curry(Kh.open,e,!0),mceTableRowProps:F.curry(Eh.open,e),mceTableCellProps:F.curry(wh.open,e)},function(t,n){e.addCommand(n,function(e,n){t(n)})})},Xh={registerCommands:Yh},Zh=function(e){var t=W.from(e.dom().documentElement).map(lt.fromDom).getOr(e);return{parent:F.constant(t),view:F.constant(e),origin:F.constant(ku(0,0))}},Jh=function(e,t){var n=F.curry(Du.absolute,t);return{parent:F.constant(t),view:F.constant(e),origin:n}},Qh=function(e,t){return{parent:F.constant(t),view:F.constant(e),origin:F.constant(ku(0,0))}},em={only:Zh,detached:Jh,body:Qh},tm=function(e){return{registry:Le.map(e,function(e){return{bind:e.bind,unbind:e.unbind}}),trigger:Le.map(e,function(e){return e.trigger})}},nm={create:tm},rm=oc.exactly(["compare","extract","mutate","sink"]),om=oc.exactly(["element","start","stop","destroy"]),im=oc.exactly(["forceDrop","drop","move","delayDrop"]),am={mode:rm,sink:om,api:im},sm=_l.css("ephox-dragster"),um={resolve:sm.resolve},cm=function(e,t,n,r,o,i,a){return{target:F.constant(e),x:F.constant(t),y:F.constant(n),stop:r,prevent:o,kill:i,raw:F.constant(a)}},lm=function(e,t){return function(n){if(e(n)){var r=lt.fromDom(n.target),o=function(){n.stopPropagation()},i=function(){n.preventDefault()},a=F.compose(i,o),s=cm(r,n.clientX,n.clientY,o,i,a,n);t(s)}}},fm=function(e,t,n,r,o){var i=lm(n,r);return e.dom().addEventListener(t,i,o),{unbind:F.curry(hm,e,t,i,o)}},dm=function(e,t,n,r){return fm(e,t,n,r,!1)},pm=function(e,t,n,r){return fm(e,t,n,r,!0)},hm=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},mm={bind:dm,capture:pm},gm=F.constant(!0),vm=function(e,t,n){return mm.bind(e,t,gm,n)},ym=function(e,t,n){return mm.capture(e,t,gm,n)},bm={bind:vm,capture:ym},wm=function(e,t){return ku(t.left()-e.left(),t.top()-e.top())},Cm=function(e){return W.some(ku(e.x(),e.y()))},_m=function(e,t){e.mutate(t.left(),t.top())},xm=function(e,t){var n=f(t),r=bm.bind(n.element(),"mousedown",e.forceDrop),o=bm.bind(n.element(),"mouseup",e.drop),i=bm.bind(n.element(),"mousemove",e.move),a=bm.bind(n.element(),"mouseout",e.delayDrop),s=function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()},u=function(e){ai.append(e,n.element())},c=function(){mi.remove(n.element())};return am.sink({element:n.element,start:u,stop:c,destroy:s})},Em=am.mode({compare:wm,extract:Cm,sink:xm,mutate:_m}),Sm=function(e,t){var n=null,r=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null,r=null)},throttle:function(){r=arguments,null===n&&(n=setTimeout(function(){e.apply(null,r),n=null,r=null},t))}}},Om=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){var r=arguments;null===n&&(n=setTimeout(function(){e.apply(null,r),n=null,r=null},t))}}},Tm=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){var r=arguments;null!==n&&clearTimeout(n),n=setTimeout(function(){e.apply(null,r),n=null,r=null},t)}}},km={adaptable:Sm,first:Om,last:Tm},Rm=function(e,t,n){var r=!1,o=nm.create({start:l([]),stop:l([])}),i=h(),a=function(){m.stop(),i.isOn()&&(i.off(),o.trigger.stop())},s=km.last(a,200),u=function(e){m.start(e),i.on(),o.trigger.start()},c=function(e,n){s.cancel(),i.onEvent(e,t)};i.events.move.bind(function(n){t.mutate(e,n.info())});var f=function(){r=!0},d=function(){r=!1},p=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);if(r)return e.apply(null,t)}},m=t.sink(am.api({forceDrop:a,drop:p(a),move:p(c),delayDrop:p(s.throttle)}),n),g=function(){m.destroy()};return{element:m.element,go:u,on:f,off:d,destroy:g,events:o.registry}},Pm={setup:Rm},Nm=function(e,t){var n=void 0!==t?t:{},r=void 0!==n.mode?n.mode:Em;return Pm.setup(e,r,t)},Am={transform:Nm},Im=function(e){return co.first(e).isSome()},Dm=function(e,t,n){return co.ancestor(e,t,n).isSome()},Mm=function(e,t){return co.sibling(e,t).isSome()},Lm=function(e,t){return co.child(e,t).isSome()},Bm=function(e,t){return co.descendant(e,t).isSome()},Fm=function(e,t,n){return co.closest(e,t,n).isSome()},jm={any:Im,ancestor:Dm,sibling:Mm,child:Lm,descendant:Bm,closest:Fm},Vm=El.resolve("resizer-bar-dragging"),Hm=function(){var e=lt.fromTag("div");return Qo.setAll(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ai.append(Br.body(),e),e},Um=function(e,t){return e.inline?em.body(gp(e),Hm()):em.only(lt.fromDom(e.getDoc()))},zm=function(e,t){e.inline&&mi.remove(t.parent())},qm={get:Um,remove:zm},Wm=function(e){var t,n,r=W.none(),o=W.none(),i=W.none(),s=/(\d+(\.\d+)?)%/,u=function(e){return"TABLE"===e.nodeName},c=function(t){return e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width")},l=function(){return o},f=function(){return i.getOr(em.only(lt.fromDom(e.getBody())))},d=function(){o.each(function(e){e.destroy()}),i.each(function(t){qm.remove(e,t)})};return e.on("init",function(){var t=a(Rp.directionAt),n=qm.get(e);if(i=W.some(n),Yp(e)&&Mp(e)){var s=y(n,t);s.on(),s.events.startDrag.bind(function(t){r=W.some(e.selection.getRng())}),s.events.beforeResize.bind(function(t){var n=t.table().dom();Qp(e,n,vp(n),yp(n))}),s.events.afterResize.bind(function(t){var n=t.table(),o=n.dom();_p(n),r.each(function(t){e.selection.setRng(t),e.focus()}),eh(e,o,vp(o),yp(o)),e.undoManager.add()}),o=W.some(s)}}),e.on("ObjectResizeStart",function(e){var r=e.target;u(r)&&(t=e.width,n=c(r))}),e.on("ObjectResized",function(r){var o=r.target;if(u(o)){var i=o;if(s.test(n)){var a=parseFloat(s.exec(n)[1]),c=r.width*a/t;e.dom.setStyle(i,"width",c+"%")}else{var l=[];oh.each(i.rows,function(t){oh.each(t.cells,function(t){var n=e.dom.getStyle(t,"width",!0);l.push({cell:t,width:n})})}),oh.each(l,function(t){e.dom.setStyle(t.cell,"width",t.width),e.dom.setAttrib(t.cell,"width",null)})}}}),{lazyResize:l,lazyWire:f,destroy:d}},Gm=function(e){return Xm(function(t,n,r,o){return t(e)})},Km=function(e){return Xm(function(t,n,r,o){return n(e)})},$m=function(e,t){return Xm(function(n,r,o,i){return o(e,t)})},Ym=function(e){return Xm(function(t,n,r,o){return o(e)})},Xm=function(e){return{fold:e}},Zm={none:Gm,first:Km,middle:$m,last:Ym},Jm=function(e,t){return Eo.table(e,t).bind(function(t){var n=Eo.cells(t);return Oe.findIndex(n,function(t){return zn.eq(e,t)}).map(function(e){return{index:F.constant(e),all:F.constant(n)}})})},Qm=function(e,t){return Jm(e,t).fold(function(){return Zm.none(e)},function(t){return t.index()+1<t.all().length?Zm.middle(e,t.all()[t.index()+1]):Zm.last(e)})},eg=function(e,t){return Jm(e,t).fold(function(){return Zm.none()},function(t){return t.index()-1>=0?Zm.middle(e,t.all()[t.index()-1]):Zm.first(e)})},tg={next:Qm,prev:eg},ng=gs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),rg=function(e,t,n,r){return e.fold(t,n,r)},og=function(e){return e.fold(F.identity,F.identity,F.identity)},ig={before:ng.before,on:ng.on,after:ng.after,cata:rg,getStart:og},ag=gs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),sg=qe.immutable("start","soffset","finish","foffset"),ug=function(e){return ag.exact(e.start(),e.soffset(),e.finish(),e.foffset())},cg=function(e){return e.match({domRange:function(e){return lt.fromDom(e.startContainer)},relative:function(e,t){return ig.getStart(e)},exact:function(e,t,n,r){return e}})},lg=function(e){var t=cg(e);return lr.defaultView(t)},fg={domRange:ag.domRange,relative:ag.relative,exact:ag.exact,exactFromRange:ug,range:sg,getWin:lg},dg=function(e,t,n,r){var o=lr.owner(e),i=o.dom().createRange();return i.setStart(e.dom(),t),i.setEnd(n.dom(),r),i},pg=function(e,t,n,r){var o=dg(e,t,n,r);return lt.fromDom(o.commonAncestorContainer)},hg=function(e,t,n,r){var o=dg(e,t,n,r),i=zn.eq(e,n)&&t===r;return o.collapsed&&!i},mg={after:hg,commonAncestorContainer:pg},gg=function(e,t){var n=t||document,r=n.createDocumentFragment();return Oe.each(e,function(e){r.appendChild(e.dom())}),lt.fromDom(r)},vg={fromElements:gg},yg=function(e,t){var n=e.document.createRange();return bg(n,t),n},bg=function(e,t){e.selectNodeContents(t.dom())},wg=function(e,t){return t.compareBoundaryPoints(e.END_TO_START,e)<1&&t.compareBoundaryPoints(e.START_TO_END,e)>-1},Cg=function(e){return e.document.createRange()},_g=function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})},xg=function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})},Eg=function(e,t){Tg(e),e.insertNode(t.dom())},Sg=function(e,t,n){var r=e.document.createRange();return _g(r,t),xg(r,n),r},Og=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},Tg=function(e){e.deleteContents()},kg=function(e){var t=e.cloneContents();return lt.fromDom(t)},Rg=function(e){return{left:F.constant(e.left),top:F.constant(e.top),right:F.constant(e.right),bottom:F.constant(e.bottom),width:F.constant(e.width),height:F.constant(e.height)}},Pg=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?W.some(n).map(Rg):W.none()},Ng=function(e){var t=e.getBoundingClientRect();return t.width>0||t.height>0?W.some(t).map(Rg):W.none()},Ag=function(e){return e.toString()},Ig={create:Cg,replaceWith:Eg,selectNodeContents:yg,selectNodeContentsUsing:bg,relativeToNative:Sg,exactToNative:Og,deleteContents:Tg,cloneFragment:kg,getFirstRect:Pg,getBounds:Ng,isWithin:wg,toString:Ag},Dg=gs.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Mg=function(e,t,n){return t(lt.fromDom(n.startContainer),n.startOffset,lt.fromDom(n.endContainer),n.endOffset)},Lg=function(e,t){return t.match({domRange:function(e){return{ltr:F.constant(e),rtl:W.none}},relative:function(t,n){return{ltr:Bt.cached(function(){return Ig.relativeToNative(e,t,n)}),rtl:Bt.cached(function(){return W.some(Ig.relativeToNative(e,n,t))})}},exact:function(t,n,r,o){return{ltr:Bt.cached(function(){return Ig.exactToNative(e,t,n,r,o)}),rtl:Bt.cached(function(){return W.some(Ig.exactToNative(e,r,o,t,n))})}}})},Bg=function(e,t){var n=t.ltr();if(n.collapsed){return t.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return Dg.rtl(lt.fromDom(e.endContainer),e.endOffset,lt.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return Mg(0,Dg.ltr,n)})}return Mg(0,Dg.ltr,n)},Fg=function(e,t){var n=Lg(e,t);return Bg(0,n)},jg=function(e,t){return Fg(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})},Vg={ltr:Dg.ltr,rtl:Dg.rtl,diagnose:Fg,asLtrRange:jg},Hg=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var s=e(a),u=Math.abs(t-s.left);if(n>s.bottom);else{if(n<s.top||u>i)return a-1;i=u}}return 0},Ug=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},zg={inRect:Ug,searchForPoint:Hg},qg=function(e,t,n,r,o){var i=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},a=function(e){return i(e).getBoundingClientRect()},s=Di.get(t).length,u=zg.searchForPoint(a,n,r,o.right,s);return i(u)},Wg=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getClientRects();return Uc.findMap(i,function(e){return zg.inRect(e,n,r)?W.some(e):W.none()}).map(function(o){return qg(e,t,n,r,o)})},Gg={locate:Wg},Kg=function(e,t,n,r){var o=e.dom().createRange(),i=lr.children(t);return Uc.findMap(i,function(t){return o.selectNode(t.dom()),zg.inRect(o.getBoundingClientRect(),n,r)?$g(e,t,n,r):W.none()})},$g=function(e,t,n,r){return(_r.isText(t)?Gg.locate:Kg)(e,t,n,r)},Yg=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return $g(e,t,a,s)},Xg={locate:Yg},Zg=function(e,t){return t-e.left<e.right-t},Jg=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},Qg=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),i=Zg(o,n);return(!0===i?Wi.first:Wi.last)(t).map(function(t){return Jg(e,t,i)})},ev=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=Zg(r,n);return W.some(Jg(e,t,o))},tv=function(e,t,n){return(0===lr.children(t).length?ev:Qg)(e,t,n)},nv={search:tv},rv=function(e,t,n){return W.from(e.dom().caretPositionFromPoint(t,n)).bind(function(t){if(null===t.offsetNode)return W.none();var n=e.dom().createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),W.some(n)})},ov=function(e,t,n){return W.from(e.dom().caretRangeFromPoint(t,n))},iv=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return Xg.locate(e,t,a,s)},av=function(e,t,n){return lt.fromPoint(e,t,n).bind(function(r){var o=function(){return nv.search(e,r,t)};return 0===lr.children(r).length?o():iv(e,r,t,n).orThunk(o)})},sv=document.caretPositionFromPoint?rv:document.caretRangeFromPoint?ov:av,uv=function(e,t,n){var r=lt.fromDom(e.document);return sv(r,t,n).map(function(e){return fg.range(lt.fromDom(e.startContainer),e.startOffset,lt.fromDom(e.endContainer),e.endOffset)})},cv={fromPoint:uv},lv=function(e,t,n,r){var o=Ig.create(e),i=yt.is(t,r)?[t]:[],a=i.concat(Yr.descendants(t,r));return Oe.filter(a,function(e){return Ig.selectNodeContentsUsing(o,e),Ig.isWithin(n,o)})},fv=function(e,t,n){var r=Vg.asLtrRange(e,t),o=lt.fromDom(r.commonAncestorContainer);return _r.isElement(o)?lv(e,o,r,n):[]},dv={find:fv},pv=function(e,t){var n=_r.name(e);return"input"===n?ig.after(e):Oe.contains(["br","img"],n)?0===t?ig.before(e):ig.after(e):ig.on(e,t)},hv=function(e,t){var n=e.fold(ig.before,pv,ig.after),r=t.fold(ig.before,pv,ig.after);return fg.relative(n,r)},mv=function(e,t,n,r){var o=pv(e,t),i=pv(n,r);return fg.relative(o,i)},gv=function(e){return e.match({domRange:function(e){var t=lt.fromDom(e.startContainer),n=lt.fromDom(e.endContainer);return mv(t,e.startOffset,n,e.endOffset)},relative:hv,exact:mv})},vv={beforeSpecial:pv,preprocess:gv,preprocessRelative:hv,preprocessExact:mv},yv=function(e,t){W.from(e.getSelection()).each(function(e){e.removeAllRanges(),e.addRange(t)})},bv=function(e,t,n,r,o){var i=Ig.exactToNative(e,t,n,r,o);yv(e,i)},wv=function(e,t,n){return dv.find(e,t,n)},Cv=function(e,t){return Vg.diagnose(e,t).match({ltr:function(t,n,r,o){bv(e,t,n,r,o)},rtl:function(t,n,r,o){var i=e.getSelection();i.setBaseAndExtent?i.setBaseAndExtent(t.dom(),n,r.dom(),o):i.extend?(i.collapse(t.dom(),n),i.extend(r.dom(),o)):bv(e,r,o,t,n)}})},_v=function(e,t,n,r,o){var i=vv.preprocessExact(t,n,r,o);Cv(e,i)},xv=function(e,t,n){var r=vv.preprocessRelative(t,n);Cv(e,r)},Ev=function(e){var t=fg.getWin(e).dom(),n=function(e,n,r,o){return Ig.exactToNative(t,e,n,r,o)},r=vv.preprocess(e);return Vg.diagnose(t,r).match({ltr:n,rtl:n})},Sv=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return W.some(fg.range(lt.fromDom(t.startContainer),t.startOffset,lt.fromDom(n.endContainer),n.endOffset))}return W.none()},Ov=function(e){var t=lt.fromDom(e.anchorNode),n=lt.fromDom(e.focusNode);return mg.after(t,e.anchorOffset,n,e.focusOffset)?W.some(fg.range(lt.fromDom(e.anchorNode),e.anchorOffset,lt.fromDom(e.focusNode),e.focusOffset)):Sv(e)},Tv=function(e,t){var n=Ig.selectNodeContents(e,t);yv(e,n)},kv=function(e,t){var n=Ig.selectNodeContents(e,t);return fg.range(lt.fromDom(n.startContainer),n.startOffset,lt.fromDom(n.endContainer),n.endOffset)},Rv=function(e){return W.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(Ov)},Pv=function(e){return Rv(e).map(function(e){return fg.exact(e.start(),e.soffset(),e.finish(),e.foffset())})},Nv=function(e,t){var n=Vg.asLtrRange(e,t);return Ig.getFirstRect(n)},Av=function(e,t){var n=Vg.asLtrRange(e,t);return Ig.getBounds(n)},Iv=function(e,t,n){return cv.fromPoint(e,t,n)},Dv=function(e,t){var n=Vg.asLtrRange(e,t);return Ig.toString(n)},Mv=function(e){e.getSelection().removeAllRanges()},Lv=function(e,t){var n=Vg.asLtrRange(e,t);return Ig.cloneFragment(n)},Bv=function(e,t,n){var r=Vg.asLtrRange(e,t),o=vg.fromElements(n,e.document);Ig.replaceWith(r,o)},Fv=function(e,t){var n=Vg.asLtrRange(e,t);Ig.deleteContents(n)},jv=function(e,t,n,r){return zn.eq(e,n)&&t===r},Vv={setExact:_v,getExact:Rv,get:Pv,setRelative:xv,toNative:Ev,setToElement:Tv,clear:Mv,clone:Lv,replace:Bv,deleteAt:Fv,forElement:kv,getFirstRect:Nv,getBounds:Av,getAtPoint:Iv,findWithin:wv,getAsString:Dv,isCollapsed:jv},Hv=tinymce.util.Tools.resolve("tinymce.util.VK"),Uv=function(e,t,n,r){return Gv(e,t,tg.next(n),r)},zv=function(e,t,n,r){return Gv(e,t,tg.prev(n),r)},qv=function(e,t){var n=fg.exact(t,0,t,0);return Vv.toNative(n)},Wv=function(e,t){var n=Yr.descendants(t,"tr");return Oe.last(n).bind(function(e){return co.descendant(e,"td,th").map(function(e){return qv(0,e)})})},Gv=function(e,t,n,r,o){return n.fold(W.none,W.none,function(e,t){return Wi.first(t).map(function(e){return qv(0,e)})},function(n){return Eo.table(n,t).bind(function(t){var o=Rs.noMenu(n);return e.undoManager.transact(function(){r.insertRowsAfter(t,o)}),Wv(0,t)})})},Kv=["table","li","dl"],$v=function(e,t,n,r){if(e.keyCode===Hv.TAB){var o=gp(t),i=function(e){var t=_r.name(e);return zn.eq(e,o)||Oe.contains(Kv,t)},a=t.selection.getRng();if(a.collapsed){var s=lt.fromDom(a.startContainer);Eo.cell(s,i).each(function(o){e.preventDefault(),(e.shiftKey?zv:Uv)(t,i,o,n,r).each(function(e){t.selection.setRng(e)})})}}},Yv={handle:$v},Xv=qe.immutable("selection","kill"),Zv={response:Xv},Jv=function(e){return function(t){return t===e}},Qv=Jv(38),ey=Jv(40),ty=function(e){return e>=37&&e<=40},ny={ltr:{isBackward:Jv(37),isForward:Jv(39)},rtl:{isBackward:Jv(39),isForward:Jv(37)},isUp:Qv,isDown:ey,isNavigation:ty},ry=function(e,t){var n=Vg.asLtrRange(e,t);return{start:F.constant(lt.fromDom(n.startContainer)),soffset:F.constant(n.startOffset),finish:F.constant(lt.fromDom(n.endContainer)),foffset:F.constant(n.endOffset)}},oy=function(e,t,n,r){return{start:F.constant(ig.on(e,t)),finish:F.constant(ig.on(n,r))}},iy={convertToRange:ry,makeSitus:oy},ay=Mn.detect().browser.isSafari(),sy=function(e){var t=void 0!==e?e.dom():document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return ku(n,r)},uy=function(e,t,n){(void 0!==n?n.dom():document).defaultView.scrollTo(e,t)},cy=function(e,t,n){(void 0!==n?n.dom():document).defaultView.scrollBy(e,t)},ly=function(e,t){var n=Du.absolute(t),r=lt.fromDom(e.document);uy(n.left(),n.top(),r)},fy=function(e,t){var n=sy(e);t();var r=sy(e);n.top()===r.top()&&n.left()===r.left()||uy(n.left(),n.top(),e)},dy=function(e){var t=W.none(),n=function(){t=W.some(sy(e))},r=function(){t.each(function(t){uy(t.left(),t.top(),e)})};return n(),{save:n,restore:r}},py=function(e,t){ay&&$.isFunction(e.dom().scrollIntoViewIfNeeded)?e.dom().scrollIntoViewIfNeeded(!1):e.dom().scrollIntoView(t)},hy=function(e,t){var n=t.dom().getBoundingClientRect(),r=e.dom().getBoundingClientRect();r.top<n.top?py(e,!0):r.bottom>n.bottom&&py(e,!1)},my=function(){var e=lt.fromHtml('<div style="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px;"></div>');ai.after(Br.body(),e);var t=e.dom().offsetWidth-e.dom().clientWidth;return mi.remove(e),t},gy={get:sy,to:uy,by:cy,preserve:fy,capture:dy,intoView:py,intoViewIfNeeded:hy,setToElement:ly,scrollBarWidth:my},vy=function(e,t,n,r,o,i,a){return zn.eq(n,o)&&r===i?W.none():co.closest(n,"td,th",t).bind(function(n){return co.closest(o,"td,th",t).bind(function(r){return yy(e,t,n,r,a)})})},yy=function(e,t,n,r,o){return zn.eq(n,r)?W.none():cs.identify(n,r,t).bind(function(t){var r=t.boxes().getOr([]);return r.length>0?(o(e,r,t.start(),t.finish()),W.some(Zv.response(W.some(iy.makeSitus(n,0,n,Hi.getEnd(n))),!0))):W.none()})},by=function(e,t,n,r,o){var i=function(e){return o.clear(n),o.selectRange(n,e.boxes(),e.start(),e.finish()),e.boxes()};return cs.shiftSelection(r,e,t,o.firstSelectedSelector(),o.lastSelectedSelector()).map(i)},wy={sync:vy,detect:yy,update:by},Cy=qe.immutableBag(["left","top","right","bottom"],[]),_y=function(e,t){return Cy({left:e.left(),top:e.top()+t,right:e.right(),bottom:e.bottom()+t})},xy=function(e,t){return Cy({left:e.left(),top:e.top()-t,right:e.right(),bottom:e.bottom()-t})},Ey=function(e,t){var n=e.bottom()-e.top();return Cy({left:e.left(),top:t-n,right:e.right(),bottom:t})},Sy=function(e,t){var n=e.bottom()-e.top();return Cy({left:e.left(),top:t,right:e.right(),bottom:t+n})},Oy=function(e,t,n){return Cy({left:e.left()+t,top:e.top()+n,right:e.right()+t,bottom:e.bottom()+n})},Ty=function(e){return e.top()},ky=function(e){return e.bottom()},Ry=function(e){return"("+e.left()+", "+e.top()+") -> ("+e.right()+", "+e.bottom()+")"},Py={nu:Cy,moveUp:xy,moveDown:_y,moveBottomTo:Ey,moveTopTo:Sy,getTop:Ty,getBottom:ky,translate:Oy,toString:Ry},Ny=function(e,t,n){return n>=0&&n<Hi.getEnd(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):W.none()},Ay=function(e){return Py.nu({left:e.left,top:e.top,right:e.right,bottom:e.bottom})},Iy=function(e,t){return W.some(e.getRect(t))},Dy=function(e,t,n){return _r.isElement(t)?Iy(e,t).map(Ay):_r.isText(t)?Ny(e,t,n).map(Ay):W.none()},My=function(e,t){return _r.isElement(t)?Iy(e,t).map(Ay):_r.isText(t)?e.getRangedRect(t,0,t,Hi.getEnd(t)).map(Ay):W.none()},Ly={getBoxAt:Dy,getEntireBox:My},By=qe.immutable("item","mode"),Fy=function(e,t,n,r){var o=void 0!==r?r:jy;return e.property().parent(t).map(function(e){return By(e,o)})},jy=function(e,t,n,r){var o=void 0!==r?r:Vy;return n.sibling(e,t).map(function(e){return By(e,o)})},Vy=function(e,t,n,r){var o=void 0!==r?r:Vy,i=e.property().children(t);return n.first(i).map(function(e){return By(e,o)})},Hy=[{current:Fy,next:jy,fallback:W.none()},{current:jy,next:Vy,fallback:W.some(Fy)},{current:Vy,next:Vy,fallback:W.some(jy)}],Uy=function(e,t,n,r,o){var o=void 0!==o?o:Hy;return Oe.find(o,function(e){return e.current===n}).bind(function(n){return n.current(e,t,r,n.next).orThunk(function(){return n.fallback.bind(function(n){return Uy(e,t,n,r)})})})},zy={backtrack:Fy,sidestep:jy,advance:Vy,go:Uy},qy=function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return e.length>0?W.some(e[e.length-1]):W.none()}}},Wy=function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return e.length>0?W.some(e[0]):W.none()}}},Gy={left:qy,right:Wy},Ky=function(e,t,n,r,o,i){return zy.go(e,t,r,o).bind(function(t){return i(t.item())?W.none():n(t.item())?W.some(t.item()):Ky(e,t.item(),n,t.mode(),o,i)})},$y=function(e,t,n,r){return Ky(e,t,n,zy.sidestep,Gy.left(),r)},Yy=function(e,t,n,r){return Ky(e,t,n,zy.sidestep,Gy.right(),r)},Xy={left:$y,right:Yy},Zy=function(e,t){return 0===e.property().children(t).length},Jy=function(e,t,n){return eb(e,t,F.curry(Zy,e),n)},Qy=function(e,t,n){return tb(e,t,F.curry(Zy,e),n)},eb=function(e,t,n,r){return Xy.left(e,t,n,r)},tb=function(e,t,n,r){return Xy.right(e,t,n,r)},nb=function(){return{left:Gy.left,right:Gy.right}},rb=function(e,t,n,r,o){return zy.go(e,t,n,r,o)},ob={before:Jy,after:Qy,seekLeft:eb,seekRight:tb,walkers:nb,walk:rb,backtrack:zy.backtrack,sidestep:zy.sidestep,advance:zy.advance},ib=o(),ab=function(e,t,n){return ob.gather(ib,e,t,n)},sb=function(e,t){return ob.before(ib,e,t)},ub=function(e,t){return ob.after(ib,e,t)},cb=function(e,t,n){return ob.seekLeft(ib,e,t,n)},lb=function(e,t,n){return ob.seekRight(ib,e,t,n)},fb=function(){return ob.walkers()},db=function(e,t,n,r){return ob.walk(ib,e,t,n,r)},pb={gather:ab,before:sb,after:ub,seekLeft:cb,seekRight:lb,walkers:fb,walk:db},hb=gs.generate([{none:[]},{retry:["caret"]}]),mb=function(e,t){return e.left()<t.left()||Math.abs(t.right()-e.left())<1||e.left()>t.right()},gb=function(e,t,n){return no.closest(t,Pc.isBlock).fold(F.constant(!1),function(t){return Ly.getEntireBox(e,t).exists(function(e){return mb(n,e)})})},vb=function(e,t,n,r,o){var i=Py.moveDown(o,5);return Math.abs(n.bottom()-r.bottom())<1?hb.retry(i):n.top()>o.bottom()?hb.retry(i):n.top()===o.bottom()?hb.retry(Py.moveDown(o,1)):gb(e,t,o)?hb.retry(Py.translate(i,5,0)):hb.none()},yb=function(e,t,n,r,o){var i=Py.moveUp(o,5);return Math.abs(n.top()-r.top())<1?hb.retry(i):n.bottom()<o.top()?hb.retry(i):n.bottom()===o.top()?hb.retry(Py.moveUp(o,1)):gb(e,t,o)?hb.retry(Py.translate(i,5,0)):hb.none()},bb={point:Py.getTop,adjuster:yb,move:Py.moveUp,gather:pb.before},wb={point:Py.getBottom,adjuster:vb,move:Py.moveDown,gather:pb.after},Cb=function(e,t,n){return e.elementFromPoint(t,n).filter(function(e){return"table"===_r.name(e)}).isSome()},_b=function(e,t,n,r,o){return xb(e,t,n,t.move(r,5),o)},xb=function(e,t,n,r,o){return 0===o?W.some(r):Cb(e,r.left(),t.point(r))?_b(e,t,n,r,o-1):e.situsFromPoint(r.left(),t.point(r)).bind(function(i){return i.start().fold(W.none,function(i,a){return Ly.getEntireBox(e,i,a).bind(function(a){return t.adjuster(e,i,a,n,r).fold(W.none,function(r){return xb(e,t,n,r,o-1)})}).orThunk(function(){return W.some(r)})},W.none)})},Eb=function(e,t){return e.situsFromPoint(t.left(),t.bottom()+5)},Sb=function(e,t){return e.situsFromPoint(t.left(),t.top()-5)},Ob=function(e,t,n){return e.point(t)>n.getInnerHeight()?W.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?W.some(-e.point(t)):W.none()},Tb=function(e,t,n){var r=e.move(n,5),o=xb(t,e,n,r,100).getOr(r);return Ob(e,o,t).fold(function(){return t.situsFromPoint(o.left(),e.point(o))},function(n){return t.scrollBy(0,n),t.situsFromPoint(o.left(),e.point(o)-n)})},kb={tryUp:F.curry(Tb,bb),tryDown:F.curry(Tb,wb),ieTryUp:Sb,ieTryDown:Eb,getJumpSize:F.constant(5)},Rb=gs.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Pb=function(e,t,n){var r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right},Nb=function(e,t,n,r,o,i,a){return co.closest(r,"td,th",a).bind(function(n){return co.closest(t,"td,th",a).map(function(t){return zn.eq(n,t)?zn.eq(r,n)&&Hi.getEnd(n)===o?i(t):Rb.none("in same cell"):La.sharedOne(Ab,[n,t]).fold(function(){return Pb(e,t,n)?Rb.success():i(t)},function(e){return i(t)})})}).getOr(Rb.none("default"))},Ab=function(e){return co.closest(e,"tr")},Ib=function(e,t,n,r,o){return e.fold(t,n,r,o)},Db={verify:Nb,cata:Ib,adt:Rb},Mb=qe.immutable("element","offset"),Lb=qe.immutable("element","deltaOffset"),Bb=qe.immutable("element","start","finish"),Fb=qe.immutable("begin","end"),jb=qe.immutable("element","text"),Vb={point:Mb,delta:Lb,range:Bb,points:Fb,text:jb},Hb=qe.immutable("ancestor","descendants","element","index"),Ub=qe.immutable("parent","children","element","index"),zb=function(e,t){return no.closest(e,function(e){return lr.parent(e).exists(function(e){return zn.eq(e,t)})})},qb=function(e){return lr.parent(e).bind(function(t){var n=lr.children(t);return Wb(n,e).map(function(r){return Ub(t,n,e,r)})})},Wb=function(e,t){return Oe.findIndex(e,F.curry(zn.eq,t))},Gb=function(e,t){return lr.parent(e).bind(function(n){var r=Yr.children(n,t);return Wb(r,e).map(function(t){return Ub(n,r,e,t)})})},Kb=function(e,t,n){return co.closest(e,t).bind(function(t){var r=Yr.descendants(t,n);return Wb(r,e).map(function(n){return Hb(t,r,e,n)})})},$b={childOf:zb,indexOf:Wb,indexInParent:qb,selectorsInParent:Gb,descendantsInAncestor:Kb},Yb=function(e){return"br"===_r.name(e)},Xb=function(e,t,n){return t(e,n).bind(function(e){return _r.isText(e)&&0===Di.get(e).trim().length?Xb(e,t,n):W.some(e)})},Zb=function(e,t,n){return n.traverse(t).orThunk(function(){return Xb(t,n.gather,e)}).map(n.relative)},Jb=function(e,t){return lr.child(e,t).filter(Yb).orThunk(function(){return lr.child(e,t-1).filter(Yb)})},Qb=function(e,t,n,r){return Jb(t,n).bind(function(t){return r.traverse(t).fold(function(){return Xb(t,r.gather,e).map(r.relative)},function(e){return $b.indexInParent(e).map(function(e){return ig.on(e.parent(),e.index())})})})},ew=function(e,t,n,r){return(Yb(t)?Zb(e,t,r):Qb(e,t,n,r)).map(function(e){return{start:F.constant(e),finish:F.constant(e)}})},tw=function(e){return Db.cata(e,function(e){return W.none()},function(){return W.none()},function(e){return W.some(Vb.point(e,0))},function(e){return W.some(Vb.point(e,Hi.getEnd(e)))})},nw={tryBr:ew,process:tw},rw=Mn.detect(),ow=function(e,t,n){return e.getSelection().bind(function(r){return nw.tryBr(t,r.finish(),r.foffset(),n).fold(function(){return W.some(Vb.point(r.finish(),r.foffset()))},function(o){var i=e.fromSitus(o),a=Db.verify(e,r.finish(),r.foffset(),i.finish(),i.foffset(),n.failure,t);return nw.process(a)})})},iw=function(e,t,n,r,o,i){return 0===i?W.none():uw(e,t,n,r,o).bind(function(a){var s=e.fromSitus(a),u=Db.verify(e,n,r,s.finish(),s.foffset(),o.failure,t);return Db.cata(u,function(){return W.none()},function(){return W.some(a)},function(a){return zn.eq(n,a)&&0===r?aw(e,n,r,Py.moveUp,o):iw(e,t,a,0,o,i-1)},function(a){return zn.eq(n,a)&&r===Hi.getEnd(a)?aw(e,n,r,Py.moveDown,o):iw(e,t,a,Hi.getEnd(a),o,i-1)})})},aw=function(e,t,n,r,o){return Ly.getBoxAt(e,t,n).bind(function(t){return sw(e,o,r(t,kb.getJumpSize()))})},sw=function(e,t,n){return rw.browser.isChrome()||rw.browser.isSafari()||rw.browser.isFirefox()||rw.browser.isEdge()?t.otherRetry(e,n):rw.browser.isIE()?t.ieRetry(e,n):W.none()},uw=function(e,t,n,r,o){return Ly.getBoxAt(e,n,r).bind(function(t){return sw(e,o,t)})},cw=function(e,t,n){return ow(e,t,n).bind(function(r){return iw(e,t,r.element(),r.offset(),n,20).map(e.fromSitus)})},lw={handle:cw},fw=function(e){return no.first(e).isSome()},dw=function(e,t,n){return no.ancestor(e,t,n).isSome()},pw=function(e,t,n){return no.closest(e,t,n).isSome()},hw=function(e,t){return no.sibling(e,t).isSome()},mw=function(e,t){return no.child(e,t).isSome()},gw=function(e,t){return no.descendant(e,t).isSome()},vw={any:fw,ancestor:dw,closest:pw,sibling:hw,child:mw,descendant:gw},yw=Mn.detect(),bw=function(e,t){return vw.ancestor(e,function(e){return lr.parent(e).exists(function(e){return zn.eq(e,t)})})},ww=function(e,t,n,r,o){return co.closest(r,"td,th",t).bind(function(r){return co.closest(r,"table",t).bind(function(i){return bw(o,i)?lw.handle(e,t,n).bind(function(e){return co.closest(e.finish(),"td,th",t).map(function(t){return{start:F.constant(r),finish:F.constant(t),range:F.constant(e)}})}):W.none()})})},Cw=function(e,t,n,r,o,i){return yw.browser.isIE()?W.none():i(r,t).orThunk(function(){return ww(e,t,n,r,o).map(function(e){var t=e.range();return Zv.response(W.some(iy.makeSitus(t.start(),t.soffset(),t.finish(),t.foffset())),!0)})})},_w=function(e,t){return co.closest(e,"tr",t).bind(function(e){return co.closest(e,"table",t).bind(function(n){var r=Yr.descendants(n,"tr");return zn.eq(e,r[0])?pb.seekLeft(n,function(e){return Wi.last(e).isSome()},t).map(function(e){var t=Hi.getEnd(e);return Zv.response(W.some(iy.makeSitus(e,t,e,t)),!0)}):W.none()})})},xw=function(e,t){return co.closest(e,"tr",t).bind(function(e){return co.closest(e,"table",t).bind(function(n){var r=Yr.descendants(n,"tr");return zn.eq(e,r[r.length-1])?pb.seekRight(n,function(e){return Wi.first(e).isSome()},t).map(function(e){return Zv.response(W.some(iy.makeSitus(e,0,e,0)),!0)}):W.none()})})},Ew=function(e,t,n,r,o,i,a){return ww(e,n,r,o,i).bind(function(e){return wy.detect(t,n,e.start(),e.finish(),a)})},Sw={navigate:Cw,select:Ew,firstUpCheck:_w,lastDownCheck:xw},Ow=function(e,t){return co.closest(e,"td,th",t)},Tw={down:{traverse:lr.nextSibling,gather:pb.after,relative:ig.before,otherRetry:kb.tryDown,ieRetry:kb.ieTryDown,failure:Db.adt.failedDown},up:{traverse:lr.prevSibling,gather:pb.before,relative:ig.before,otherRetry:kb.tryUp,ieRetry:kb.ieTryUp,failure:Db.adt.failedUp}},kw=qe.immutable("rows","cols"),Rw=function(e,t,n,r){var o=b(e),i=w(o,t,n,r);return{mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},Pw=function(e,t,n,r){var o=b(e),i=function(){return r.clear(t),W.none()};return{keydown:function(e,a,s,u,c,l){var f=e.raw().which,d=!0===e.raw().shiftKey;return cs.retrieve(t,r.selectedSelector()).fold(function(){return ny.isDown(f)&&d?F.curry(Sw.select,o,t,n,Tw.down,u,a,r.selectRange):ny.isUp(f)&&d?F.curry(Sw.select,o,t,n,Tw.up,u,a,r.selectRange):ny.isDown(f)?F.curry(Sw.navigate,o,n,Tw.down,u,a,Sw.lastDownCheck):ny.isUp(f)?F.curry(Sw.navigate,o,n,Tw.up,u,a,Sw.firstUpCheck):W.none},function(e){var n=function(n){return function(){return Uc.findMap(n,function(n){return wy.update(n.rows(),n.cols(),t,e,r)}).fold(function(){return cs.getEdges(t,r.firstSelectedSelector(),r.lastSelectedSelector()).map(function(e){var n=ny.isDown(f)||l.isForward(f)?ig.after:ig.before;return o.setRelativeSelection(ig.on(e.first(),0),n(e.table())),r.clear(t),Zv.response(W.none(),!0)})},function(e){return W.some(Zv.response(W.none(),!0))})}};return ny.isDown(f)&&d?n([kw(1,0)]):ny.isUp(f)&&d?n([kw(-1,0)]):l.isBackward(f)&&d?n([kw(0,-1),kw(-1,0)]):l.isForward(f)&&d?n([kw(0,1),kw(1,0)]):ny.isNavigation(f)&&!1===d?i:W.none})()},keyup:function(e,o,i,a,s){return cs.retrieve(t,r.selectedSelector()).fold(function(){var u=e.raw().which;return 0==(!0===e.raw().shiftKey)?W.none():ny.isNavigation(u)?wy.sync(t,n,o,i,a,s,r.selectRange):W.none()},W.none)}}},Nw={mouse:Rw,keyboard:Pw},Aw=function(e,t){Oe.each(t,function(t){Hl.add(e,t)})},Iw=function(e,t){Oe.each(t,function(t){Hl.remove(e,t)})},Dw=function(e,t){Oe.each(t,function(t){Hl.toggle(e,t)})},Mw=function(e,t){return Oe.forall(t,function(t){return Hl.has(e,t)})},Lw=function(e,t){return Oe.exists(t,function(t){return Hl.has(e,t)})},Bw=function(e){for(var t=e.dom().classList,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t.item(r);return n},Fw=function(e){return Dl.supports(e)?Bw(e):Dl.get(e)},jw={add:Aw,remove:Iw,toggle:Dw,hasAll:Mw,hasAny:Lw,get:Fw},Vw=function(e){return function(t){Hl.add(t,e)}},Hw=function(e){return function(t){Hl.remove(t,e)}},Uw=function(e){return function(t){jw.remove(t,e)}},zw=function(e){return function(t){return Hl.has(t,e)}},qw={addClass:Vw,removeClass:Hw,removeClasses:Uw,hasClass:zw},Ww=function(e){var t=qw.addClass(e.selected()),n=qw.removeClasses([e.selected(),e.lastSelected(),e.firstSelected()]),r=function(t){var r=Yr.descendants(t,e.selectedSelector());Oe.each(r,n)};return{clear:r,selectRange:function(n,o,i,a){r(n),Oe.each(o,t),Hl.add(i,e.firstSelected()),Hl.add(a,e.lastSelected())},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},Gw=function(e){var t=function(t){Ir.remove(t,e.selected()),Ir.remove(t,e.firstSelected()),Ir.remove(t,e.lastSelected())},n=function(t){Ir.set(t,e.selected(),"1")},r=function(n){var r=Yr.descendants(n,e.selectedSelector());Oe.each(r,t)};return{clear:r,selectRange:function(t,o,i,a){r(t),Oe.each(o,n),Ir.set(i,e.firstSelected(),"1"),Ir.set(a,e.lastSelected(),"1")},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},Kw={byClass:Ww,byAttr:Gw},$w=function(e){return!1===Hl.has(lt.fromDom(e.target),"ephox-snooker-resizer-bar")},Yw=function(e){return{get:function(){var t=gp(e);return ds.retrieve(t,hs.selectedSelector()).fold(function(){return void 0===e.selection.getStart()?bs.none():bs.single(e.selection)},function(e){return bs.multiple(e)})}}},Xw=oh.each,Zw=function(e){function t(t){return function(){e.execCommand(t)}}var n=[];Xw("inserttable tableprops deletetable | cell row column".split(" "),function(t){"|"===t?n.push({text:"-"}):n.push(e.menuItems[t])}),e.addButton("table",{type:"menubutton",title:"Table",menu:n}),e.addButton("tableprops",{title:"Table properties",onclick:t("mceTableProps"),icon:"table"}),e.addButton("tabledelete",{title:"Delete table",onclick:t("mceTableDelete")}),e.addButton("tablecellprops",{title:"Cell properties",onclick:t("mceTableCellProps")}),e.addButton("tablemergecells",{title:"Merge cells",onclick:t("mceTableMergeCells")}),e.addButton("tablesplitcells",{title:"Split cell",onclick:t("mceTableSplitCells")}),e.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:t("mceTableInsertRowBefore")}),e.addButton("tableinsertrowafter",{title:"Insert row after",onclick:t("mceTableInsertRowAfter")}),e.addButton("tabledeleterow",{title:"Delete row",onclick:t("mceTableDeleteRow")}),e.addButton("tablerowprops",{title:"Row properties",onclick:t("mceTableRowProps")}),e.addButton("tablecutrow",{title:"Cut row",onclick:t("mceTableCutRow")}),e.addButton("tablecopyrow",{title:"Copy row",onclick:t("mceTableCopyRow")}),e.addButton("tablepasterowbefore",{title:"Paste row before",onclick:t("mceTablePasteRowBefore")}),e.addButton("tablepasterowafter",{title:"Paste row after",onclick:t("mceTablePasteRowAfter")}),e.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:t("mceTableInsertColBefore")}),e.addButton("tableinsertcolafter",{title:"Insert column after",onclick:t("mceTableInsertColAfter")}),e.addButton("tabledeletecol",{title:"Delete column",onclick:t("mceTableDeleteCol")})},Jw=function(e){var t=function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},n=Xp(e);n.length>0&&e.addContextToolbar(t,n.join(" "))},Qw={addButtons:Zw,addToolbars:Jw},eC=function(e,t){function n(t){return function(){e.execCommand(t)}}var r=W.none(),o=[],i=[],a=[],s=[],u=function(e){e.disabled(!0)},c=function(e){e.disabled(!1)},l=function(){var e=this;o.push(e),r.fold(function(){u(e)},function(t){c(e)})},f=function(){var e=this;i.push(e),r.fold(function(){u(e)},function(t){c(e)})},d=function(){var e=this;a.push(e),r.fold(function(){u(e)},function(t){e.disabled(t.mergable().isNone())})},p=function(){var e=this;s.push(e),r.fold(function(){u(e)},function(t){e.disabled(t.unmergable().isNone())})},h=function(){r.fold(function(){Oe.each(o,u),Oe.each(i,u),Oe.each(a,u),Oe.each(s,u)},function(e){Oe.each(o,c),Oe.each(i,c),Oe.each(a,function(t){t.disabled(e.mergable().isNone())}),Oe.each(s,function(t){t.disabled(e.unmergable().isNone())})})};e.on("init",function(){e.on("nodechange",function(n){var o=W.from(e.dom.getParent(e.selection.getStart(),"th,td"));r=o.bind(function(e){var n=lt.fromDom(e);return Eo.table(n).map(function(e){return Rs.forMenu(t,e,n)})}),h()})});var m=function(e,t,n,r){var o,i,a,s,u,c=r.getEl().getElementsByTagName("table")[0],l=r.isRtl()||"tl-tr"===r.parent().rel;for(c.nextSibling.innerHTML=t+1+" x "+(n+1),l&&(t=9-t),i=0;i<10;i++)for(o=0;o<10;o++)s=c.rows[i].childNodes[o].firstChild,u=(l?o>=t:o<=t)&&i<=n,e.dom.toggleClass(s,"mce-active",u),u&&(a=s);return a.parentNode},g=!1===Hp(e)?{text:"Table",icon:"table",context:"table",onclick:n("mceInsertTable")}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(t){t.aria&&(this.parent().hideAll(),t.stopImmediatePropagation(),e.execCommand("mceInsertTable"))},onshow:function(){m(e,0,0,this.menu.items()[0])},onhide:function(){var t=this.menu.items()[0].getEl().getElementsByTagName("a");e.dom.removeClass(t,"mce-active"),e.dom.addClass(t[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return e+="</table>",e+='<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(t){var n,r,o=t.target;"A"===o.tagName.toUpperCase()&&(n=parseInt(o.getAttribute("data-mce-x"),10),r=parseInt(o.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"===this.parent().rel)&&(n=9-n),n===this.lastX&&r===this.lastY||(m(e,n,r,t.control),this.lastX=n,this.lastY=r))},onclick:function(t){var n=this;"A"===t.target.tagName.toUpperCase()&&(t.preventDefault(),t.stopPropagation(),n.parent().cancel(),e.undoManager.transact(function(){Uh.insert(e,n.lastX+1,n.lastY+1)}),e.addVisual())}}]},v={text:"Table properties",context:"table",onPostRender:l,onclick:n("mceTableProps")},y={text:"Delete table",context:"table",onPostRender:l,cmd:"mceTableDelete"},b={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:n("mceTableInsertRowBefore"),onPostRender:f},{text:"Insert row after",onclick:n("mceTableInsertRowAfter"),onPostRender:f},{text:"Delete row",onclick:n("mceTableDeleteRow"),onPostRender:f},{text:"Row properties",onclick:n("mceTableRowProps"),onPostRender:f},{text:"-"},{text:"Cut row",onclick:n("mceTableCutRow"),onPostRender:f},{text:"Copy row",onclick:n("mceTableCopyRow"),onPostRender:f},{text:"Paste row before",onclick:n("mceTablePasteRowBefore"),onPostRender:f},{text:"Paste row after",onclick:n("mceTablePasteRowAfter"),onPostRender:f}]},w={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:n("mceTableInsertColBefore"),onPostRender:f},{text:"Insert column after",onclick:n("mceTableInsertColAfter"),onPostRender:f},{text:"Delete column",onclick:n("mceTableDeleteCol"),onPostRender:f}]},C={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:n("mceTableCellProps"),onPostRender:f},{text:"Merge cells",onclick:n("mceTableMergeCells"),onPostRender:d},{text:"Split cell",onclick:n("mceTableSplitCells"),onPostRender:p}]};e.addMenuItem("inserttable",g),e.addMenuItem("tableprops",v),e.addMenuItem("deletetable",y),e.addMenuItem("row",b),e.addMenuItem("column",w),e.addMenuItem("cell",C)},tC={addMenuItems:eC},nC=function(e){return e.get().fold(function(){},function(e){return Oe.map(e,function(e){return e.dom()})})},rC=function(e,t){var n=Oe.map(e,lt.fromDom);t.set(W.from(n))},oC=function(e,t){return{insertTable:function(t,n){return Uh.insert(e,t,n)},setClipboardRows:function(e){return rC(e,t)},getClipboardRows:function(){return nC(t)}}};E.add("table",_)}()}()},"1eQ7":function(e,t,n){"use strict";function r(e,t,n){return o.first(e,t,n)(this)}var o=n("+BWq");t.first=r},"23I1":function(e,t,n){"use strict";var r=n("MzWM");t.defer=r.DeferObservable.create},"2B7B":function(e,t,n){"use strict";function r(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var n=e.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var o=Object.getOwnPropertyNames(r.prototype),i=0;i<o.length;++i){var a=o[i];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}var o=n("zijX");t.symbolIteratorPonyfill=r,t.iterator=r(o.root),t.$$iterator=t.iterator},"3lsR":function(e,t,n){"use strict";var r=n("bKpL"),o=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=o},"422b":function(e,t,n){"use strict";function r(e,t){return o.filter(e,t)(this)}var o=n("Hd11");t.filter=r},"4OsP":function(e,t){!function(){!function(){"use strict";function e(){}var t=function(e){var n=e,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return t(r())}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),o=tinymce.util.Tools.resolve("tinymce.util.Delay"),i=function(e){return parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10)},a=function(e){return parseInt(e.getParam("autoresize_max_height",0),10)},s=function(e){return e.getParam("autoresize_overflow_padding",1)},u=function(e){return e.getParam("autoresize_bottom_margin",50)},c=function(e){return e.getParam("autoresize_on_init",!0)},l={getAutoResizeMinHeight:i,getAutoResizeMaxHeight:a,getAutoResizeOverflowPadding:s,getAutoResizeBottomMargin:u,shouldAutoResizeOnInit:c},f=function(e){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()},d=function(e,t,n,r,i){o.setEditorTimeout(e,function(){h(e,t),n--?d(e,t,n,r,i):i&&i()},r)},p=function(e,t){var n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},h=function(e,t){var n,o,i,a,s,u,c,d,m,g,v,y=e.dom;if(o=e.getDoc()){if(f(e))return void p(e,!0);i=o.body,a=l.getAutoResizeMinHeight(e),u=y.getStyle(i,"margin-top",!0),c=y.getStyle(i,"margin-bottom",!0),d=y.getStyle(i,"padding-top",!0),m=y.getStyle(i,"padding-bottom",!0),g=y.getStyle(i,"border-top-width",!0),v=y.getStyle(i,"border-bottom-width",!0),s=i.offsetHeight+parseInt(u,10)+parseInt(c,10)+parseInt(d,10)+parseInt(m,10)+parseInt(g,10)+parseInt(v,10),(isNaN(s)||s<=0)&&(s=r.ie?i.scrollHeight:r.webkit&&0===i.clientHeight?0:i.offsetHeight),s>l.getAutoResizeMinHeight(e)&&(a=s);var b=l.getAutoResizeMaxHeight(e);b&&s>b?(a=b,p(e,!0)):p(e,!1),a!==t.get()&&(n=a-t.get(),y.setStyle(e.iframeElement,"height",a+"px"),t.set(a),r.webkit&&n<0&&h(e,t))}},m=function(e,t){e.on("init",function(){var t,n,r=e.dom;t=l.getAutoResizeOverflowPadding(e),n=l.getAutoResizeBottomMargin(e),!1!==t&&r.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t}),!1!==n&&r.setStyles(e.getBody(),{paddingBottom:n})}),e.on("nodechange setcontent keyup FullscreenStateChanged",function(n){h(e,t)}),l.shouldAutoResizeOnInit(e)&&e.on("init",function(){d(e,t,20,100,function(){d(e,t,5,1e3)})})},g={setup:m,resize:h},v=function(e,t){e.addCommand("mceAutoResize",function(){g.resize(e,t)})},y={register:v};n.add("autoresize",function(e){if(!e.inline){var n=t(0);y.register(e,n),g.setup(e,n)}})}()}()},"5Plz":function(e,t,n){"use strict";function r(e){return s["\u0275vid"](0,[(e()(),s["\u0275eld"](0,0,null,null,0,"div",[["id","grayOutDiv"]],null,null,null,null,null))],null,null)}function o(e){return s["\u0275vid"](0,[(e()(),s["\u0275eld"](0,0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),s["\u0275ted"](-1,null,["\n              "])),(e()(),s["\u0275eld"](2,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),s["\u0275ted"](3,null,["",""])),(e()(),s["\u0275ted"](-1,null,["\n          "]))],null,function(e,t){e(t,0,0,s["\u0275inlineInterpolate"](1,"alert flash-message ",t.context.$implicit.cssClass,"")),e(t,3,0,t.context.$implicit.text)})}function i(e){return s["\u0275vid"](0,[(e()(),s["\u0275ted"](-1,null,["\n      "])),(e()(),s["\u0275eld"](1,0,null,null,7,"div",[["id","flashMessages"]],[[8,"className",0]],null,null,null,null)),(e()(),s["\u0275ted"](-1,null,["\n          "])),(e()(),s["\u0275and"](16777216,null,null,1,null,r)),s["\u0275did"](4,16384,null,0,u.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),s["\u0275ted"](-1,null,["\n          "])),(e()(),s["\u0275and"](16777216,null,null,1,null,o)),s["\u0275did"](7,802816,null,0,u.NgForOf,[s.ViewContainerRef,s.TemplateRef,s.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),s["\u0275ted"](-1,null,[" \n      "])),(e()(),s["\u0275ted"](-1,null,["\n  "]))],function(e,t){var n=t.component;e(t,4,0,n._grayOut&&n.messages.length),e(t,7,0,n.messages)},function(e,t){var n=t.component;e(t,1,0,s["\u0275inlineInterpolate"](1,"flash-messages ",n.classes,""))})}function a(e){return s["\u0275vid"](0,[(e()(),s["\u0275eld"](0,0,null,null,1,"flash-messages",[],null,null,null,i,d)),s["\u0275did"](1,114688,null,0,c.FlashMessagesComponent,[l.FlashMessagesService,s.ChangeDetectorRef],null,null)],function(e,t){e(t,1,0)},null)}n.d(t,"a",function(){return d}),t.b=i;var s=n("/oeL"),u=n("qbdv"),c=n("Sshh"),l=(n.n(c),n("G1/N")),f=(n.n(l),[]),d=s["\u0275crt"]({encapsulation:2,styles:f,data:{}});s["\u0275ccf"]("flash-messages",c.FlashMessagesComponent,a,{},{},[])},"5uVf":function(e,t,n){"use strict";var r=n("fKez"),o=function(){function e(e,t,n){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=e,this.some=t,this.options=n,this.file=new r.FileLikeObject(t),this._file=t,e.options&&(this.method=e.options.method||"POST",this.alias=e.options.itemAlias||"file"),this.url=e.options.url}return e.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}},e.prototype.cancel=function(){this.uploader.cancelItem(this)},e.prototype.remove=function(){this.uploader.removeFromQueue(this)},e.prototype.onBeforeUpload=function(){},e.prototype.onBuildForm=function(e){return{form:e}},e.prototype.onProgress=function(e){return{progress:e}},e.prototype.onSuccess=function(e,t,n){return{response:e,status:t,headers:n}},e.prototype.onError=function(e,t,n){return{response:e,status:t,headers:n}},e.prototype.onCancel=function(e,t,n){return{response:e,status:t,headers:n}},e.prototype.onComplete=function(e,t,n){return{response:e,status:t,headers:n}},e.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},e.prototype._onBuildForm=function(e){this.onBuildForm(e)},e.prototype._onProgress=function(e){this.progress=e,this.onProgress(e)},e.prototype._onSuccess=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(e,t,n)},e.prototype._onError=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(e,t,n)},e.prototype._onCancel=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(e,t,n)},e.prototype._onComplete=function(e,t,n){this.onComplete(e,t,n),this.uploader.options.removeAfterUpload&&this.remove()},e.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},e}();t.FileItem=o},"5v8a":function(e,t,n){"use strict";var r=n("bKpL"),o=n("lx+J");r.Observable.prototype.map=o.map},"6+Fs":function(e,t){!function(){!function(){"use strict";function e(e,t,n){var r,o,i,a,s,u,c,l,f,d;return f=_n(),o=yn.getPos(t,Ue.getUiContainer(e)),i=o.x,a=o.y,wn(e)&&bn(document.body)&&(i-=f.x,a-=f.y),r=e.getEl(),d=yn.getSize(r),s=d.width,u=d.height,d=yn.getSize(t),c=d.width,l=d.height,n=(n||"").split(""),"b"===n[0]&&(a+=l),"r"===n[1]&&(i+=c),"c"===n[0]&&(a+=Math.round(l/2)),"c"===n[1]&&(i+=Math.round(c/2)),"b"===n[3]&&(a-=u),"r"===n[4]&&(i-=s),"c"===n[3]&&(a-=Math.round(u/2)),"c"===n[4]&&(i-=Math.round(s/2)),{x:i,y:a,w:s,h:u}}function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}function r(e){for(var t,n=[],r=e.length;r--;)t=e[r],t.__checked||(n.push(t),t.__checked=1);for(r=n.length;r--;)delete n[r].__checked;return n}function o(e){return e.nodeType>0}function i(e,t){var n,r;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(F.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!i(e[n],t[n]))return!1}if(o(e)||o(t))return e===t;r={};for(n in t){if(!i(e[n],t[n]))return!1;r[n]=!0}for(n in e)if(!r[n]&&!i(e[n],t[n]))return!1;return!0}function a(e){return e._eventDispatcher||(e._eventDispatcher=new On({scope:e,toggleEvent:function(t,n){n&&On.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&s(e))}})),e._eventDispatcher}function s(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function r(t){var n,r,o,i=e.getParentCtrl(t.target),a=u._lastHoverCtrl,s=0;if(i!==a){if(u._lastHoverCtrl=i,r=i.parents().toArray().reverse(),r.push(i),a){for(o=a.parents().toArray().reverse(),o.push(a),s=0;s<o.length&&r[s]===o[s];s++);for(n=o.length-1;n>=s;n--)a=o[n],a.fire("mouseleave",{target:a.getEl()})}for(n=s;n<r.length;n++)i=r[n],i.fire("mouseenter",{target:i.getEl()})}}function o(t){t.preventDefault(),"mousewheel"===t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var i,a,s,u,c,l;if(c=e._nativeEvents){for(s=e.parents().toArray(),s.unshift(e),i=0,a=s.length;!u&&i<a;i++)u=s[i]._eventsRoot;for(u||(u=s[s.length-1]||e),e._eventsRoot=u,a=i,i=0;i<a;i++)s[i]._eventsRoot=u;var f=u._delegates;f||(f=u._delegates={});for(l in c){if(!c)return!1;"wheel"!==l||Gn?("mouseenter"===l||"mouseleave"===l?u._hasMouseEnter||(gn(u.getEl()).on("mouseleave",n).on("mouseover",r),u._hasMouseEnter=1):f[l]||(gn(u.getEl()).on(l,t),f[l]=!0),c[l]=!1):Wn?gn(e.getEl()).on("mousewheel",o):gn(e.getEl()).on("DOMMouseScroll",o)}}}function u(e){function t(e){return e&&1===e.nodeType}function n(e){return e=e||b,t(e)?e.getAttribute("role"):null}function r(e){for(var t,r=e||b;r=r.parentNode;)if(t=n(r))return t}function o(e){var n=b;if(t(n))return n.getAttribute("aria-"+e)}function i(e){var t=e.tagName.toUpperCase();return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t}function a(e){return!(!i(e)||e.hidden)||(!!er(e)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(e)))}function s(e){function t(e){if(1===e.nodeType&&"none"!==e.style.display&&!e.disabled){a(e)&&n.push(e);for(var r=0;r<e.childNodes.length;r++)t(e.childNodes[r])}}var n=[];return t(e||C.getEl()),n}function u(e){var t,n;e=e||w,n=e.parents().toArray(),n.unshift(e);for(var r=0;r<n.length&&(t=n[r],!t.settings.ariaRoot);r++);return t}function c(e){var t=u(e),n=s(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?l(t.lastAriaIndex,n):l(0,n)}function l(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function f(e,t){var n=-1,r=u();t=t||s(r.getEl());for(var o=0;o<t.length;o++)t[o]===b&&(n=o);n+=e,r.lastAriaIndex=l(n,t)}function d(){"tablist"===r()?f(-1,s(b.parentNode)):w.parent().submenu?v():f(-1)}function p(){var e=n(),t=r();"tablist"===t?f(1,s(b.parentNode)):"menuitem"===e&&"menu"===t&&o("haspopup")?y():f(1)}function h(){f(-1)}function m(){var e=n(),t=r();"menuitem"===e&&"menubar"===t?y():"button"===e&&o("haspopup")?y({key:"down"}):f(1)}function g(e){if("tablist"===r()){var t=s(w.getEl("body"))[0];t&&t.focus()}else f(e.shiftKey?-1:1)}function v(){w.fire("cancel")}function y(e){e=e||{},w.fire("click",{target:b,aria:e})}var b,w,C=e.root;try{b=document.activeElement}catch(e){b=document.body}return w=C.getParentCtrl(b),C.on("keydown",function(e){function t(e,t){i(b)||er(b)||"slider"!==n(b)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,d);break;case 39:t(e,p);break;case 38:t(e,h);break;case 40:t(e,m);break;case 27:v();break;case 14:case 13:case 32:t(e,y);break;case 9:g(e),e.preventDefault()}}),C.on("focusin",function(e){b=e.target,w=e.control}),{focusFirst:c}}function c(e){var t,n,r,o,i,a,s,u,c=Math.max;return t=e.documentElement,n=e.body,r=c(t.scrollWidth,n.scrollWidth),o=c(t.clientWidth,n.clientWidth),i=c(t.offsetWidth,n.offsetWidth),a=c(t.scrollHeight,n.scrollHeight),s=c(t.clientHeight,n.clientHeight),u=c(t.offsetHeight,n.offsetHeight),{width:r<i?o:r,height:a<u?s:a}}function l(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function f(e,t){var n,r,o,i,a,s,u,f=t.document||document;t=t||{};var d=f.getElementById(t.handle||e);o=function(e){var o,p,h=c(f);l(e),e.preventDefault(),r=e.button,o=d,s=e.screenX,u=e.screenY,p=window.getComputedStyle?window.getComputedStyle(o,null).getPropertyValue("cursor"):o.runtimeStyle.cursor,n=gn("<div></div>").css({position:"absolute",top:0,left:0,width:h.width,height:h.height,zIndex:2147483647,opacity:1e-4,cursor:p}).appendTo(f.body),gn(f).on("mousemove touchmove",a).on("mouseup touchend",i),t.start(e)},a=function(e){if(l(e),e.button!==r)return i(e);e.deltaX=e.screenX-s,e.deltaY=e.screenY-u,e.preventDefault(),t.drag(e)},i=function(e){l(e),gn(f).off("mousemove touchmove",a).off("mouseup touchend",i),n.remove(),t.stop&&t.stop(e)},this.destroy=function(){gn(d).off()},gn(d).on("mousedown touchstart",o)}function d(e,t){for(;e;){if(e===t)return!0;e=e.parent()}}function p(e){for(var t=ar.length;t--;){var n=ar[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(d(r,n)||n.parent()===r))continue;e=n.fire("autohide",{target:e.target}),e.isDefaultPrevented()||n.hide()}}}function h(){Yn||(Yn=function(e){2!==e.button&&p(e)},gn(document).on("click touchstart",Yn))}function m(){Xn||(Xn=function(){var e;for(e=ar.length;e--;)v(ar[e])},gn(window).on("scroll",Xn))}function g(){if(!Zn){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;Zn=function(){document.all&&t===e.clientWidth&&n===e.clientHeight||(t=e.clientWidth,n=e.clientHeight,ur.hideAll())},gn(window).on("resize",Zn)}}function v(e){function t(t,n){for(var r,o=0;o<ar.length;o++)if(ar[o]!==e)for(r=ar[o].parent();r&&(r=r.parent());)r===e&&ar[o].fixed(t).moveBy(0,n).repaint()}var n=yn.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function y(e,t){var n,r,o=ur.zIndex||65535;if(e)sr.push(t);else for(n=sr.length;n--;)sr[n]===t&&sr.splice(n,1);if(sr.length)for(n=0;n<sr.length;n++)sr[n].modal&&(o++,r=sr[n]),sr[n].getEl().style.zIndex=o,sr[n].zIndex=o,o++;var i=gn("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];r?gn(i).css("z-index",r.zIndex-1):i&&(i.parentNode.removeChild(i),Jn=!1),ur.currentZIndex=o}function b(e){var t;for(t=ar.length;t--;)ar[t]===e&&ar.splice(t,1);for(t=sr.length;t--;)sr[t]===e&&sr.splice(t,1)}function w(e,t){var n,r,o=this,i=Qn.classPrefix;o.show=function(a,s){function u(){n&&(gn(e).append('<div class="'+i+"throbber"+(t?" "+i+"throbber-inline":"")+'"></div>'),s&&s())}return o.hide(),n=!0,a?r=ge.setTimeout(u,a):u(),o},o.hide=function(){var t=e.lastChild;return ge.clearTimeout(r),t&&-1!==t.className.indexOf("throbber")&&t.parentNode.removeChild(t),n=!1,o}}function C(e){var t=function(e){return e.inline?e.getElement():e.getContentAreaContainer()},n=function(){var n=t(e);return yn.getSize(n).width},r=function(e){Dt.each(e,function(e){e.moveTo(0,0)})},o=function(n){if(n.length>0){var r=n.slice(0,1)[0],o=t(e);r.moveRel(o,"tc-tc"),Dt.each(n,function(e,t){t>0&&e.moveRel(n[t-1].getEl(),"bc-tc")})}},i=function(e){r(e),o(e)};return{open:function(e,t){var r=F.extend(e,{maxWidth:n()}),o=new wr(r);return o.args=r,r.timeout>0&&(o.timer=setTimeout(function(){o.close(),t()},r.timeout)),o.on("close",function(){t()}),o.renderTo(),o},close:function(e){e.close()},reposition:i,getArgs:function(e){return e.args}}}function _(e){var t,n=gn("meta[name=viewport]")[0];!1!==Xt.overrideViewPort&&(n||(n=document.createElement("meta"),n.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),t=n.getAttribute("content"),t&&void 0!==_r&&(_r=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":_r))}function x(e,t){E()&&!1===t&&gn([document.documentElement,document.body]).removeClass(e+"fullscreen")}function E(){for(var e=0;e<Cr.length;e++)if(Cr[e]._fullscreen)return!0;return!1}function S(e){return{open:function(e,t,n){var r;return e.title=e.title||" ",e.url=e.url||e.file,e.url&&(e.width=parseInt(e.width||320,10),e.height=parseInt(e.height||240,10)),e.body&&(e.items={defaults:e.defaults,type:e.bodyType||"form",items:e.body,data:e.data,callbacks:e.commands}),e.url||e.buttons||(e.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit()}},{text:"Cancel",onclick:function(){r.close()}}]),r=new xr(e),r.on("close",function(){n(r)}),e.data&&r.on("postRender",function(){this.find("*").each(function(t){var n=t.name();n in e.data&&t.value(e.data[n])})}),r.features=e||{},r.params=t||{},r=r.renderTo(document.body).reflow()},alert:function(e,t,n){var r;return r=Er.alert(e,function(){t()}),r.on("close",function(){n(r)}),r},confirm:function(e,t,n){var r;return r=Er.confirm(e,function(e){t(e)}),r.on("close",function(){n(r)}),r},close:function(e){e.close()},getParams:function(e){return e.params},setParams:function(e,t){e.params=t}}}function O(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return Dt.each(e,function(e,n){r[e]=Pe.constant(t[n])}),r}}function T(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return Mo.validateStrArr("required",e),Mo.validateStrArr("optional",t),Mo.checkDupes(n),function(r){var o=ko.keys(r);Dt.forall(e,function(e){return Dt.contains(o,e)})||Mo.reqMessage(e,o);var i=Dt.filter(o,function(e){return!Dt.contains(n,e)});i.length>0&&Mo.unsuppMessage(i);var a={};return Dt.each(e,function(e){a[e]=Pe.constant(r[e])}),Dt.each(t,function(e){a[e]=Pe.constant(Object.prototype.hasOwnProperty.call(r,e)?Be.some(r[e]):Be.none())}),a}}function k(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=r||i||a&&!0===/mobile/i.test(n),u=e.isiOS()||e.isAndroid(),c=u&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:Pe.constant(r),isiPhone:Pe.constant(o),isTablet:Pe.constant(s),isPhone:Pe.constant(c),isTouch:Pe.constant(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Pe.constant(l)}}function R(e,t,n,r,o){return e(n,r)?Be.some(n):nt.isFunction(o)&&o(n)?Be.none():t(n,r,o)}function P(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}function N(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}function A(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function I(e,t,n){e.setAttribute("aria-"+t,n)}function D(e,t){var n,r,o,i,a,s;"v"===e.settings.orientation?(i="top",o="height",r="h"):(i="left",o="width",r="w"),s=e.getEl("handle"),n=(e.layoutRect()[r]||100)-yn.getSize(s)[o],a=n*((t-e._minValue)/(e._maxValue-e._minValue))+"px",s.style[i]=a,s.style.height=e.layoutRect().h+"px",I(s,"valuenow",t),I(s,"valuetext",""+e.settings.previewFilter(t)),I(s,"valuemin",e._minValue),I(s,"valuemax",e._maxValue)}function M(){}var L=tinymce.util.Tools.resolve("tinymce.ThemeManager"),B=tinymce.util.Tools.resolve("tinymce.EditorManager"),F=tinymce.util.Tools.resolve("tinymce.util.Tools"),j=function(e){return e.getParam("branding",!0,"boolean")},V=function(e){return!1!==H(e)},H=function(e){return e.getParam("menubar")},U=function(e){return e.getParam("statusbar",!0,"boolean")},z=function(e){return e.getParam("toolbar_items_size")},q=function(e){return e.getParam("readonly",!1,"boolean")},W=function(e){return e.getParam("fixed_toolbar_container")},G=function(e){return e.getParam("inline_toolbar_position_handler")},K=function(e){return e.getParam("menu")},$=function(e){return e.getParam("removed_menuitems","")},Y=function(e){return e.getParam("min_width",100,"number")},X=function(e){return e.getParam("min_height",100,"number")},Z=function(e){return e.getParam("max_width",65535,"number")},J=function(e){return e.getParam("max_height",65535,"number")},Q=function(e){return!1===e.settings.skin},ee=function(e){return e.getParam("inline",!1,"boolean")},te=function(e){var t=e.getParam("resize","vertical");return!1===t?"none":"both"===t?"both":"vertical"},ne=function(e){var t=e.settings,n=t.skin,r=t.skin_url;if(!1!==n){var o=n||"lightgray";r=r?e.documentBaseURI.toAbsolute(r):B.baseURL+"/skins/"+o}return r},re=function(e,t){for(var n=[],r=1;r<10;r++){var o=e["toolbar"+r];if(!o)break;n.push(o)}var i=e.toolbar?[e.toolbar]:[t];return n.length>0?n:i},oe=function(e){var t=e.getParam("toolbar");return!1===t?[]:F.isArray(t)?F.grep(t,function(e){return e.length>0}):re(e.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image")},ie=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ae=tinymce.util.Tools.resolve("tinymce.ui.Factory"),se=tinymce.util.Tools.resolve("tinymce.util.I18n"),ue=function(e){return e.fire("SkinLoaded")},ce=function(e){return e.fire("ResizeEditor")},le=function(e){return e.fire("BeforeRenderUI")},fe={fireSkinLoaded:ue,fireResizeEditor:ce,fireBeforeRenderUI:le},de=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}},pe=function(e,t){e.shortcuts.add("Alt+F9","",de(t,"menubar")),e.shortcuts.add("Alt+F10,F10","",de(t,"toolbar")),e.shortcuts.add("Alt+F11","",de(t,"elementpath")),t.on("cancel",function(){e.focus()})},he={addKeys:pe},me=tinymce.util.Tools.resolve("tinymce.geom.Rect"),ge=tinymce.util.Tools.resolve("tinymce.util.Delay"),ve=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},ye=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e()}},be=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,arguments))}},we=function(e){return function(){return e}},Ce=function(e){return e},_e=function(e,t){return e===t},xe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=new Array(arguments.length-1),o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var o=new Array(arguments.length),i=0;i<o.length;i++)o[i]=arguments[i];var a=r.concat(o);return e.apply(null,a)}},Ee=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,arguments)}},Se=function(e){return function(){throw new Error(e)}},Oe=function(e){return e()},Te=function(e){e()},ke=we(!1),Re=we(!0),Pe={noop:ve,noarg:ye,compose:be,constant:we,identity:Ce,tripleEquals:_e,curry:xe,not:Ee,die:Se,apply:Oe,call:Te,never:ke,always:Re},Ne=Pe.never,Ae=Pe.always,Ie=function(){return De},De=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o={fold:function(e,t){return e()},is:Ne,isSome:Ne,isNone:Ae,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:Ie,ap:Ie,each:r,bind:Ie,flatten:Ie,exists:Ne,forall:Ae,filter:Ie,equals:e,equals_:e,toArray:function(){return[]},toString:Pe.constant("none()")};return Object.freeze&&Object.freeze(o),o}(),Me=function(e){var t=function(){return e},n=function(){return i},r=function(t){return Me(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:Ae,isNone:Ne,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(Ie,function(t){return Me(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:De},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(Ne,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},Le=function(e){return null===e||void 0===e?De:Me(e)},Be={some:Me,none:Ie,from:Le},Fe=function(e){var t=Ve(e);if(t&&"static"!==ie.DOM.getStyle(t,"position",!0)){var n=ie.DOM.getPos(t),r=t.scrollLeft-n.x,o=t.scrollTop-n.y;return Be.some({x:r,y:o})}return Be.none()},je=function(e,t){var n=ie.DOM.select(e.settings.ui_container)[0];t.getRoot().uiContainer=n},Ve=function(e){return e?e.getRoot().uiContainer:null},He=function(e,t){return t.uiContainer=Ve(e)},Ue={getUiContainerDelta:Fe,setUiContainer:je,getUiContainer:Ve,inheritUiContainer:He},ze=function(e,t,n){var r,o=[];if(t)return F.each(t.split(/[ ,]/),function(t){var i,a=function(){var n=e.selection;t.settings.stateSelector&&n.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&n.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})};"|"===t?r=null:(r||(r={type:"buttongroup",items:[]},o.push(r)),e.buttons[t]&&(i=t,t=e.buttons[i],"function"==typeof t&&(t=t()),t.type=t.type||"button",t.size=n,t=ae.create(t),r.items.push(t),e.initialized?a():e.on("init",a)))}),{type:"toolbar",layout:"flow",items:o}},qe=function(e,t){var n=[],r=function(r){r&&n.push(ze(e,r,t))};if(F.each(oe(e),function(e){r(e)}),n.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:n}},We={createToolbar:ze,createToolbars:qe},Ge=ie.DOM,Ke=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},$e=function(e){F.each(e.contextToolbars,function(e){e.panel&&e.panel.hide()})},Ye=function(e,t){e.moveTo(t.left,t.top)},Xe=function(e,t,n){t=t?t.substr(0,2):"",F.each({t:"down",b:"up"},function(r,o){e.classes.toggle("arrow-"+r,n(o,t.substr(0,1)))}),F.each({l:"left",r:"right"},function(r,o){e.classes.toggle("arrow-"+r,n(o,t.substr(1,1)))})},Ze=function(e,t,n,r,o,i){return i=Ke({x:t,y:n,w:i.w,h:i.h}),e&&(i=e({elementRect:Ke(r),contentAreaRect:Ke(o),panelRect:i})),i},Je=function(e){var t,n=function(){return e.contextToolbars||[]},r=function(t){var n,r,o;return n=Ge.getPos(e.getContentAreaContainer()),r=e.dom.getRect(t),o=e.dom.getRoot(),"BODY"===o.nodeName&&(r.x-=o.ownerDocument.documentElement.scrollLeft||o.scrollLeft,r.y-=o.ownerDocument.documentElement.scrollTop||o.scrollTop),r.x+=n.x,r.y+=n.y,r},o=function(t,n){var o,i,a,s,u,c,l,f,d=G(e);if(!e.removed){if(!t||!t.toolbar.panel)return void $e(e);l=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],u=t.toolbar.panel,n&&u.show(),a=r(t.element),i=Ge.getRect(u.getEl()),s=Ge.getRect(e.getContentAreaContainer()||e.getBody());var p=Ue.getUiContainerDelta(u).getOr({x:0,y:0});if(a.x+=p.x,a.y+=p.y,i.x+=p.x,i.y+=p.y,s.x+=p.x,s.y+=p.y,f=25,"inline"!==Ge.getStyle(t.element,"display",!0)){var h=t.element.getBoundingClientRect();a.w=h.width,a.h=h.height}e.inline||(s.w=e.getDoc().documentElement.offsetWidth),e.selection.controlSelection.isResizable(t.element)&&a.w<f&&(a=me.inflate(a,0,8)),o=me.findBestRelativePosition(i,a,s,l),a=me.clamp(a,s),o?(c=me.relativePosition(i,a,o),Ye(u,Ze(d,c.x,c.y,a,s,i))):(s.h+=i.h,a=me.intersect(s,a),a?(o=me.findBestRelativePosition(i,a,s,["bc-tc","bl-tl","br-tr"]),o?(c=me.relativePosition(i,a,o),Ye(u,Ze(d,c.x,c.y,a,s,i))):Ye(u,Ze(d,a.x,a.y,a,s,i))):u.hide()),Xe(u,o,function(e,t){return e===t})}},i=function(t){return function(){var n=function(){e.selection&&o(c(e.selection.getNode()),t)};ge.requestAnimationFrame(n)}},a=function(n){if(!t){var r=i(!0),o=Ue.getUiContainer(n);t=e.selection.getScrollContainer()||e.getWin(),Ge.bind(t,"scroll",r),Ge.bind(o,"scroll",r),e.on("remove",function(){Ge.unbind(t,"scroll",r),Ge.unbind(o,"scroll",r)})}},s=function(t){var n;if(t.toolbar.panel)return t.toolbar.panel.show(),void o(t);n=ae.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:We.createToolbar(e,t.toolbar.items),oncancel:function(){e.focus()}}),Ue.setUiContainer(e,n),a(n),t.toolbar.panel=n,n.renderTo().reflow(),o(t)},u=function(){F.each(n(),function(e){e.panel&&e.panel.hide()})},c=function(t){var r,o,i,a=n();for(i=e.$(t).parents().add(t),r=i.length-1;r>=0;r--)for(o=a.length-1;o>=0;o--)if(a[o].predicate(i[r]))return{toolbar:a[o],element:i[r]};return null};e.on("click keyup setContent ObjectResized",function(t){("setcontent"!==t.type||t.selection)&&ge.setEditorTimeout(e,function(){var t;t=c(e.selection.getNode()),t?(u(),s(t)):u()})}),e.on("blur hide contextmenu",u),e.on("ObjectResizeStart",function(){var t=c(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.hide()}),e.on("ResizeEditor ResizeWindow",i(!0)),e.on("nodeChange",i(!1)),e.on("remove",function(){F.each(n(),function(e){e.panel&&e.panel.remove()}),e.contextToolbars={}}),e.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var t=c(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.items()[0].focus()})},Qe={addContextualToolbars:Je},et=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},tt=function(e){return function(t){return et(t)===e}},nt={isString:tt("string"),isObject:tt("object"),isArray:tt("array"),isNull:tt("null"),isBoolean:tt("boolean"),isUndefined:tt("undefined"),isFunction:tt("function"),isNumber:tt("number")},rt=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return bt(e,t)};return void 0===e?n:t}(),ot=function(e,t){var n=rt(e,t);return-1===n?Be.none():Be.some(n)},it=function(e,t){return rt(e,t)>-1},at=function(e,t){return yt(e,t).isSome()},st=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},ut=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},ct=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},lt=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},ft=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},dt=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},pt=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},ht=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var s=e[i],u=t(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r},mt=function(e,t,n){return ft(e,function(e){n=t(n,e)}),n},gt=function(e,t,n){return lt(e,function(e){n=t(n,e)}),n},vt=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return Be.some(o)}return Be.none()},yt=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n,e))return Be.some(n)}return Be.none()},bt=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},wt=Array.prototype.push,Ct=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);wt.apply(t,e[n])}return t},_t=function(e,t){var n=ct(e,t);return Ct(n)},xt=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},Et=function(e,t){return e.length===t.length&&xt(e,function(e,n){return e===t[n]})},St=Array.prototype.slice,Ot=function(e){var t=St.call(e,0);return t.reverse(),t},Tt=function(e,t){return pt(e,function(e){return!it(t,e)})},kt=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},Rt=function(e){return[e]},Pt=function(e,t){var n=St.call(e,0);return n.sort(t),n},Nt=function(e){return 0===e.length?Be.none():Be.some(e[0])},At=function(e){return 0===e.length?Be.none():Be.some(e[e.length-1])},It=nt.isFunction(Array.from)?Array.from:function(e){return St.call(e)},Dt={map:ct,each:lt,eachr:ft,partition:dt,filter:pt,groupBy:ht,indexOf:ot,foldr:mt,foldl:gt,find:vt,findIndex:yt,flatten:Ct,bind:_t,forall:xt,exists:at,contains:it,equal:Et,reverse:Ot,chunk:ut,difference:Tt,mapToObject:kt,pure:Rt,sort:Pt,range:st,head:Nt,last:At,from:It},Mt={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code"},table:{title:"Table"},help:{title:"Help"}},Lt=function(){return{name:"|",item:{text:"|"}}},Bt=function(e,t){var n=t?{name:e,item:t}:null;return"|"===e?Lt():n},Ft=function(e,t){return Dt.findIndex(e,function(e){return e.name===t}).isSome()},jt=function(e){return e&&"|"===e.item.text},Vt=function(e,t){var n=Dt.filter(e,function(e){return!1===t.hasOwnProperty(e.name)}),r=Dt.filter(n,function(e,t,n){return!jt(e)||!jt(n[t-1])});return Dt.filter(r,function(e,t,n){return!jt(e)||t>0&&t<n.length-1})},Ht=function(e,t,n,r){var o,i,a,s;return t?(i=t[r],s=!0):i=Mt[r],i&&(o={text:i.title},a=[],F.each((i.items||"").split(/[ ,]/),function(t){var n=Bt(t,e[t]);n&&a.push(n)}),s||F.each(e,function(e,t){e.context!==r||Ft(a,t)||("before"===e.separator&&a.push(Lt()),e.prependToContext?a.unshift(Bt(t,e)):a.push(Bt(t,e)),"after"===e.separator&&a.push(Lt()))}),o.menu=Dt.map(Vt(a,n),function(e){return e.item}),!o.menu.length)?null:o},Ut=function(e){var t,n=[],r=K(e);if(r)for(t in r)n.push(t);else for(t in Mt)n.push(t);return n},zt=function(e){for(var t=[],n=Ut(e),r=F.makeMap($(e).split(/[ ,]/)),o=H(e),i="string"==typeof o?o.split(/[ ,]/):n,a=0;a<i.length;a++){var s=i[a],u=Ht(e.menuItems,K(e),r,s);u&&t.push(u)}return t},qt={createMenuButtons:zt},Wt=ie.DOM,Gt=function(e){return{width:e.clientWidth,height:e.clientHeight}},Kt=function(e,t,n){var r,o,i,a;r=e.getContainer(),o=e.getContentAreaContainer().firstChild,i=Gt(r),a=Gt(o),null!==t&&(t=Math.max(Y(e),t),t=Math.min(Z(e),t),Wt.setStyle(r,"width",t+(i.width-a.width)),Wt.setStyle(o,"width",t)),n=Math.max(X(e),n),n=Math.min(J(e),n),Wt.setStyle(o,"height",n),fe.fireResizeEditor(e)},$t=function(e,t,n){var r=e.getContentAreaContainer();Kt(e,r.clientWidth+t,r.clientHeight+n)},Yt={resizeTo:Kt,resizeBy:$t},Xt=tinymce.util.Tools.resolve("tinymce.Env"),Zt=function(e){return{element:function(){return e}}},Jt=function(e,t,n){var r=e.settings[n];r&&r(Zt(t.getEl("body")))},Qt=function(e,t,n){F.each(n,function(n){var r=t.items().filter("#"+n.name)[0];r&&r.visible()&&n.name!==e&&(Jt(n,r,"onhide"),r.visible(!1))})},en=function(e){e.items().each(function(e){e.active(!1)})},tn=function(e,t){return F.grep(e,function(e){return e.name===t})[0]},nn=function(e,t,n){return function(r){var o=r.control,i=o.parents().filter("panel")[0],a=i.find("#"+t)[0],s=tn(n,t);Qt(t,i,n),en(o.parent()),a&&a.visible()?(Jt(s,a,"onhide"),a.hide(),o.active(!1)):(a?(a.show(),Jt(s,a,"onshow")):(a=ae.create({type:"container",name:t,layout:"stack",classes:"sidebar-panel",html:""}),i.prepend(a),Jt(s,a,"onrender"),Jt(s,a,"onshow")),o.active(!0)),fe.fireResizeEditor(e)}},rn=function(){return!Xt.ie||Xt.ie>=11},on=function(e){return!(!rn()||!e.sidebars)&&e.sidebars.length>0},an=function(e){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:F.map(e.sidebars,function(t){var n=t.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:nn(e,t.name,e.sidebars)}})}]}},sn={hasSidebar:on,createSidebar:an},un=function(e){var t=function(){e._skinLoaded=!0,fe.fireSkinLoaded(e)};return function(){e.initialized?t():e.on("init",t)}},cn={fireSkinLoaded:un},ln=ie.DOM,fn=function(e){return function(t){e.find("*").disabled("readonly"===t.mode)}},dn=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},pn=function(e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[dn("0"),sn.createSidebar(e)]}},hn=function(e,t,n){var r,o,i;if(!1===Q(e)&&n.skinUiCss?ln.styleSheetLoader.load(n.skinUiCss,cn.fireSkinLoaded(e)):cn.fireSkinLoaded(e)(),r=t.panel=ae.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===V(e)?null:{type:"menubar",border:"0 0 1 0",items:qt.createMenuButtons(e)},We.createToolbars(e,z(e))]},sn.hasSidebar(e)?pn(e):dn("1 0 0 0")]}),Ue.setUiContainer(e,r),"none"!==te(e)&&(o={type:"resizehandle",direction:te(e),onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;i={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){"both"===te(e)?Yt.resizeTo(e,i.width+t.deltaX,i.height+t.deltaY):Yt.resizeTo(e,null,i.height+t.deltaY)}}),U(e)){var a=se.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>']),s=j(e)?{type:"label",classes:"branding",html:" "+a}:null;r.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},o,s]})}return fe.fireBeforeRenderUI(e),e.on("SwitchMode",fn(r)),r.renderBefore(n.targetNode).reflow(),q(e)&&e.setMode("readonly"),n.width&&ln.setStyle(r.getEl(),"width",n.width),e.on("remove",function(){r.remove(),r=null}),he.addKeys(e,r),Qe.addContextualToolbars(e),{iframeContainer:r.find("#iframe")[0].getEl(),editorContainer:r.getEl()}},mn={render:hn},gn=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),vn=0,yn={id:function(){return"mceu_"+vn++},create:function(e,t,n){var r=document.createElement(e);return ie.DOM.setAttribs(r,t),"string"==typeof n?r.innerHTML=n:F.each(n,function(e){e.nodeType&&r.appendChild(e)}),r},createFragment:function(e){return ie.DOM.createFragment(e)},getWindowSize:function(){return ie.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return ie.DOM.getPos(e,t||yn.getContainer())},getContainer:function(){return Xt.container?Xt.container:document.body},getViewPort:function(e){return ie.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return ie.DOM.addClass(e,t)},removeClass:function(e,t){return ie.DOM.removeClass(e,t)},hasClass:function(e,t){return ie.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return ie.DOM.toggleClass(e,t,n)},css:function(e,t,n){return ie.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return ie.DOM.getStyle(e,t,!0)},on:function(e,t,n,r){return ie.DOM.bind(e,t,n,r)},off:function(e,t,n){return ie.DOM.unbind(e,t,n)},fire:function(e,t,n){return ie.DOM.fire(e,t,n)},innerHtml:function(e,t){ie.DOM.setHTML(e,t)}},bn=function(e){return"static"===yn.getRuntimeStyle(e,"position")},wn=function(e){return e.state.get("fixed")},Cn=function(e){return{x:0,y:0,w:e.scrollWidth-1,h:e.scrollHeight-1}},_n=function(){var e=window,t=Math.max(e.pageXOffset,document.body.scrollLeft,document.documentElement.scrollLeft),n=Math.max(e.pageYOffset,document.body.scrollTop,document.documentElement.scrollTop);return{x:t,y:n,w:t+(e.innerWidth||document.documentElement.clientWidth),h:n+(e.innerHeight||document.documentElement.clientHeight)}},xn=function(e){var t=Ue.getUiContainer(e);return t&&!wn(e)?Cn(t):_n()},En={testMoveRel:function(t,n){for(var r=xn(this),o=0;o<n.length;o++){var i=e(this,t,n[o]);if(wn(this)){if(i.x>0&&i.x+i.w<r.w&&i.y>0&&i.y+i.h<r.h)return n[o]}else if(i.x>r.x&&i.x+i.w<r.w&&i.y>r.y&&i.y+i.h<r.h)return n[o]}return n[0]},moveRel:function(t,n){"string"!=typeof n&&(n=this.testMoveRel(t,n));var r=e(this,t,n);return this.moveTo(r.x,r.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();return n.moveTo(r.x+e,r.y+t),n},moveTo:function(e,t){function n(e,t,n){return e<0?0:e+n>t?(e=t-n,e<0?0:e):e}var r=this;if(r.settings.constrainToViewport){var o=xn(this),i=r.layoutRect();e=n(e,o.w,i.w),t=n(t,o.h,i.h)}var a=Ue.getUiContainer(r);return a&&bn(a)&&!wn(r)&&(e-=a.scrollLeft,t-=a.scrollTop),a&&(e+=1,t+=1),r.state.get("rendered")?r.layoutRect({x:e,y:t}).repaint():(r.settings.x=e,r.settings.y=t),r.fire("move",{x:e,y:t}),r}},Sn=tinymce.util.Tools.resolve("tinymce.util.Class"),On=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),Tn={parseBox:function(e){var t;if(e)return"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(e,t){function n(t){var n=e.ownerDocument.defaultView;if(n){var r=n.getComputedStyle(e,null);return r?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),r.getPropertyValue(t)):null}return e.currentStyle[t]}function r(e){var t=parseFloat(n(e));return isNaN(t)?0:t}return{top:r(t+"TopWidth"),right:r(t+"RightWidth"),bottom:r(t+"BottomWidth"),left:r(t+"LeftWidth")}}};F.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){var t=void 0;for(t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e};var kn,Rn,Pn,Nn=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,An=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,In=/^\s*|\s*$/g,Dn=Sn.extend({init:function(e){function t(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}function n(e){if(e)return function(t){return t._name===e}}function r(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}function o(e,t,n){if(e)return function(r){var o=r[e]?r[e]():"";return t?"="===t?o===n:"*="===t?o.indexOf(n)>=0:"~="===t?(" "+o+" ").indexOf(" "+n+" ")>=0:"!="===t?o!==n:"^="===t?0===o.indexOf(n):"$="===t&&o.substr(o.length-n.length)===n:!!n}}function i(e){var t;if(e)return e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=s(e[1],[]),function(e){return!u(e,t)}):(e=e[2],function(t,n,r){return"first"===e?0===n:"last"===e?n===r-1:"even"===e?n%2==0:"odd"===e?n%2==1:!!t[e]&&t[e]()})}function a(e,a,s){function u(e){e&&a.push(e)}var c;return c=Nn.exec(e.replace(In,"")),u(t(c[1])),u(n(c[2])),u(r(c[3])),u(o(c[4],c[5],c[6])),u(i(c[7])),a.pseudo=!!c[7],a.direct=s,a}function s(e,t){var n,r,o,i=[];do{if(An.exec(""),(r=An.exec(e))&&(e=r[3],i.push(r[1]),r[2])){n=r[3];break}}while(r);for(n&&s(n,t),e=[],o=0;o<i.length;o++)">"!==i[o]&&e.push(a(i[o],[],">"===i[o-1]));return t.push(e),t}var u=this.match;this._selectors=s(e,[])},match:function(e,t){var n,r,o,i,a,s,u,c,l,f,d,p,h;for(t=t||this._selectors,n=0,r=t.length;n<r;n++){for(a=t[n],i=a.length,h=e,p=0,o=i-1;o>=0;o--)for(c=a[o];h;){if(c.pseudo)for(d=h.parent().items(),l=f=d.length;l--&&d[l]!==h;);for(s=0,u=c.length;s<u;s++)if(!c[s](h,l,f)){s=u+1;break}if(s===u){p++;break}if(o===i-1)break;h=h.parent()}if(p===i)return!0}return!1},find:function(e){function t(e,n,r){var o,a,s,u,c,l=n[r];for(o=0,a=e.length;o<a;o++){for(c=e[o],s=0,u=l.length;s<u;s++)if(!l[s](c,o,a)){s=u+1;break}if(s===u)r===n.length-1?i.push(c):c.items&&t(c.items(),n,r+1);else if(l.direct)return;c.items&&t(c.items(),n,r)}}var n,o,i=[],a=this._selectors;if(e.items){for(n=0,o=a.length;n<o;n++)t(e.items(),a[n],0);o>1&&(i=r(i))}return kn||(kn=Dn.Collection),new kn(i)}}),Mn=Array.prototype.push,Ln=Array.prototype.slice;Pn={length:0,init:function(e){e&&this.add(e)},add:function(e){var t=this;return F.isArray(e)?Mn.apply(t,e):e instanceof Rn?t.add(e.toArray()):Mn.call(t,e),t},set:function(e){var t,n=this,r=n.length;for(n.length=0,n.add(e),t=n.length;t<r;t++)delete n[t];return n},filter:function(e){var t,n,r,o,i=this,a=[];for("string"==typeof e?(e=new Dn(e),o=function(t){return e.match(t)}):o=e,t=0,n=i.length;t<n;t++)r=i[t],o(r)&&a.push(r);return new Rn(a)},slice:function(){return new Rn(Ln.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return F.each(this,e),this},toArray:function(){return F.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new Rn(F.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n,r=this;return void 0!==t?(r.each(function(n){n[e]&&n[e](t)}),r):(n=r[0],n&&n[e]?n[e]():void 0)},exec:function(e){var t=this,n=F.toArray(arguments).slice(1);return t.each(function(t){t[e]&&t[e].apply(t,n)}),t},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},F.each("fire on off show hide append prepend before after reflow".split(" "),function(e){Pn[e]=function(){var t=F.toArray(arguments);return this.each(function(n){e in n&&n[e].apply(n,t)}),this}}),F.each("text name disabled active selected checked visible parent value data".split(" "),function(e){Pn[e]=function(t){return this.prop(e,t)}}),Rn=Sn.extend(Pn),Dn.Collection=Rn;var Bn=Rn,Fn=function(e){this.create=e.create};Fn.create=function(e,t){return new Fn({create:function(n,r){var o,i=function(e){n.set(r,e.value)},a=function(n){e.set(t,n.value)};return n.on("change:"+r,a),e.on("change:"+t,i),o=n._bindings,o||(o=n._bindings=[],n.on("destroy",function(){for(var e=o.length;e--;)o[e]()})),o.push(function(){e.off("change:"+t,i)}),e.get(t)}})};var jn,Vn,Hn=tinymce.util.Tools.resolve("tinymce.util.Observable"),Un=Sn.extend({Mixins:[Hn],init:function(e){var t,n;e=e||{};for(t in e)(n=e[t])instanceof Fn&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,r,o=this.data[e];if(t instanceof Fn&&(t=t.create(this,e)),"object"==typeof e){for(n in e)this.set(n,e[n]);return this}return i(o,t)||(this.data[e]=t,r={target:this,name:e,value:t,oldValue:o},this.fire("change:"+e,r),this.fire("change",r)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return Fn.create(this,e)},destroy:function(){this.fire("destroy")}}),zn={},qn={add:function(e){var t=e.parent();if(t){if(!t._layout||t._layout.isNative())return;zn[t._id]||(zn[t._id]=t),jn||(jn=!0,ge.requestAnimationFrame(function(){var e,t;jn=!1;for(e in zn)t=zn[e],t.state.get("rendered")&&t.reflow();zn={}},document.body))}},remove:function(e){zn[e._id]&&delete zn[e._id]}},Wn="onmousewheel"in document,Gn=!1,Kn=0,$n={Statics:{classPrefix:"mce-"},isRtl:function(){return Vn.rtl},classPrefix:"mce-",init:function(e){function t(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)i.classes.add(e[t])}var r,o,i=this;i.settings=e=F.extend({},i.Defaults,e),i._id=e.id||"mceu_"+Kn++,i._aria={role:e.role},i._elmCache={},i.$=gn,i.state=new Un({visible:!0,active:!1,disabled:!1,value:""}),i.data=new Un(e.data),i.classes=new n(function(){i.state.get("rendered")&&(i.getEl().className=this.toString())}),i.classes.prefix=i.classPrefix,r=e.classes,r&&(i.Defaults&&(o=i.Defaults.classes)&&r!==o&&t(o),t(r)),F.each("title text name visible disabled active value".split(" "),function(t){t in e&&i[t](e[t])}),i.on("click",function(){if(i.disabled())return!1}),i.settings=e,i.borderBox=Tn.parseBox(e.border),i.paddingBox=Tn.parseBox(e.padding),i.marginBox=Tn.parseBox(e.margin),e.hidden&&i.hide()},Properties:"parent,name",getContainerElm:function(){var e=Ue.getUiContainer(this);return e||yn.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,r,o,i,a,s,u,c,l=this,f=l.settings,d=l.getEl();e=l.borderBox=l.borderBox||Tn.measureBox(d,"border"),l.paddingBox=l.paddingBox||Tn.measureBox(d,"padding"),l.marginBox=l.marginBox||Tn.measureBox(d,"margin"),c=yn.getSize(d),s=f.minWidth,u=f.minHeight,o=s||c.width,i=u||c.height,n=f.width,r=f.height,a=f.autoResize,a=void 0!==a?a:!n&&!r,n=n||o,r=r||i;var p=e.left+e.right,h=e.top+e.bottom,m=f.maxWidth||65535,g=f.maxHeight||65535;return l._layoutRect=t={x:f.x||0,y:f.y||0,w:n,h:r,deltaW:p,deltaH:h,contentW:n-p,contentH:r-h,innerW:n-p,innerH:r-h,startMinWidth:s||0,startMinHeight:u||0,minW:Math.min(o,m),minH:Math.min(i,g),maxW:m,maxH:g,autoResize:a,scrollW:0},l._lastLayoutRect={},t},layoutRect:function(e){var t,n,r,o,i,a=this,s=a._layoutRect;return s||(s=a.initLayoutRect()),e?(r=s.deltaW,o=s.deltaH,void 0!==e.x&&(s.x=e.x),void 0!==e.y&&(s.y=e.y),void 0!==e.minW&&(s.minW=e.minW),void 0!==e.minH&&(s.minH=e.minH),n=e.w,void 0!==n&&(n=n<s.minW?s.minW:n,n=n>s.maxW?s.maxW:n,s.w=n,s.innerW=n-r),n=e.h,void 0!==n&&(n=n<s.minH?s.minH:n,n=n>s.maxH?s.maxH:n,s.h=n,s.innerH=n-o),n=e.innerW,void 0!==n&&(n=n<s.minW-r?s.minW-r:n,n=n>s.maxW-r?s.maxW-r:n,s.innerW=n,s.w=n+r),n=e.innerH,void 0!==n&&(n=n<s.minH-o?s.minH-o:n,n=n>s.maxH-o?s.maxH-o:n,s.innerH=n,s.h=n+o),void 0!==e.contentW&&(s.contentW=e.contentW),void 0!==e.contentH&&(s.contentH=e.contentH),t=a._lastLayoutRect,t.x===s.x&&t.y===s.y&&t.w===s.w&&t.h===s.h||(i=Vn.repaintControls,i&&i.map&&!i.map[a._id]&&(i.push(a),i.map[a._id]=!0),t.x=s.x,t.y=s.y,t.w=s.w,t.h=s.h),a):s},repaint:function(){var e,t,n,r,o,i,a,s,u,c,l=this;u=document.createRange?function(e){return e}:Math.round,e=l.getEl().style,r=l._layoutRect,s=l._lastRepaintRect||{},o=l.borderBox,i=o.left+o.right,a=o.top+o.bottom,r.x!==s.x&&(e.left=u(r.x)+"px",s.x=r.x),r.y!==s.y&&(e.top=u(r.y)+"px",s.y=r.y),r.w!==s.w&&(c=u(r.w-i),e.width=(c>=0?c:0)+"px",s.w=r.w),r.h!==s.h&&(c=u(r.h-a),e.height=(c>=0?c:0)+"px",s.h=r.h),l._hasBody&&r.innerW!==s.innerW&&(c=u(r.innerW),n=l.getEl("body"),n&&(t=n.style,t.width=(c>=0?c:0)+"px"),s.innerW=r.innerW),l._hasBody&&r.innerH!==s.innerH&&(c=u(r.innerH),n=n||l.getEl("body"),n&&(t=t||n.style,t.height=(c>=0?c:0)+"px"),s.innerH=r.innerH),l._lastRepaintRect=s,l.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,yn.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){var n=this;return a(n).on(e,function(e){var t,r;return"string"!=typeof e?e:function(o){return t||n.parentsAndSelf().each(function(n){var o=n.settings.callbacks;if(o&&(t=o[e]))return r=n,!1}),t?t.call(r,o):(o.action=e,void this.fire("execute",o))}}(t)),n},off:function(e,t){return a(this).off(e,t),this},fire:function(e,t,n){var r=this;if(t=t||{},t.control||(t.control=r),t=a(r).fire(e,t),!1!==n&&r.parent)for(var o=r.parent();o&&!t.isPropagationStopped();)o.fire(e,t,!1),o=o.parent();return t},hasEventListeners:function(e){return a(this).has(e)},parents:function(e){var t,n=this,r=new Bn;for(t=n.parent();t;t=t.parent())r.add(t);return e&&(r=r.filter(e)),r},parentsAndSelf:function(e){return new Bn(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=gn("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,r=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&r.setAttribute("role"===e?e:"aria-"+e,t),n)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return Vn.translate?Vn.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,r=n.getEl(),o=n.parent();if(n.items){var i=n.items().toArray();for(t=i.length;t--;)i[t].remove()}o&&o.items&&(e=[],o.items().each(function(t){t!==n&&e.push(t)}),o.items().set(e),o._lastRect=null),n._eventsRoot&&n._eventsRoot===n&&gn(r).off();var a=n.getRoot().controlIdLookup;return a&&delete a[n._id],r&&r.parentNode&&r.parentNode.removeChild(r),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return gn(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return gn(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,r,o,i=this,a=i.settings;i.$el=gn(i.getEl()),i.state.set("rendered",!0);for(r in a)0===r.indexOf("on")&&i.on(r.substr(2),a[r]);if(i._eventsRoot){for(n=i.parent();!o&&n;n=n.parent())o=n._eventsRoot;if(o)for(r in o._nativeEvents)i._nativeEvents[r]=!0}s(i),a.style&&(e=i.getEl())&&(e.setAttribute("style",a.style),e.style.cssText=a.style),i.settings.border&&(t=i.borderBox,i.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var u=i.getRoot();u.controlIdLookup||(u.controlIdLookup={}),u.controlIdLookup[i._id]=i;for(var c in i._aria)i.aria(c,i._aria[c]);!1===i.state.get("visible")&&(i.getEl().style.display="none"),i.bindStates(),i.state.on("change:visible",function(e){var t,n=e.value;i.state.get("rendered")&&(i.getEl().style.display=!1===n?"none":"",i.getEl().getBoundingClientRect()),t=i.parent(),t&&(t._lastRect=null),i.fire(n?"show":"hide"),qn.add(i)}),i.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,r,o,i,a,s=this.getEl(),u=s.parentNode,c=function(e,t){var n,r,o=e;for(n=r=0;o&&o!==t&&o.nodeType;)n+=o.offsetLeft||0,r+=o.offsetTop||0,o=o.offsetParent;return{x:n,y:r}}(s,u);return t=c.x,n=c.y,r=s.offsetWidth,o=s.offsetHeight,i=u.clientWidth,a=u.clientHeight,"end"===e?(t-=i-r,n-=a-o):"center"===e&&(t-=i/2-r/2,n-=a/2-o/2),u.scrollLeft=t,u.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var r=n.length;r--;)n[r].rootControl=e;return e},reflow:function(){qn.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};F.each("text title visible disabled active value".split(" "),function(e){$n[e]=function(t){return 0===arguments.length?this.state.get(e):(void 0!==t&&this.state.set(e,t),this)}}),Vn=Sn.extend($n);var Yn,Xn,Zn,Jn,Qn=Vn,er=function(e){return!!e.getAttribute("data-mce-tabstop")},tr={},nr=Qn.extend({init:function(e){var t=this;t._super(e),e=t.settings,e.fixed&&t.state.set("fixed",!0),t._items=new Bn,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new n(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=ae.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return e=tr[e]=tr[e]||new Dn(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,r,o=this;return e&&(n=o.keyboardNav||o.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(o):(r=o.find("*"),o.statusbar&&r.add(o.statusbar.items()),r.each(function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)}),t&&t.focus(),o)},replace:function(e,t){for(var n,r=this.items(),o=r.length;o--;)if(r[o]===e){r[o]=t;break}o>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,r=[];return F.isArray(e)||(e=[e]),F.each(e,function(e){e&&(e instanceof Qn||("string"==typeof e&&(e={type:e}),t=F.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=ae.create(t)),r.push(e))}),r},renderNew:function(){var e=this;return e.items().each(function(t,n){var r;t.parent(e),t.state.get("rendered")||(r=e.getEl("body"),r.hasChildNodes()&&n<=r.childNodes.length-1?gn(r.childNodes[n]).before(t.renderHtml()):gn(r).append(t.renderHtml()),t.postRender(),qn.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var r,o,i,a=this;return e=a.create(e),r=a.items(),!n&&t<r.length-1&&(t+=1),t>=0&&t<r.length&&(o=r.slice(0,t).toArray(),i=r.slice(t).toArray(),r.set(o.concat(e,i))),a.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),r=e.value();n&&void 0!==r&&(t[n]=r)}),t},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=u({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!==t.w||n.h!==t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var e;if(qn.remove(this),this.visible()){for(Qn.repaintControls=[],Qn.repaintControls.map={},this.recalc(),e=Qn.repaintControls.length;e--;)Qn.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),Qn.repaintControls=[]}return this}}),rr={init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function e(){function e(e,i,a,s,u,c){var l,f,d,p,h,m,g,v,y;if(f=t.getEl("scroll"+e)){if(v=i.toLowerCase(),y=a.toLowerCase(),gn(t.getEl("absend")).css(v,t.layoutRect()[s]-1),!u)return void gn(f).css("display","none");gn(f).css("display","block"),l=t.getEl("body"),d=t.getEl("scroll"+e+"t"),p=l["client"+a]-2*n,p-=r&&o?f["client"+c]:0,h=l["scroll"+a],m=p/h,g={},g[v]=l["offset"+i]+n,g[y]=p,gn(f).css(g),g={},g[v]=l["scroll"+i]*m,g[y]=p*m,gn(d).css(g)}}var r,o,i;i=t.getEl("body"),r=i.scrollWidth>i.clientWidth,o=i.scrollHeight>i.clientHeight,e("h","Left","Width","contentW",r,"Height"),e("v","Top","Height","contentH",o,"Width")}var t=this,n=2;t.settings.autoScroll&&(t._hasScroll||(t._hasScroll=!0,function(){function e(e,r,o,i,a){var s,u=t._id+"-scroll"+e,c=t.classPrefix;gn(t.getEl()).append('<div id="'+u+'" class="'+c+"scrollbar "+c+"scrollbar-"+e+'"><div id="'+u+'t" class="'+c+'scrollbar-thumb"></div></div>'),t.draghelper=new f(u+"t",{start:function(){s=t.getEl("body")["scroll"+r],gn("#"+u).addClass(c+"active")},drag:function(u){var c,l,f,d,p=t.layoutRect();l=p.contentW>p.innerW,f=p.contentH>p.innerH,d=t.getEl("body")["client"+o]-2*n,d-=l&&f?t.getEl("scroll"+e)["client"+a]:0,c=d/t.getEl("body")["scroll"+o],t.getEl("body")["scroll"+r]=s+u["delta"+i]/c},stop:function(){gn("#"+u).removeClass(c+"active")}})}t.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height")}(),t.on("wheel",function(n){var r=t.getEl("body");r.scrollLeft+=10*(n.deltaX||0),r.scrollTop+=10*n.deltaY,e()}),gn(t.getEl("body")).on("scroll",e)),e())}},or=nr.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[rr],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}}),ir={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){if(e<=1||t<=1){var n=yn.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this,r=n.layoutRect();return n.resizeTo(r.w+e,r.h+t)}},ar=[],sr=[],ur=or.extend({Mixins:[En,ir],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(h(),g(),ar.push(t)),e.autofix&&(m(),t.on("move",function(){v(this)})),t.on("postrender show",function(e){if(e.control===t){var n,r=t.classPrefix;t.modal&&!Jn&&(n=gn("#"+r+"modal-block",t.getContainerElm()),n[0]||(n=gn('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>').appendTo(t.getContainerElm())),ge.setTimeout(function(){n.addClass(r+"in"),gn(t.getEl()).addClass(r+"in")}),Jn=!0),y(!0,t)}}),t.on("show",function(){t.parents().each(function(e){if(e.state.get("fixed"))return t.fixed(!0),!1})}),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!==e){if(t.state.get("rendered")){var n=yn.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=ar.length;e--&&ar[e]!==t;);return-1===e&&ar.push(t),n},hide:function(){return b(this),y(!1,this),this._super()},hideAll:function(){ur.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),y(!1,e)),e},remove:function(){b(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});ur.hideAll=function(){for(var e=ar.length;e--;){var t=ar[e];t&&t.settings.autohide&&(t.hide(),ar.splice(e,1))}};var cr=function(e,t){return!(!e||t.settings.ui_container)},lr=function(e,t,n){var r,o,i=ie.DOM,a=W(e);a&&(o=i.select(a)[0]);var s=function(){if(r&&r.moveRel&&r.visible()&&!r._fixed){var t=e.selection.getScrollContainer(),n=e.getBody(),o=0,a=0;if(t){var s=i.getPos(n),u=i.getPos(t);o=Math.max(0,u.x-s.x),a=Math.max(0,u.y-s.y)}r.fixed(!1).moveRel(n,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(o,a)}},u=function(){r&&(r.show(),s(),i.addClass(e.getBody(),"mce-edit-focus"))},c=function(){r&&(r.hide(),ur.hideAll(),i.removeClass(e.getBody(),"mce-edit-focus"))},l=function(){if(r)return void(r.visible()||u());r=t.panel=ae.create({type:o?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:cr(o,e),fixed:cr(o,e),border:1,items:[!1===V(e)?null:{type:"menubar",border:"0 0 1 0",items:qt.createMenuButtons(e)},We.createToolbars(e,z(e))]}),Ue.setUiContainer(e,r),fe.fireBeforeRenderUI(e),o?r.renderTo(o).reflow():r.renderTo().reflow(),he.addKeys(e,r),u(),Qe.addContextualToolbars(e),e.on("nodeChange",s),e.on("ResizeWindow",s),e.on("activate",u),e.on("deactivate",c),e.nodeChanged()};return e.settings.content_editable=!0,e.on("focus",function(){!1===Q(e)&&n.skinUiCss?i.styleSheetLoader.load(n.skinUiCss,l,l):l()}),e.on("blur hide",c),e.on("remove",function(){r&&(r.remove(),r=null)}),!1===Q(e)&&n.skinUiCss?i.styleSheetLoader.load(n.skinUiCss,cn.fireSkinLoaded(e)):cn.fireSkinLoaded(e)(),{}},fr={render:lr},dr=function(e,t){var n;e.on("ProgressState",function(e){n=n||new w(t.panel.getEl("body")),e.state?n.show(e.time):n.hide()})},pr={setup:dr},hr=function(e,t,n){var r=ne(e);return r&&(n.skinUiCss=r+"/skin.min.css",e.contentCSS.push(r+"/content"+(e.inline?".inline":"")+".min.css")),pr.setup(e,t),ee(e)?fr.render(e,t,n):mn.render(e,t,n)},mr={renderUI:hr},gr=Qn.extend({Mixins:[En],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}}),vr=Qn.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&!1!==vr.tooltips&&(t.on("mouseenter",function(n){var r=t.tooltip().moveTo(-65535);if(n.control===t){var o=r.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n","bc-tc"===o),r.classes.toggle("tooltip-nw","bc-tl"===o),r.classes.toggle("tooltip-ne","bc-tr"===o),r.moveRel(t.getEl(),o)}else r.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().remove(),t._tooltip=null})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new gr({type:"tooltip"}),Ue.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),yr=vr.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this,t=e._id,n=this.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",function(t){e(t.value)}),e(t.state.get("value")),t._super()}}),br=function(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")},wr=Qn.extend({Mixins:[En],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new yr),t.on("click",function(e){-1!==e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",r="",o="",i="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),i=' style="max-width: '+e.maxWidth+"px;"+(e.color?"background-color: "+e.color+';"':'"'),e.closeButton&&(r='<button type="button" class="'+t+'close" aria-hidden="true">\xd7</button>'),e.progressBar&&(o=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+i+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+o+r+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return ge.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),br(e,e.state.get("text"))},100),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().firstChild.innerHTML=t.value,br(e,t.value)}),e.progressBar&&(e.progressBar.bindStates(),e.progressBar.state.on("change:value",function(t){br(e,e.state.get("text"))})),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}}),Cr=[],_r="",xr=ur.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var t=this;t._super(e),t.isRtl()&&t.classes.add("rtl"),t.classes.add("window"),t.bodyClasses.add("window-body"),t.state.set("fixed",!0),e.buttons&&(t.statusbar=new or({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:t.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),t.statusbar.classes.add("foot"),t.statusbar.parent(t)),t.on("click",function(e){var n=t.classPrefix+"close";(yn.hasClass(e.target,n)||yn.hasClass(e.target.parentNode,n))&&t.close()}),t.on("cancel",function(){t.close()}),t.on("move",function(e){e.control===t&&ur.hideAll()}),t.aria("describedby",t.describedBy||t._id+"-none"),t.aria("label",e.title),t._fullscreen=!1},recalc:function(){var e,t,n,r,o=this,i=o.statusbar;o._fullscreen&&(o.layoutRect(yn.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),o.settings.title&&!o._fullscreen&&(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:n}),r=!0),i&&(i.layoutRect({w:o.layoutRect().innerW}).recalc(),(t=i.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:n}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var e,t=this,n=t._super(),r=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var o=yn.getSize(e);n.headerW=o.width,n.headerH=o.height,r+=n.headerH}t.statusbar&&(r+=t.statusbar.layoutRect().h),n.deltaH+=r,n.minH+=r,n.h+=r;var i=yn.getWindowSize();return n.x=t.settings.x||Math.max(0,i.w/2-n.w/2),n.y=t.settings.y||Math.max(0,i.h/2-n.h/2),n},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,o=e.settings,i="",a="",s=o.html;return e.preRender(),t.preRender(e),o.title&&(i='<div id="'+n+'-head" class="'+r+'window-head"><div id="'+n+'-title" class="'+r+'title">'+e.encode(o.title)+'</div><div id="'+n+'-dragh" class="'+r+'dragh"></div><button type="button" class="'+r+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),o.url&&(s='<iframe src="'+o.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+i+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var t,n,r=this,o=document.documentElement,i=r.classPrefix;if(e!==r._fullscreen)if(gn(window).on("resize",function(){var e;if(r._fullscreen)if(t)r._timer||(r._timer=ge.setTimeout(function(){var e=yn.getWindowSize();r.moveTo(0,0).resizeTo(e.w,e.h),r._timer=0},50));else{e=(new Date).getTime();var n=yn.getWindowSize();r.moveTo(0,0).resizeTo(n.w,n.h),(new Date).getTime()-e>50&&(t=!0)}}),n=r.layoutRect(),r._fullscreen=e,e){r._initial={x:n.x,y:n.y,w:n.w,h:n.h},r.borderBox=Tn.parseBox("0"),r.getEl("head").style.display="none",n.deltaH-=n.headerH+2,gn([o,document.body]).addClass(i+"fullscreen"),r.classes.add("fullscreen");var a=yn.getWindowSize();r.moveTo(0,0).resizeTo(a.w,a.h)}else r.borderBox=Tn.parseBox(r.settings.border),r.getEl("head").style.display="",n.deltaH+=n.headerH,gn([o,document.body]).removeClass(i+"fullscreen"),r.classes.remove("fullscreen"),r.moveTo(r._initial.x,r._initial.y).resizeTo(r._initial.w,r._initial.h);return r.reflow()},postRender:function(){var e,t=this;setTimeout(function(){t.classes.add("in"),t.fire("open")},0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new f(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",function(e){e.isDefaultPrevented()||t.close()}),Cr.push(t),_(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),x(t.classPrefix,!1),e=Cr.length;e--;)Cr[e]===t&&Cr.splice(e,1);_(Cr.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});!function(){function e(){var e,t,n=yn.getWindowSize();for(e=0;e<Cr.length;e++)t=Cr[e].layoutRect(),Cr[e].moveTo(Cr[e].settings.x||Math.max(0,n.w/2-t.w/2),Cr[e].settings.y||Math.max(0,n.h/2-t.h/2))}if(!Xt.desktop){var t={w:window.innerWidth,h:window.innerHeight};ge.setInterval(function(){var e=window.innerWidth,n=window.innerHeight;t.w===e&&t.h===n||(t={w:e,h:n},gn(window).trigger("resize"))},100)}gn(window).on("resize",e)}();var Er=xr.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){function t(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),r(t)}}}var n,r=e.callback||function(){};switch(e.buttons){case Er.OK_CANCEL:n=[t("Ok",!0,!0),t("Cancel",!1)];break;case Er.YES_NO:case Er.YES_NO_CANCEL:n=[t("Yes",1,!0),t("No",0)],e.buttons===Er.YES_NO_CANCEL&&n.push(t("Cancel",-1));break;default:n=[t("Ok",!0,!0)]}return new xr({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:n,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){r(!1)}}).renderTo(document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,Er.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=Er.OK_CANCEL,Er.msgBox(e)}}}),Sr=function(e){return{renderUI:function(t){return mr.renderUI(e,this,t)},resizeTo:function(t,n){return Yt.resizeTo(e,t,n)},resizeBy:function(t,n){return Yt.resizeBy(e,t,n)},getNotificationManagerImpl:function(){return C(e)},getWindowManagerImpl:function(){return S(e)}}},Or={get:Sr},Tr=Sn.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=F.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,r,o,i=this,a=i.settings;t=a.firstControlClass,n=a.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(a.controlClass),e.visible()&&(r||(r=e),o=e)}),r&&r.classes.add(t),o&&o.classes.add(n)},renderHtml:function(e){var t=this,n="";return t.applyClasses(e.items()),e.items().each(function(e){n+=e.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),kr=Tr.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}}),Rr=vr.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&(e=t.style,e.width=e.height="100%"),this._super()},renderHtml:function(){var e,t,n=this,r=n._id,o=n.classPrefix,i=n.state.get("icon"),a=n.state.get("text"),s="",u=n.settings;return e=u.image,e?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",a&&(n.classes.add("btn-has-text"),s='<span class="'+o+'txt">'+n.encode(a)+"</span>"),i=i?o+"ico "+o+"i-"+i:"",t="boolean"==typeof u.active?' aria-pressed="'+u.active+'"':"",'<div id="'+r+'" class="'+n.classes+'" tabindex="-1"'+t+'><button id="'+r+'-button" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+s+"</button></div>"},bindStates:function(){function e(e){var o=n("span."+r,t.getEl());e?(o[0]||(n("button:first",t.getEl()).append('<span class="'+r+'"></span>'),o=n("span."+r,t.getEl())),o.html(t.encode(e))):o.remove(),t.classes.toggle("btn-has-text",!!e)}var t=this,n=t.$,r=t.classPrefix+"txt";return t.state.on("change:text",function(t){e(t.value)}),t.state.on("change:icon",function(n){var r=n.value,o=t.classPrefix;t.settings.icon=r,r=r?o+"ico "+o+"i-"+t.settings.icon:"";var i=t.getEl().firstChild,a=i.getElementsByTagName("i")[0];r?(a&&a===i.firstChild||(a=document.createElement("i"),i.insertBefore(a,i.firstChild)),a.className=r):a&&i.removeChild(a),e(t.state.get("text"))}),t._super()}}),Pr=Rr.extend({init:function(e){var t=this;e=F.extend({text:"Browse...",multiple:!1,accept:null},e),t._super(e),t.classes.add("browsebutton"),e.multiple&&t.classes.add("multiple")},postRender:function(){var e=this,t=yn.create("input",{type:"file",id:e._id+"-browse",accept:e.settings.accept});e._super(),gn(t).on("change",function(t){var n=t.target.files;e.value=function(){return n.length?e.settings.multiple?n:n[0]:null},t.preventDefault(),n.length&&e.fire("change",t)}),gn(t).on("click",function(e){e.stopPropagation()}),gn(e.getEl("button")).on("click",function(e){e.stopPropagation(),t.click()}),e.getEl().appendChild(t)},remove:function(){gn(this.getEl("button")).off(),gn(this.getEl("input")).off(),this._super()}}),Nr=nr.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),Ar=vr.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function e(e){t.classes.toggle("checked",e),t.aria("checked",e)}var t=this;return t.state.on("change:text",function(e){t.getEl("al").firstChild.data=t.translate(e.value)}),t.state.on("change:checked change:value",function(n){t.fire("change"),e(n.value)}),t.state.on("change:icon",function(e){var n=e.value,r=t.classPrefix;if(void 0===n)return t.settings.icon;t.settings.icon=n,n=n?r+"ico "+r+"i-"+t.settings.icon:"";var o=t.getEl().firstChild,i=o.getElementsByTagName("i")[0];n?(i&&i===o.firstChild||(i=document.createElement("i"),o.insertBefore(i,o.firstChild)),i.className=n):i&&o.removeChild(i)}),t.state.get("checked")&&e(!0),t._super()}}),Ir=tinymce.util.Tools.resolve("tinymce.util.VK"),Dr=vr.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",function(n){var r=n.target,o=t.getEl();if(gn.contains(o,r)||r===o)for(;r&&r!==o;)r.id&&-1!==r.id.indexOf("-open")&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),r=r.parentNode}),t.on("keydown",function(e){var n;13===e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){if("INPUT"===e.target.nodeName){var n=t.state.get("value"),r=e.target.value;r!==n&&(t.state.set("value",r),t.fire("autocomplete",e))}}),t.on("mouseover",function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&-1!==e.target.className.indexOf(t.classPrefix+"status")){var r=t.statusMessage()||"Ok",o=n.text(r).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"===o),n.classes.toggle("tooltip-nw","bc-tl"===o),n.classes.toggle("tooltip-ne","bc-tr"===o),n.moveRel(e.target,o)}})},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,t=this,n=t.settings;t.menu||(e=n.menu||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=ae.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()===t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"===e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,n=this,r=n.getEl(),o=n.getEl("open"),i=n.layoutRect(),a=0,s=r.firstChild;n.statusLevel()&&"none"!==n.statusLevel()&&(a=parseInt(yn.getRuntimeStyle(s,"padding-right"),10)-parseInt(yn.getRuntimeStyle(s,"padding-left"),10)),e=o?i.w-yn.getSize(o).width-10:i.w-10;var u=document;return u.all&&(!u.documentMode||u.documentMode<=8)&&(t=n.layoutRect().h-2+"px"),gn(s).css({width:e-a,lineHeight:t}),n._super(),n},postRender:function(){var e=this;return gn(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e,t,n=this,r=n._id,o=n.settings,i=n.classPrefix,a=n.state.get("value")||"",s="",u="",c="";return"spellcheck"in o&&(u+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(u+=' maxlength="'+o.maxLength+'"'),o.size&&(u+=' size="'+o.size+'"'),o.subtype&&(u+=' type="'+o.subtype+'"'),c='<i id="'+r+'-status" class="mce-status mce-ico" style="display: none"></i>',n.disabled()&&(u+=' disabled="disabled"'),e=o.icon,e&&"caret"!==e&&(e=i+"ico "+i+"i-"+o.icon),t=n.state.get("text"),(e||t)&&(s='<div id="'+r+'-open" class="'+i+"btn "+i+'open" tabIndex="-1" role="button"><button id="'+r+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==e?'<i class="'+e+'"></i>':'<i class="'+i+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+r+'" class="'+n.classes+'"><input id="'+r+'-inp" class="'+i+'textbox" value="'+n.encode(a,!1)+'" hidefocus="1"'+u+' placeholder="'+n.encode(o.placeholder)+'" />'+c+s+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,t){var n=this;if(0===e.length)return void n.hideMenu();var r=function(e,t){return function(){n.fire("selectitem",{title:t,value:e})}};n.menu?n.menu.items().remove():n.menu=ae.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(n).renderTo(),F.each(e,function(e){n.menu.add({text:e.title,url:e.previewUrl,match:t,classes:"menu-item-ellipsis",onclick:r(e.value,e.title)})}),n.menu.renderNew(),n.hideMenu(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()});var o=n.layoutRect().w;n.menu.layoutRect({w:o,minW:0,maxW:o}),n.menu.repaint(),n.menu.reflow(),n.menu.show(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",function(t){e.getEl("inp").value!==t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e.state.on("change:statusLevel",function(t){var n=e.getEl("status"),r=e.classPrefix,o=t.value;yn.css(n,"display","none"===o?"none":""),yn.toggleClass(n,r+"i-checkmark","ok"===o),yn.toggleClass(n,r+"i-warning","warn"===o),yn.toggleClass(n,r+"i-error","error"===o),e.classes.toggle("has-status","none"!==o),e.repaint()}),yn.on(e.getEl("status"),"mouseleave",function(){e.tooltip().hide()}),e.on("cancel",function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())});var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",function(n){var r=n.keyCode;"INPUT"===n.target.nodeName&&(r===Ir.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):r===Ir.UP&&(n.preventDefault(),t(-1,e.menu)))}),e._super()},remove:function(){gn(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),Mr=Dr.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(e){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.state.get("rendered")&&e.repaintColor(t.value)}),e._super()}}),Lr=Rr.extend({showPanel:function(){var e=this,t=e.settings;if(e.classes.add("opened"),e.panel)e.panel.show();else{var n=t.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,e.panel=new ur(n).on("hide",function(){e.classes.remove("opened")}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}var r=["bc-tc","bc-tl","bc-tr"],o=["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"],i=e.panel.testMoveRel(e.getEl(),t.popoverAlign||(e.isRtl()?r:o));e.panel.classes.toggle("start","l"===i.substr(-1)),e.panel.classes.toggle("end","r"===i.substr(-1));var a="t"===i.substr(0,1);e.panel.classes.toggle("bottom",!a),e.panel.classes.toggle("top",a),e.panel.moveRel(e.getEl(),i)},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),Br=ie.DOM,Fr=Lr.extend({init:function(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),o=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",i=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return r&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+i+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(n){n.aria&&"down"===n.aria.key||n.control!==e||Br.getParent(n.target,"."+e.classPrefix+"open")||(n.stopImmediatePropagation(),t.call(e,n))}),delete e.settings.onclick,e._super()}}),jr=tinymce.util.Tools.resolve("tinymce.util.Color"),Vr=vr.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var n,r,o=yn.getPos(e);return n=t.pageX-o.x,r=t.pageY-o.y,n=Math.max(0,Math.min(n/e.clientWidth,1)),r=Math.max(0,Math.min(r/e.clientHeight,1)),{x:n,y:r}}function t(e,t){var n=(360-e.h)/360;yn.css(a,{top:100*n+"%"}),t||yn.css(u,{left:e.s+"%",top:100-e.v+"%"}),s.style.background=jr({s:100,v:100,h:e.h}).toHex(),c.color().parse({s:e.s,v:e.v,h:e.h})}function n(n){var r;r=e(s,n),o.s=100*r.x,o.v=100*(1-r.y),t(o),c.fire("change")}function r(n){var r;r=e(i,n),o=l.toHsv(),o.h=360*(1-r.y),t(o,!0),c.fire("change")}var o,i,a,s,u,c=this,l=c.color();i=c.getEl("h"),a=c.getEl("hp"),s=c.getEl("sv"),u=c.getEl("svp"),c._repaint=function(){o=l.toHsv(),t(o)},c._super(),c._svdraghelper=new f(c._id+"-sv",{start:n,drag:n}),c._hdraghelper=new f(c._id+"-h",{start:r,drag:r}),c._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;if(!arguments.length)return t.color().toHex();t.color().parse(e),t._rendered&&t._repaint()},color:function(){return this._color||(this._color=jr()),this._color},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,o="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+n+'-h" class="'+r+'colorpicker-h" style="background: -ms-linear-gradient(top,'+o+");background: linear-gradient(to bottom,"+o+');">'+function(){var e,t,n,i,a="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",i=o.split(","),e=0,t=i.length-1;e<t;e++)a+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+i[e]+",endColorstr="+i[e+1]+");-ms-"+n+i[e]+",endColorstr="+i[e+1]+')"></div>';return a}()+'<div id="'+n+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+n+'" class="'+t.classes+'"><div id="'+n+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+n+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}}),Hr=vr.extend({init:function(e){var t=this;e=F.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),t._super(e),t.classes.add("dropzone"),e.multiple&&t.classes.add("multiple")},renderHtml:function(){var e,t,n=this,r=n.settings;return e={id:n._id,hidefocus:"1"},t=yn.create("div",e,"<span>"+this.translate(r.text)+"</span>"),r.height&&yn.css(t,"height",r.height+"px"),r.width&&yn.css(t,"width",r.width+"px"),t.className=n.classes,t.outerHTML},postRender:function(){var e=this,t=function(t){t.preventDefault(),e.classes.toggle("dragenter"),e.getEl().className=e.classes},n=function(t){var n=e.settings.accept;if("string"!=typeof n)return t;var r=new RegExp("("+n.split(/\s*,\s*/).join("|")+")$","i");return F.grep(t,function(e){return r.test(e.name)})};e._super(),e.$el.on("dragover",function(e){e.preventDefault()}),e.$el.on("dragenter",t),e.$el.on("dragleave",t),e.$el.on("drop",function(t){if(t.preventDefault(),!e.state.get("disabled")){var r=n(t.dataTransfer.files);e.value=function(){return r.length?e.settings.multiple?r:r[0]:null},r.length&&e.fire("change",t)}})},remove:function(){this.$el.off(),this._super()}}),Ur=vr.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="\xbb"),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n;(n=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t,n,r=this,o=e||[],i="",a=r.classPrefix;for(t=0,n=o.length;t<n;t++)i+=(t>0?'<div class="'+a+'divider" aria-hidden="true"> '+r.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(t===n-1?" "+a+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+r._id+"-"+t+'" aria-level="'+(t+1)+'">'+o[t].name+"</div>";return i||(i='<div class="'+a+'path-item">\xa0</div>'),i}}),zr=Ur.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var t=this,n=t.settings.editor;return!1!==n.settings.elementpath&&(t.on("select",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on("nodeChange",function(r){for(var o=[],i=r.parents,a=i.length;a--;)if(1===i[a].nodeType&&!e(i[a])){var s=n.fire("ResolveName",{name:i[a].nodeName.toLowerCase(),target:i[a]});if(s.isDefaultPrevented()||o.push({name:s.name,element:i[a]}),s.isPropagationStopped())break}t.row(o)})),t._super()}}),qr=nr.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),Wr=nr.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,t=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),t.each(function(t){var n,r=t.settings.label;r&&(n=new qr(F.extend({items:{type:"label",id:t._id+"-l",text:r,flex:0,forId:t._id,disabled:t.disabled()}},e.settings.formItemDefaults)),n.type="formitem",t.aria("labelledby",t._id+"-l"),void 0===t.settings.flex&&(t.settings.flex=1),e.replace(t,n),n.add(t))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,n,r,o=0,i=[];if(!1!==t.settings.labelGapCalc)for(r="children"===t.settings.labelGapCalc?t.find("formitem"):t.items(),r.filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;o=n>o?n:o,i.push(t)}),n=t.settings.labelGap||0,e=i.length;e--;)i[e].settings.minWidth=o+n}var t=this;t._super(),t.on("show",e),e()}}),Gr=Wr.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}}),Kr=0,$r=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Kr++,e+"_"+r+Kr+String(n)},Yr={generate:$r},Xr=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return Qr(r.childNodes[0])},Zr=function(e,t){var n=t||document,r=n.createElement(e);return Qr(r)},Jr=function(e,t){var n=t||document,r=n.createTextNode(e);return Qr(r)},Qr=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:Pe.constant(e)}},eo=function(e,t,n){return Be.from(e.dom().elementFromPoint(t,n)).map(Qr)},to={fromHtml:Xr,fromTag:Zr,fromText:Jr,fromDom:Qr,fromPoint:eo},no=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},ro={cached:no},oo={ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12},io=function(e){return e.dom().nodeName.toLowerCase()},ao=function(e){return e.dom().nodeType},so=function(e){return e.dom().nodeValue},uo=function(e){return function(t){return ao(t)===e}},co=function(e){return ao(e)===oo.COMMENT||"#comment"===io(e)},lo=uo(oo.ELEMENT),fo=uo(oo.TEXT),po=uo(oo.DOCUMENT),ho={name:io,type:ao,value:so,isElement:lo,isText:fo,isDocument:po,isComment:co},mo=function(e){var t=ho.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},go=ro.cached(function(){return vo(to.fromDom(document))}),vo=function(e){var t=e.dom().body;if(null===t||void 0===t)throw"Body is not available yet";return to.fromDom(t)},yo={body:go,getBody:vo,inBody:mo},bo=function(){var e=Object.keys,t=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};return void 0===e?t:e}(),wo=function(e,t){for(var n=bo(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},Co=function(e,t){return _o(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},_o=function(e,t){var n={};return wo(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},xo=function(e,t){var n={},r={};return wo(e,function(e,o){(t(e,o)?n:r)[o]=e}),{t:n,f:r}},Eo=function(e,t){var n=[];return wo(e,function(e,r){n.push(t(e,r))}),n},So=function(e,t){for(var n=bo(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return Be.some(a)}return Be.none()},Oo=function(e){return Eo(e,function(e){return e})},To=function(e){return Oo(e).length},ko={bifilter:xo,each:wo,map:Co,mapToArray:Eo,tupleMap:_o,find:So,keys:bo,values:Oo,size:To},Ro=function(e){return e.slice(0).sort()},Po=function(e,t){throw new Error("All required keys ("+Ro(e).join(", ")+") were not specified. Specified keys were: "+Ro(t).join(", ")+".")},No=function(e){throw new Error("Unsupported keys for object: "+Ro(e).join(", "))},Ao=function(e,t){if(!nt.isArray(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");Dt.each(t,function(t){if(!nt.isString(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},Io=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+Ro(e).join(", ")+") were not.")},Do=function(e){var t=Ro(e);Dt.find(t,function(e,n){return n<t.length-1&&e===t[n+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},Mo={sort:Ro,reqMessage:Po,unsuppMessage:No,validateStrArr:Ao,invalidTypeMessage:Io,checkDupes:Do},Lo={immutable:O,immutableBag:T},Bo=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},Fo={toArray:Bo},jo="undefined"!=typeof window?window:Function("return this;")(),Vo=function(e,t){for(var n=void 0!==t&&null!==t?t:jo,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},Ho=function(e,t){var n=e.split(".");return Vo(n,t)},Uo=function(e,t){return void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]},zo=function(e,t){for(var n=void 0!==t?t:jo,r=0;r<e.length;++r)n=Uo(n,e[r]);return n},qo=function(e,t){var n=e.split(".");return zo(n,t)},Wo={path:Vo,resolve:Ho,forge:zo,namespace:qo},Go=function(e,t){return Wo.resolve(e,t)},Ko=function(e,t){var n=Go(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},$o={getOrDie:Ko},Yo=function(){return $o.getOrDie("Node")},Xo=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},Zo=function(e,t){return Xo(e,t,Yo().DOCUMENT_POSITION_PRECEDING)},Jo=function(e,t){return Xo(e,t,Yo().DOCUMENT_POSITION_CONTAINED_BY)},Qo={documentPositionPreceding:Zo,documentPositionContainedBy:Jo},ei=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},ti=function(e,t){var n=ei(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return oi(r(1),r(2))},ni=function(e,t){var n=String(t).toLowerCase();return 0===e.length?ri():ti(e,n)},ri=function(){return oi(0,0)},oi=function(e,t){return{major:e,minor:t}},ii={nu:oi,detect:ni,unknown:ri},ai=function(e,t){return function(){return t===e}},si=function(){return ui({current:void 0,version:ii.unknown()})},ui=function(e){var t=e.current;return{current:t,version:e.version,isEdge:ai("Edge",t),isChrome:ai("Chrome",t),isIE:ai("IE",t),isOpera:ai("Opera",t),isFirefox:ai("Firefox",t),isSafari:ai("Safari",t)}},ci={unknown:si,nu:ui,edge:Pe.constant("Edge"),chrome:Pe.constant("Chrome"),ie:Pe.constant("IE"),opera:Pe.constant("Opera"),firefox:Pe.constant("Firefox"),safari:Pe.constant("Safari")},li=function(e,t){return function(){return t===e}},fi=function(){return di({current:void 0,version:ii.unknown()})},di=function(e){var t=e.current;return{current:t,version:e.version,isWindows:li("Windows",t),isiOS:li("iOS",t),isAndroid:li("Android",t),isOSX:li("OSX",t),isLinux:li("Linux",t),isSolaris:li("Solaris",t),isFreeBSD:li("FreeBSD",t)}},pi={unknown:fi,nu:di,windows:Pe.constant("Windows"),ios:Pe.constant("iOS"),android:Pe.constant("Android"),linux:Pe.constant("Linux"),osx:Pe.constant("OSX"),solaris:Pe.constant("Solaris"),freebsd:Pe.constant("FreeBSD")},hi=function(e,t){var n=String(t).toLowerCase();return Dt.find(e,function(e){return e.search(n)})},mi=function(e,t){return hi(e,t).map(function(e){var n=ii.detect(e.versionRegexes,t);return{current:e.name,version:n}})},gi=function(e,t){return hi(e,t).map(function(e){var n=ii.detect(e.versionRegexes,t);return{current:e.name,version:n}})},vi={detectBrowser:mi,detectOs:gi},yi=function(e,t){return t+e},bi=function(e,t){return e+t},wi=function(e,t){return e.substring(t)},Ci=function(e,t){return e.substring(0,e.length-t)},_i={addToStart:yi,addToEnd:bi,removeFromStart:wi,removeFromEnd:Ci},xi=function(e,t){return e.substr(0,t)},Ei=function(e,t){return e.substr(e.length-t,e.length)},Si=function(e){return""===e?Be.none():Be.some(e.substr(0,1))},Oi=function(e){return""===e?Be.none():Be.some(e.substring(1))},Ti={first:xi,last:Ei,head:Si,tail:Oi},ki=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},Ri=function(e,t){var n=function(e){var t=typeof e;return"string"===t||"number"===t};return e.replace(/\${([^{}]*)}/g,function(e,r){var o=t[r];return n(o)?o:e})},Pi=function(e,t){return Li(e,t)?_i.removeFromStart(e,t.length):e},Ni=function(e,t){return Bi(e,t)?_i.removeFromEnd(e,t.length):e},Ai=function(e,t){return Li(e,t)?e:_i.addToStart(e,t)},Ii=function(e,t){return Bi(e,t)?e:_i.addToEnd(e,t)},Di=function(e,t){return-1!==e.indexOf(t)},Mi=function(e){return Ti.head(e).bind(function(t){return Ti.tail(e).map(function(e){return t.toUpperCase()+e})}).getOr(e)},Li=function(e,t){return ki(e,t,0)},Bi=function(e,t){return ki(e,t,e.length-t.length)},Fi=function(e){return e.replace(/^\s+|\s+$/g,"")},ji=function(e){return e.replace(/^\s+/g,"")},Vi=function(e){return e.replace(/\s+$/g,"")},Hi={supplant:Ri,startsWith:Li,removeLeading:Pi,removeTrailing:Ni,ensureLeading:Ai,ensureTrailing:Ii,endsWith:Bi,contains:Di,trim:Fi,lTrim:ji,rTrim:Vi,capitalize:Mi},Ui=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zi=function(e){return function(t){return Hi.contains(t,e)}},qi=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Hi.contains(e,"edge/")&&Hi.contains(e,"chrome")&&Hi.contains(e,"safari")&&Hi.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ui],search:function(e){return Hi.contains(e,"chrome")&&!Hi.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Hi.contains(e,"msie")||Hi.contains(e,"trident")}},{name:"Opera",versionRegexes:[Ui,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zi("firefox")},{name:"Safari",versionRegexes:[Ui,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Hi.contains(e,"safari")||Hi.contains(e,"mobile/"))&&Hi.contains(e,"applewebkit")}}],Wi=[{name:"Windows",search:zi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Hi.contains(e,"iphone")||Hi.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:zi("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zi("linux"),versionRegexes:[]},{name:"Solaris",search:zi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zi("freebsd"),versionRegexes:[]}],Gi={browsers:Pe.constant(qi),oses:Pe.constant(Wi)},Ki=function(e){var t=Gi.browsers(),n=Gi.oses(),r=vi.detectBrowser(t,e).fold(ci.unknown,ci.nu),o=vi.detectOs(n,e).fold(pi.unknown,pi.nu);return{browser:r,os:o,deviceType:k(o,r,e)}},$i={detect:Ki},Yi=ro.cached(function(){var e=navigator.userAgent;return $i.detect(e)}),Xi={detect:Yi},Zi=oo.ELEMENT,Ji=oo.DOCUMENT,Qi=function(e,t){var n=e.dom();if(n.nodeType!==Zi)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ea=function(e){return e.nodeType!==Zi&&e.nodeType!==Ji||0===e.childElementCount},ta=function(e,t){var n=void 0===t?document:t.dom();return ea(n)?[]:Dt.map(n.querySelectorAll(e),to.fromDom)},na=function(e,t){var n=void 0===t?document:t.dom();return ea(n)?Be.none():Be.from(n.querySelector(e)).map(to.fromDom)},ra={all:ta,is:Qi,one:na},oa=function(e,t){return e.dom()===t.dom()},ia=function(e,t){return e.dom().isEqualNode(t.dom())},aa=function(e,t){return Dt.exists(t,Pe.curry(oa,e))},sa=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},ua=function(e,t){return Qo.documentPositionContainedBy(e.dom(),t.dom())},ca=Xi.detect().browser,la=ca.isIE()?ua:sa,fa={eq:oa,isEqualNode:ia,member:aa,contains:la,is:ra.is},da=function(e){return to.fromDom(e.dom().ownerDocument)},pa=function(e){var t=da(e);return to.fromDom(t.dom().documentElement)},ha=function(e){var t=e.dom(),n=t.ownerDocument.defaultView;return to.fromDom(n)},ma=function(e){var t=e.dom();return Be.from(t.parentNode).map(to.fromDom)},ga=function(e){return ma(e).bind(function(t){var n=Ea(t);return Dt.findIndex(n,function(t){return fa.eq(e,t)})})},va=function(e,t){for(var n=nt.isFunction(t)?t:Pe.constant(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=to.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},ya=function(e){var t=function(t){return Dt.filter(t,function(t){return!fa.eq(e,t)})};return ma(e).map(Ea).map(t).getOr([])},ba=function(e){var t=e.dom();return Be.from(t.offsetParent).map(to.fromDom)},wa=function(e){var t=e.dom();return Be.from(t.previousSibling).map(to.fromDom)},Ca=function(e){var t=e.dom();return Be.from(t.nextSibling).map(to.fromDom)},_a=function(e){return Dt.reverse(Fo.toArray(e,wa))},xa=function(e){return Fo.toArray(e,Ca)},Ea=function(e){var t=e.dom();return Dt.map(t.childNodes,to.fromDom)},Sa=function(e,t){var n=e.dom().childNodes;return Be.from(n[t]).map(to.fromDom)},Oa=function(e){return Sa(e,0)},Ta=function(e){return Sa(e,e.dom().childNodes.length-1)},ka=function(e){return e.dom().childNodes.length},Ra=function(e){return e.dom().hasChildNodes()},Pa=Lo.immutable("element","offset"),Na=function(e,t){var n=Ea(e);return n.length>0&&t<n.length?Pa(n[t],0):Pa(e,t)},Aa={owner:da,defaultView:ha,documentElement:pa,parent:ma,findIndex:ga,parents:va,siblings:ya,prevSibling:wa,offsetParent:ba,prevSiblings:_a,nextSibling:Ca,nextSiblings:xa,children:Ea,child:Sa,firstChild:Oa,lastChild:Ta,childNodesCount:ka,hasChildNodes:Ra,leaf:Na},Ia=function(e){return Ba(yo.body(),e)},Da=function(e,t,n){return Dt.filter(Aa.parents(e,n),t)},Ma=function(e,t){return Dt.filter(Aa.siblings(e),t)},La=function(e,t){return Dt.filter(Aa.children(e),t)},Ba=function(e,t){var n=[];return Dt.each(Aa.children(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Ba(e,t))}),n},Fa={all:Ia,ancestors:Da,siblings:Ma,children:La,descendants:Ba},ja=function(e){return ra.all(e)},Va=function(e,t,n){return Fa.ancestors(e,function(e){return ra.is(e,t)},n)},Ha=function(e,t){return Fa.siblings(e,function(e){return ra.is(e,t)})},Ua=function(e,t){return Fa.children(e,function(e){return ra.is(e,t)})},za=function(e,t){return ra.all(t,e)},qa={all:ja,ancestors:Va,siblings:Ha,children:Ua,descendants:za},Wa=F.trim,Ga=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Ka=Ga("true"),$a=Ga("false"),Ya=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},Xa=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return Ka(e)}return!1},Za=function(e,t){return Dt.map(qa.descendants(to.fromDom(t),e),function(e){return e.dom()})},Ja=function(e){return e.innerText||e.textContent},Qa=function(e){return e.id?e.id:Yr.generate("h")},es=function(e){return e&&"A"===e.nodeName&&(e.id||e.name)},ts=function(e){return es(e)&&rs(e)},ns=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},rs=function(e){return Xa(e)&&!$a(e)},os=function(e){return ns(e)&&rs(e)},is=function(e){return ns(e)?parseInt(e.nodeName.substr(1),10):0},as=function(e){var t=Qa(e),n=function(){e.id=t};return Ya("header",Ja(e),"#"+t,is(e),n)},ss=function(e){var t=e.id||e.name,n=Ja(e);return Ya("anchor",n||"#"+t,"#"+t,0,Pe.noop)},us=function(e){return Dt.map(Dt.filter(e,os),as)},cs=function(e){return Dt.map(Dt.filter(e,ts),ss)},ls=function(e){return Za("h1,h2,h3,h4,h5,h6,a:not([href])",e)},fs=function(e){return Wa(e.title).length>0},ds=function(e){var t=ls(e);return Dt.filter(us(t).concat(cs(t)),fs)},ps={find:ds},hs=function(){return window.tinymce?window.tinymce.activeEditor:B.activeEditor},ms={},gs=function(){ms={}},vs=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},ys=function(e){return F.map(e,vs)},bs=function(e,t){return{title:e,value:{title:e,url:t,attach:Pe.noop}}},ws=function(e,t){return!Dt.exists(t,function(t){return t.url===e})},Cs=function(e,t,n){var r=t in e?e[t]:n;return!1===r?null:r},_s=function(e,t,n,r){var o={title:"-"},i=function(e){var r=e.hasOwnProperty(n)?e[n]:[],o=Dt.filter(r,function(e){return ws(e,t)});return F.map(o,function(e){return{title:e,value:{title:e,url:e,attach:Pe.noop}}})},a=function(e){var n=Dt.filter(t,function(t){return t.type===e});return ys(n)};return!1===r.typeahead_urls?[]:"file"===n?function(e){return Dt.foldl(e,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(o,t)},[])}([Es(e,i(ms)),Es(e,a("header")),Es(e,function(){var e=a("anchor"),t=Cs(r,"anchor_top","#top"),n=Cs(r,"anchor_bottom","#bottom");return null!==t&&e.unshift(bs("<top>",t)),null!==n&&e.push(bs("<bottom>",n)),e}())]):Es(e,i(ms))},xs=function(e,t){var n=ms[t];/^https?/.test(e)&&(n?Dt.indexOf(n,e).isNone()&&(ms[t]=n.slice(0,5).concat(e)):ms[t]=[e])},Es=function(e,t){var n=e.toLowerCase(),r=F.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n)});return 1===r.length&&r[0].title===e?[]:r},Ss=function(e){var t=e.title;return t.raw?t.raw:t},Os=function(e,t,n,r){var o=function(o){var i=ps.find(n),a=_s(o,i,r,t);e.showAutoComplete(a,o)};e.on("autocomplete",function(){o(e.value())}),e.on("selectitem",function(t){var n=t.value;e.value(n.url);var o=Ss(n);"image"===r?e.fire("change",{meta:{alt:o,attach:n.attach}}):e.fire("change",{meta:{text:o,attach:n.attach}}),e.focus()}),e.on("click",function(t){0===e.value().length&&"INPUT"===t.target.nodeName&&o("")}),e.on("PostRender",function(){e.getRoot().on("submit",function(t){t.isDefaultPrevented()||xs(e.value(),r)})})},Ts=function(e){var t=e.status,n=e.message;return"valid"===t?{status:"ok",message:n}:"unknown"===t?{status:"warn",message:n}:"invalid"===t?{status:"warn",message:n}:{status:"none",message:""}},ks=function(e,t,n){var r=t.filepicker_validator_handler;if(r){var o=function(t){if(0===t.length)return void e.statusLevel("none");r({url:t,type:n},function(t){var n=Ts(t);e.statusMessage(n.message),e.statusLevel(n.status)})};e.state.on("change:value",function(e){o(e.value)})}},Rs=Dr.extend({Statics:{clearHistory:gs},init:function(e){var t,n,r,o=this,i=hs(),a=i.settings,s=e.filetype;e.spellcheck=!1,r=a.file_picker_types||a.file_browser_callback_types,r&&(r=F.makeMap(r,/[, ]/)),r&&!r[s]||(n=a.file_picker_callback,!n||r&&!r[s]?!(n=a.file_browser_callback)||r&&!r[s]||(t=function(){n(o.getEl("inp").id,o.value(),s,window)}):t=function(){var e=o.fire("beforecall").meta;e=F.extend({filetype:s},e),n.call(i,function(e,t){o.value(e).fire("change",{meta:t})},o.value(),e)}),t&&(e.icon="browse",e.onaction=t),o._super(e),o.classes.add("filepicker"),Os(o,a,i.getBody(),s),ks(o,a,s)}}),Ps=kr.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}}),Ns=kr.extend({recalc:function(e){var t,n,r,o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b,w,C,_,x,E,S,O,T,k,R,P,N,A,I,D,M,L,B,F,j=[],V=Math.max,H=Math.min;for(r=e.items().filter(":visible"),o=e.layoutRect(),i=e.paddingBox,a=e.settings,d=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,u=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!==d&&"column-reverse"!==d||(r=r.set(r.toArray().reverse()),d=d.split("-")[0]),"column"===d?(S="y",x="h",E="minH",O="maxH",k="innerH",T="top",R="deltaH",P="contentH",M="left",I="w",N="x",A="innerW",D="minW",L="right",B="deltaW",F="contentW"):(S="x",x="w",E="minW",O="maxW",k="innerW",T="left",R="deltaW",P="contentW",M="top",I="h",N="y",A="innerH",D="minH",L="bottom",B="deltaH",F="contentH"),f=o[k]-i[T]-i[T],_=l=0,t=0,n=r.length;t<n;t++)p=r[t],h=p.layoutRect(),m=p.settings,g=m.flex,f-=t<n-1?c:0,g>0&&(l+=g,h[O]&&j.push(p),h.flex=g),f-=h[E],(v=i[M]+h[D]+i[L])>_&&(_=v);if(w={},w[E]=f<0?o[E]-f+o[R]:o[k]-f+o[R],w[D]=_+o[B],w[P]=o[k]-f,w[F]=_,w.minW=H(w.minW,o.maxW),w.minH=H(w.minH,o.maxH),w.minW=V(w.minW,o.startMinWidth),w.minH=V(w.minH,o.startMinHeight),!o.autoResize||w.minW===o.minW&&w.minH===o.minH){for(b=f/l,t=0,n=j.length;t<n;t++)p=j[t],h=p.layoutRect(),y=h[O],v=h[E]+h.flex*b,v>y?(f-=h[O]-h[E],l-=h.flex,h.flex=0,h.maxFlexSize=y):h.maxFlexSize=0;for(b=f/l,C=i[T],w={},0===l&&("end"===u?C=f+i[T]:"center"===u?(C=Math.round(o[k]/2-(o[k]-f)/2)+i[T])<0&&(C=i[T]):"justify"===u&&(C=i[T],c=Math.floor(f/(r.length-1)))),w[N]=i[M],t=0,n=r.length;t<n;t++)p=r[t],h=p.layoutRect(),v=h.maxFlexSize||h[E],"center"===s?w[N]=Math.round(o[A]/2-h[I]/2):"stretch"===s?(w[I]=V(h[D]||0,o[A]-i[M]-i[L]),w[N]=i[M]):"end"===s&&(w[N]=o[A]-h[I]-i.top),h.flex>0&&(v+=h.flex*b),w[x]=v,w[S]=C,p.layoutRect(w),p.recalc&&p.recalc(),C+=v+c}else if(w.w=w.minW,w.h=w.minH,e.layoutRect(w),this.recalc(e),null===e._lastRect){var U=e.parent();U&&(U._lastRect=null,U.recalc())}}}),As=Tr.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}}),Is=function(e){return Fs(yo.body(),e)},Ds=function(e,t,n){for(var r=e.dom(),o=nt.isFunction(n)?n:Pe.constant(!1);r.parentNode;){r=r.parentNode;var i=to.fromDom(r);if(t(i))return Be.some(i);if(o(i))break}return Be.none()},Ms=function(e,t,n){return R(function(e){return t(e)},Ds,e,t,n)},Ls=function(e,t){var n=e.dom();return n.parentNode?Bs(to.fromDom(n.parentNode),function(n){return!fa.eq(e,n)&&t(n)}):Be.none()},Bs=function(e,t){return Dt.find(e.dom().childNodes,Pe.compose(t,to.fromDom)).map(to.fromDom)},Fs=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){if(t(to.fromDom(e.childNodes[r])))return Be.some(to.fromDom(e.childNodes[r]));var o=n(e.childNodes[r]);if(o.isSome())return o}return Be.none()};return n(e.dom())},js={first:Is,ancestor:Ds,closest:Ms,sibling:Ls,child:Bs,descendant:Fs},Vs=function(e){return ra.one(e)},Hs=function(e,t,n){return js.ancestor(e,function(e){return ra.is(e,t)},n)},Us=function(e,t){return js.sibling(e,function(e){return ra.is(e,t)})},zs=function(e,t){return js.child(e,function(e){return ra.is(e,t)})},qs=function(e,t){return ra.one(t,e)},Ws=function(e,t,n){return R(ra.is,Hs,e,t,n)},Gs={first:Vs,ancestor:Hs,sibling:Us,child:zs,descendant:qs,closest:Ws},Ks=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},$s=function(e,t,n){var r=function(e){n(e,t)};e.formatter?e.formatter.formatChanged(t,r):e.on("init",function(){e.formatter.formatChanged(t,r)})},Ys=function(e,t){return function(n){$s(e,t,function(e){n.control.active(e)})}},Xs=function(e){var t=["alignleft","aligncenter","alignright","alignjustify"],n=[{text:"Left",icon:"alignleft",onclick:Ks(e,"alignleft")},{text:"Center",icon:"aligncenter",onclick:Ks(e,"aligncenter")},{text:"Right",icon:"alignright",onclick:Ks(e,"alignright")},{text:"Justify",icon:"alignjustify",onclick:Ks(e,"alignjustify")}];e.addMenuItem("align",{text:"Align",menu:n}),e.addButton("align",{type:"menubutton",icon:"alignleft",menu:n,onShowMenu:function(n){var r=n.control.menu;F.each(t,function(t,n){r.items().eq(n).each(function(n){return n.active(e.formatter.match(t))})})},onPostRender:function(n){var r=n.control;F.each(t,function(t,n){$s(e,t,function(e){r.icon("alignleft"),e&&r.icon(t)})})}}),F.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(t,n){e.addButton(n,{active:!1,tooltip:t[0],cmd:t[1],onPostRender:Ys(e,n)})})},Zs={register:Xs},Js=function(e){return e?e.split(",")[0]:""},Qs=function(e,t){var n,r=t?t.toLowerCase():"";return F.each(e,function(e){e.value.toLowerCase()===r&&(n=e.value)}),F.each(e,function(e){n||Js(e.value).toLowerCase()!==Js(r).toLowerCase()||(n=e.value)}),n},eu=function(e,t){return function(){var n=this;e.on("init nodeChange",function(r){var o=e.queryCommandValue("FontName"),i=Qs(t,o);n.value(i||null),!i&&o&&n.text(Js(o))})}},tu=function(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e},nu=function(e){var t=tu(e.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return F.map(t,function(e){return{text:{raw:e[0]},value:e[1],textStyle:-1===e[1].indexOf("dings")?"font-family:"+e[1]:""}})},ru=function(e){e.addButton("fontselect",function(){var t=nu(e);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:eu(e,t),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}})},ou=function(e){ru(e)},iu={register:ou},au=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},su=function(e,t){return/[0-9.]+px$/.test(e)?au(72*parseInt(e,10)/96,t||0)+"pt":e},uu=function(e,t,n){var r;return F.each(e,function(e){e.value===n?r=n:e.value===t&&(r=t)}),r},cu=function(e,t){return function(){var n=this;e.on("init nodeChange",function(r){var o,i,a,s;if(o=e.queryCommandValue("FontSize"))for(a=3;!s&&a>=0;a--)i=su(o,a),s=uu(t,i,o);n.value(s||null),s||n.text(i)})}},lu=function(e){var t=e.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return F.map(t.split(" "),function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{text:t,value:n}})},fu=function(e){e.addButton("fontsizeselect",function(){var t=lu(e);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:cu(e,t),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}})},du=function(e){fu(e)},pu={register:du},hu=function(e,t){var n=t.length;return F.each(t,function(t){t.menu&&(t.hidden=0===hu(e,t.menu));var r=t.format;r&&(t.hidden=!e.formatter.canApply(r)),t.hidden&&n--}),n},mu=function(e,t){var n=t.items().length;return t.items().each(function(t){t.menu&&t.visible(mu(e,t.menu)>0),!t.menu&&t.settings.menu&&t.visible(hu(e,t.settings.menu)>0);var r=t.settings.format;r&&t.visible(e.formatter.canApply(r)),t.visible()||n--}),n},gu=function(e){var t=0,n=[],r=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],o=function(e){var r=[];if(e)return F.each(e,function(e){var i={text:e.title,icon:e.icon};if(e.items)i.menu=o(e.items);else{var a=e.format||"custom"+t++;e.format||(e.name=a,n.push(e)),i.format=a,i.cmd=e.cmd}r.push(i)}),r};return e.on("init",function(){F.each(n,function(t){e.formatter.register(t.name,t)})}),{type:"menu",items:function(){return o(e.settings.style_formats_merge?e.settings.style_formats?r.concat(e.settings.style_formats):r:e.settings.style_formats||r)}(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",function(){var n,r;n=t.settings.format,n&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),(r=t.settings.cmd)&&t.active(e.queryCommandState(r))})},onclick:function(){this.settings.format&&Ks(e,this.settings.format)(),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}},vu=function(e,t){e.addMenuItem("formats",{text:"Formats",menu:t})},yu=function(e,t){e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:t,onShowMenu:function(){e.settings.style_formats_autohide&&mu(e,this.menu)}})},bu=function(e){var t=gu(e);vu(e,t),yu(e,t)},wu={register:bu},Cu=function(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e},_u=function(e,t,n){return function(){var r=this;e.on("nodeChange",function(o){var i=e.formatter,a=null;F.each(o.parents,function(e){if(F.each(t,function(t){if(n?i.matchNode(e,n,{value:t.value})&&(a=t.value):i.matchNode(e,t.value)&&(a=t.value),a)return!1}),a)return!1}),r.value(a)})}},xu=function(e,t){return function(){var n=[];return F.each(t,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:"listbox",text:t[0][0],values:n,fixedWidth:!0,onselect:function(t){if(t.control){var n=t.control.value();Ks(e,n)()}},onPostRender:_u(e,n)}}},Eu=function(e,t){return F.map(t,function(t){return{text:t[0],onclick:Ks(e,t[1]),textStyle:function(){return e.formatter.getCssText(t[1])}}})},Su=function(e){var t=Cu(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");e.addMenuItem("blockformats",{text:"Blocks",menu:Eu(e,t)}),e.addButton("formatselect",xu(e,t))},Ou={register:Su},Tu=function(e,t){var n,r;if("string"==typeof t)r=t.split(" ");else if(F.isArray(t))return Dt.flatten(F.map(t,function(t){return Tu(e,t)}));return n=F.grep(r,function(t){return"|"===t||t in e.menuItems}),F.map(n,function(t){return"|"===t?{text:"-"}:e.menuItems[t]})},ku=function(e){return e&&"-"===e.text},Ru=function(e){var t=Dt.filter(e,function(e,t,n){return!ku(e)||!ku(n[t-1])});return Dt.filter(t,function(e,t,n){return!ku(e)||t>0&&t<n.length-1})},Pu=function(e,t){var n=[{text:"-"}],r=F.grep(e.menuItems,function(e){return e.context===t});return F.each(r,function(e){"before"===e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"===e.separator&&n.push({text:"|"})}),n},Nu=function(e){var t=e.settings.insert_button_items;return Ru(t?Tu(e,t):Pu(e,"insert"))},Au=function(e){e.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(Nu(e)),this.menu.renderNew()}})},Iu=function(e){Au(e)},Du={register:Iu},Mu=function(e){F.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{active:!1,tooltip:t,onPostRender:Ys(e,n),onclick:Ks(e,n)})})},Lu=function(e){F.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})})},Bu=function(e){F.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(t,n){e.addButton(n,{active:!1,tooltip:t[0],cmd:t[1],onPostRender:Ys(e,n)})})},Fu=function(e){Mu(e),Lu(e),Bu(e)},ju=function(e){F.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:Ks(e,"code")})},Vu=function(e){Fu(e),ju(e)},Hu={register:Vu},Uu=function(e,t){return function(){var n=this,r=function(){var n="redo"===t?"hasRedo":"hasUndo";return!!e.undoManager&&e.undoManager[n]()};n.disabled(!r()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){n.disabled(e.readonly||!r())})}},zu=function(e){e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:Uu(e,"undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:Uu(e,"redo"),cmd:"redo"})},qu=function(e){e.addButton("undo",{tooltip:"Undo",onPostRender:Uu(e,"undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:Uu(e,"redo"),cmd:"redo"})},Wu=function(e){zu(e),qu(e)},Gu={register:Wu},Ku=function(e){return function(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}},$u=function(e){e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:Ku(e),cmd:"mceToggleVisualAid"})},Yu=function(e){$u(e)},Xu={register:Yu},Zu=function(){vr.tooltips=!Xt.iOS,Qn.translate=function(e){return B.translate(e)}},Ju=function(e){e.settings.ui_container&&(Xt.container=Gs.descendant(to.fromDom(document.body),e.settings.ui_container).fold(Pe.constant(null),function(e){return e.dom()}))},Qu=function(e){e.rtl&&(Qn.rtl=!0)},ec=function(e){e.on("mousedown",function(){ur.hideAll()})},tc=function(e){Qu(e),ec(e),Ju(e),Zu(),Ou.register(e),Zs.register(e),Hu.register(e),Gu.register(e),pu.register(e),iu.register(e),wu.register(e),Xu.register(e),Du.register(e)},nc={setup:tc},rc=kr.extend({recalc:function(e){var t,n,r,o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b,w,C,_,x,E,S,O,T,k,R,P=[],N=[];t=e.settings,o=e.items().filter(":visible"),i=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(o.length)),n=Math.ceil(o.length/r),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,w=t.alignH||t.align,C=t.alignV||t.align,g=e.paddingBox,k="reverseRows"in t?t.reverseRows:e.isRtl(),w&&"string"==typeof w&&(w=[w]),C&&"string"==typeof C&&(C=[C]);for(f=0;f<r;f++)P.push(0);for(d=0;d<n;d++)N.push(0);for(d=0;d<n;d++)for(f=0;f<r&&(l=o[d*r+f]);f++)c=l.layoutRect(),E=c.minW,S=c.minH,P[f]=E>P[f]?E:P[f],N[d]=S>N[d]?S:N[d];for(O=i.innerW-g.left-g.right,_=0,f=0;f<r;f++)_+=P[f]+(f>0?y:0),O-=(f>0?y:0)+P[f];for(T=i.innerH-g.top-g.bottom,x=0,d=0;d<n;d++)x+=N[d]+(d>0?b:0),T-=(d>0?b:0)+N[d];if(_+=g.left+g.right,x+=g.top+g.bottom,u={},u.minW=_+(i.w-i.innerW),u.minH=x+(i.h-i.innerH),u.contentW=u.minW-i.deltaW,u.contentH=u.minH-i.deltaH,u.minW=Math.min(u.minW,i.maxW),u.minH=Math.min(u.minH,i.maxH),u.minW=Math.max(u.minW,i.startMinWidth),u.minH=Math.max(u.minH,i.startMinHeight),!i.autoResize||u.minW===i.minW&&u.minH===i.minH){i.autoResize&&(u=e.layoutRect(u),u.contentW=u.minW-i.deltaW,u.contentH=u.minH-i.deltaH);var A;A="start"===t.packV?0:T>0?Math.floor(T/n):0;var I=0,D=t.flexWidths;if(D)for(f=0;f<D.length;f++)I+=D[f];else I=r;var M=O/I;for(f=0;f<r;f++)P[f]+=D?D[f]*M:M;for(h=g.top,d=0;d<n;d++){for(p=g.left,s=N[d]+A,f=0;f<r&&(R=k?d*r+r-1-f:d*r+f,l=o[R]);f++)m=l.settings,c=l.layoutRect(),a=Math.max(P[f],c.startMinWidth),c.x=p,c.y=h,v=m.alignH||(w?w[f]||w[0]:null),"center"===v?c.x=p+a/2-c.w/2:"right"===v?c.x=p+a-c.w:"stretch"===v&&(c.w=a),v=m.alignV||(C?C[f]||C[0]:null),"center"===v?c.y=h+s/2-c.h/2:"bottom"===v?c.y=h+s-c.h:"stretch"===v&&(c.h=s),l.layoutRect(c),p+=a+y,l.recalc&&l.recalc();h+=s+b}}else if(u.w=u.minW,u.h=u.minH,e.layoutRect(u),this.recalc(e),null===e._lastRect){var L=e.parent();L&&(L._lastRect=null,L.recalc())}}}),oc=vr.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,t&&t()):ge.setTimeout(function(){n.html(e)}),this}}),ic=vr.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e.state.on("change:help",function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}}),ac=vr.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,t=e._super();if(e.settings.multiline){yn.getSize(e.getEl()).width>t.maxW&&(t.minW=t.maxW,e.classes.add("multiline")),e.getEl().style.width=t.minW+"px",t.startMinH=t.h=t.minH=Math.min(t.maxH,yn.getSize(e.getEl()).height)}return t},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,r=n.settings.forId,o=n.settings.html?n.settings.html:n.encode(n.state.get("text"));return!r&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0])&&(r=e._id),r?'<label id="'+n._id+'" class="'+n.classes+'"'+(r?' for="'+r+'"':"")+">"+o+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+o+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}}),sc=nr.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add("toolbar-item")}),e._super()}}),uc=sc.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),cc=Rr.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(e){var t,n=this;if(n.menu&&n.menu.visible()&&!1!==e)return n.hideMenu();n.menu||(t=n.state.get("menu")||[],n.classes.add("opened"),t.length?t={type:"menu",animate:!0,items:t}:(t.type=t.type||"menu",t.animate=!0),t.renderTo?n.menu=t.parent(n).show().renderTo():n.menu=ae.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){e.control===n.menu&&(n.activeMenu("show"===e.type),n.classes.toggle("opened","show"===e.type)),n.aria("expanded","show"===e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.repaint(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),n.fire("showmenu")},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,o=t.settings.icon,i=t.state.get("text"),a="";return e=t.settings.image,e?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i&&(t.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+t.encode(i)+"</span>"),o=t.settings.icon?r+"ico "+r+"i-"+o:"",t.aria("role",t.parent()instanceof uc?"menuitem":"button"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+a+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&P(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())}),e.on("mouseenter",function(t){var n,r=t.control,o=e.parent();r&&o&&r instanceof cc&&r.parent()===o&&(o.items().filter("MenuButton").each(function(e){e.hideMenu&&e!==r&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(r.focus(),r.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),lc=ur.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var n=e.items,r=n.length;r--;)n[r]=F.extend({},e.itemDefaults,n[r]);t._super(e),t.classes.add("menu"),e.animate&&11!==Xt.ie&&t.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},load:function(){function e(){r.throbber&&(r.throbber.hide(),r.throbber=null)}var t,n,r=this;(n=r.settings.itemsFactory)&&(r.throbber||(r.throbber=new w(r.getEl("body"),!0),0===r.items().length?(r.throbber.show(),r.fire("loading")):r.throbber.show(100,function(){r.items().remove(),r.fire("loading")}),r.on("hide close",e)),r.requestTime=t=(new Date).getTime(),r.settings.itemsFactory(function(n){if(0===n.length)return void r.hide();r.requestTime===t&&(r.getEl().style.width="",r.getEl("body").style.width="",e(),r.items().remove(),r.getEl("body").innerHTML="",r.add(n),r.renderNew(),r.fire("loaded"))}))},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on("postrender",function(){e.settings.itemsFactory&&e.load()}),e.on("show hide",function(t){t.control===e&&("show"===t.type?ge.setTimeout(function(){e.classes.add("in")},0):e.classes.remove("in"))}),e._super()}}),fc=cc.extend({init:function(e){function t(n){for(var i=0;i<n.length;i++){if(r=n[i].selected||e.value===n[i].value)return o=o||n[i].text,a.state.set("value",n[i].value),!0;if(n[i].menu&&t(n[i].menu))return!0}}var n,r,o,i,a=this;a._super(e),e=a.settings,a._values=n=e.values,n&&(void 0!==e.value&&t(n),!r&&n.length>0&&(o=n[0].text,a.state.set("value",n[0].value)),a.state.set("menu",n)),a.state.set("text",e.text||o),a.classes.add("listbox"),a.on("select",function(t){var n=t.control;i&&(t.lastControl=i),e.multiple?n.active(!n.active()):a.value(t.control.value()),i=n})},value:function(e){if(0===arguments.length)return this.state.get("value");if(void 0===e)return this;if(this.settings.values){F.grep(this.settings.values,function(t){return t.value===e}).length>0?this.state.set("value",e):null===e&&this.state.set("value",null)}else this.state.set("value",e);return this},bindStates:function(){function e(e,t){e instanceof lc&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===t)})}function t(e,n){var r;if(e)for(var o=0;o<e.length;o++){if(e[o].value===n)return e[o];if(e[o].menu&&(r=t(e[o].menu,n)))return r}}var n=this;return n.on("show",function(t){e(t.control,n.value())}),n.state.on("change:value",function(e){var r=t(n.state.get("menu"),e.value);r?n.text(r.text):n.text(n.settings.text)}),n._super()}}),dc=function(e,t){var n=e._textStyle;if(n){var r=e.getEl("text");r.setAttribute("style",n),t&&(r.style.color="",r.style.backgroundColor="")}},pc=vr.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),t=n.state.get("text"),"-"!==t&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,t=this,n=t.settings,r=t.parent();if(r.items().each(function(e){e!==t&&e.hideMenu()}),n.menu){e=t.menu,e?e.show():(e=n.menu,e.length?e={type:"menu",items:e}:e.type=e.type||"menu",r.settings.itemDefaults&&(e.itemDefaults=r.settings.itemDefaults),e=t.menu=ae.create(e).parent(t).renderTo(),e.reflow(),e.on("cancel",function(n){n.stopPropagation(),t.focus(),e.hide()}),e.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),e.on("hide",function(n){n.control===e&&t.classes.remove("selected")}),e.submenu=!0),e._parentMenu=r,e.classes.add("menu-sub");var o=e.testMoveRel(t.getEl(),t.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(t.getEl(),o),e.rel=o,o="menu-sub-"+o,e.classes.remove(e._lastRel).add(o),e._lastRel=o,t.classes.add("selected"),t.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function t(t){var n=i.match||"";return n?t.replace(new RegExp(e(n),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):t}function n(t){return t.replace(new RegExp(e("!mce~match["),"g"),"<b>").replace(new RegExp(e("]mce~match!"),"g"),"</b>")}var r=this,o=r._id,i=r.settings,a=r.classPrefix,s=r.state.get("text"),u=r.settings.icon,c="",l=i.shortcut,f=r.encode(i.url),d="";return u&&r.parent().classes.add("menu-has-icons"),i.image&&(c=" style=\"background-image: url('"+i.image+"')\""),l&&(l=function(e){var t,n,r={};for(r=Xt.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(n=r[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}(l)),u=a+"ico "+a+"i-"+(r.settings.icon||"none"),d="-"!==s?'<i class="'+u+'"'+c+"></i>\xa0":"",s=n(r.encode(t(s))),f=n(r.encode(t(f))),'<div id="'+o+'" class="'+r.classes+'" tabindex="-1">'+d+("-"!==s?'<span id="'+o+'-text" class="'+a+'text">'+s+"</span>":"")+(l?'<div id="'+o+'-shortcut" class="'+a+'menu-shortcut">'+l+"</div>":"")+(i.menu?'<div class="'+a+'caret"></div>':"")+(f?'<div class="'+a+'menu-item-link">'+f+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var r=e.getEl("text");r&&(r.setAttribute("style",n),e._textStyle=n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),ge.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){var e=this;return e.parent().items().each(function(e){e.classes.remove("selected")}),e.classes.toggle("selected",!0),e},active:function(e){return dc(this,e),void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),hc=Ar.extend({Defaults:{classes:"radio",role:"radio"}}),mc=vr.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"===e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new f(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!==e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}}),gc=vr.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",function(e){var n;13===e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,t=this,n="";return e=N(t._options),t.size&&(n=' size = "'+t.size+'"'),'<select id="'+t._id+'" class="'+t.classes+'"'+n+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(t){e.getEl().innerHTML=N(t.value)}),e._super()}}),vc=vr.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"===e.orientation&&t.classes.add("vertical"),t._minValue=nt.isNumber(e.minValue)?e.minValue:0,t._maxValue=nt.isNumber(e.maxValue)?e.maxValue:100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function e(e,t,n){return(n+e)/(t-e)}function t(e,t,n){return n*(t-e)-e}var n,r,o,i,a,s,u=this;n=u._minValue,r=u._maxValue,"v"===u.settings.orientation?(o="screenY",i="top",a="height",s="h"):(o="screenX",i="left",a="width",s="w"),u._super(),function(n,r){function o(o){var i;i=u.value(),i=t(n,r,e(n,r,i)+.05*o),i=A(i,n,r),u.value(i),u.fire("dragstart",{value:i}),u.fire("drag",{value:i}),u.fire("dragend",{value:i})}u.on("keydown",function(e){switch(e.keyCode){case 37:case 38:o(-1);break;case 39:case 40:o(1)}})}(n,r),function(e,t,n){var r,c,l,d,p;u._dragHelper=new f(u._id,{handle:u._id+"-handle",start:function(e){r=e[o],c=parseInt(u.getEl("handle").style[i],10),l=(u.layoutRect()[s]||100)-yn.getSize(n)[a],u.fire("dragstart",{value:p})},drag:function(a){var s=a[o]-r;d=A(c+s,0,l),n.style[i]=d+"px",p=e+d/l*(t-e),u.value(p),u.tooltip().text(""+u.settings.previewFilter(p)).show().moveRel(n,"bc tc"),u.fire("drag",{value:p})},stop:function(){u.tooltip().hide(),u.fire("dragend",{value:p})}})}(n,r,u.getEl("handle"))},repaint:function(){this._super(),D(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){D(e,t.value)}),e._super()}}),yc=vr.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}}),bc=cc.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,n=this,r=n.getEl(),o=n.layoutRect();return n._super(),e=r.firstChild,t=r.lastChild,gn(e).css({width:o.w-yn.getSize(t).width,height:o.h-2}),gn(t).css({height:o.h-2}),n},activeMenu:function(e){var t=this;gn(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var e,t,n=this,r=n._id,o=n.classPrefix,i=n.state.get("icon"),a=n.state.get("text"),s=n.settings,u="";return e=s.image,e?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i=s.icon?o+"ico "+o+"i-"+i:"",a&&(n.classes.add("btn-has-text"),u='<span class="'+o+'txt">'+n.encode(a)+"</span>"),t="boolean"==typeof s.active?' aria-pressed="'+s.active+'"':"",'<div id="'+r+'" class="'+n.classes+'" role="button"'+t+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+u+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1">'+(n._menuBtnText?(i?"\xa0":"")+n._menuBtnText:"")+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control===this)for(;n;){if(e.aria&&"down"!==e.aria.key||"BUTTON"===n.nodeName&&-1===n.className.indexOf("open"))return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}}),delete e.settings.onclick,e._super()}}),wc=As.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),Cc=or.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var t;this.activeTabId&&(t=this.getEl(this.activeTabId),gn(t).removeClass(this.classPrefix+"active"),t.setAttribute("aria-selected","false")),this.activeTabId="t"+e,t=this.getEl("t"+e),t.setAttribute("aria-selected","true"),gn(t).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!==n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,o){var i=e._id+"-t"+o;t.aria("role","tabpanel"),t.aria("labelledby",i),n+='<div id="'+i+'" class="'+r+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+r+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(n&&n.id===e._id+"-head")for(var r=n.childNodes.length;r--;)n.childNodes[r]===t.target&&e.activateTab(r)})},initLayoutRect:function(){var e,t,n,r=this;t=yn.getSize(r.getEl("head")).width,t=t<0?0:t,n=0,r.items().each(function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH)}),r.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n})});var o=yn.getSize(r.getEl("head")).height;return r.settings.minWidth=t,r.settings.minHeight=n+o,e=r._super(),e.deltaH+=o,e.innerH=e.h-e.deltaH,e}}),_c=vr.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",function(e){var n;13===e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){t.state.set("value",e.target.value)}))},repaint:function(){var e,t,n,r,o,i=this,a=0;e=i.getEl().style,t=i._layoutRect,o=i._lastRepaintRect||{};var s=document;return!i.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+"px"),n=i.borderBox,r=n.left+n.right+8,a=n.top+n.bottom+(i.settings.multiline?8:0),t.x!==o.x&&(e.left=t.x+"px",o.x=t.x),t.y!==o.y&&(e.top=t.y+"px",o.y=t.y),t.w!==o.w&&(e.width=t.w-r+"px",o.w=t.w),t.h!==o.h&&(e.height=t.h-a+"px",o.h=t.h),i._lastRepaintRect=o,i.fire("repaint",{},!1),i},renderHtml:function(){var e,t,n=this,r=n.settings;return e={id:n._id,hidefocus:"1"},F.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(t){e[t]=r[t]}),n.disabled()&&(e.disabled="disabled"),r.subtype&&(e.type=r.subtype),t=yn.create(r.multiline?"textarea":"input",e),t.value=n.state.get("value"),t.className=n.classes.toString(),t.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!==t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}}),xc=function(){return{Selector:Dn,Collection:Bn,ReflowQueue:qn,Control:Qn,Factory:ae,KeyboardNavigation:u,Container:nr,DragHelper:f,Scrollable:rr,Panel:or,Movable:En,Resizable:ir,FloatPanel:ur,Window:xr,MessageBox:Er,Tooltip:gr,Widget:vr,Progress:yr,Notification:wr,Layout:Tr,AbsoluteLayout:kr,Button:Rr,ButtonGroup:Nr,Checkbox:Ar,ComboBox:Dr,ColorBox:Mr,PanelButton:Lr,ColorButton:Fr,ColorPicker:Vr,Path:Ur,ElementPath:zr,FormItem:qr,Form:Wr,FieldSet:Gr,FilePicker:Rs,FitLayout:Ps,FlexLayout:Ns,FlowLayout:As,FormatControls:nc,GridLayout:rc,Iframe:oc,InfoBox:ic,Label:ac,Toolbar:sc,MenuBar:uc,MenuButton:cc,MenuItem:pc,Throbber:w,Menu:lc,ListBox:fc,Radio:hc,ResizeHandle:mc,SelectBox:gc,Slider:vc,Spacer:yc,SplitButton:bc,StackLayout:wc,TabPanel:Cc,TextBox:_c,DropZone:Hr,BrowseButton:Pr}},Ec=function(e){e.ui?F.each(xc(),function(t,n){e.ui[n]=t}):e.ui=xc()},Sc=function(){F.each(xc(),function(e,t){ae.add(t,e)})},Oc={appendTo:Ec,registerToFactory:Sc};Oc.registerToFactory(),Oc.appendTo(window.tinymce?window.tinymce:{}),L.add("modern",function(e){return nc.setup(e),Or.get(e)})}()}()},"6Xbx":function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}t.a=r;var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)}},"7JOC":function(e,t,n){"use strict";var r=n("OWbQ");t.from=r.FromObservable.create},"7u+W":function(e,t,n){"use strict";var r=n("bKpL"),o=n("QU9E");r.Observable.fromPromise=o.fromPromise},"8rcZ":function(e,t,n){"use strict";function r(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),o.mergeMap(i.identity,null,e)}var o=n("mjx3"),i=n("Yuqz");t.mergeAll=r},"99Rq":function(e,t,n){"use strict";var r=function(){function e(e,t){this.value=e,this.label=t,this.disabled=!1,this.highlighted=!1,this.selected=!1,this.shown=!0}return e.prototype.show=function(){this.shown=!0},e.prototype.hide=function(){this.shown=!1},e.prototype.disable=function(){this.disabled=!0},e.prototype.enable=function(){this.disabled=!1},e.prototype.undecoratedCopy=function(){return{label:this.label,value:this.value}},e}();t.Option=r},"9Kxs":function(e,t,n){"use strict";function r(e){return File&&e instanceof File}var o=n("/oeL"),i=n("fKez"),a=n("5uVf"),s=n("V8QN"),u=function(){function e(e){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:function(e){return e._file},formatDataFunctionIsAsync:!1},this.setOptions(e),this.response=new o.EventEmitter}return e.prototype.setOptions=function(e){this.options=Object.assign(this.options,e),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(var t=0;t<this.queue.length;t++)this.queue[t].url=this.options.url},e.prototype.addToQueue=function(e,t,n){for(var r=this,o=[],s=0,u=e;s<u.length;s++){var c=u[s];o.push(c)}var l=this._getFilters(n),f=this.queue.length,d=[];o.map(function(e){t||(t=r.options);var n=new i.FileLikeObject(e);if(r._isValidFile(n,l,t)){var o=new a.FileItem(r,e,t);d.push(o),r.queue.push(o),r._onAfterAddingFile(o)}else{var s=l[r._failFilterIndex];r._onWhenAddingFileFailed(n,s,t)}}),this.queue.length!==f&&(this._onAfterAddingAll(d),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()},e.prototype.removeFromQueue=function(e){var t=this.getIndexOfItem(e),n=this.queue[t];n.isUploading&&n.cancel(),this.queue.splice(t,1),this.progress=this._getTotalProgress()},e.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},e.prototype.uploadItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t],r=this.options.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[r](n))},e.prototype.cancelItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t],r=this.options.isHTML5?n._xhr:n._form;n&&n.isUploading&&r.abort()},e.prototype.uploadAll=function(){var e=this.getNotUploadedItems().filter(function(e){return!e.isUploading});e.length&&(e.map(function(e){return e._prepareToUploading()}),e[0].upload())},e.prototype.cancelAll=function(){this.getNotUploadedItems().map(function(e){return e.cancel()})},e.prototype.isFile=function(e){return r(e)},e.prototype.isFileLikeObject=function(e){return e instanceof i.FileLikeObject},e.prototype.getIndexOfItem=function(e){return"number"==typeof e?e:this.queue.indexOf(e)},e.prototype.getNotUploadedItems=function(){return this.queue.filter(function(e){return!e.isUploaded})},e.prototype.getReadyItems=function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})},e.prototype.destroy=function(){},e.prototype.onAfterAddingAll=function(e){return{fileItems:e}},e.prototype.onBuildItemForm=function(e,t){return{fileItem:e,form:t}},e.prototype.onAfterAddingFile=function(e){return{fileItem:e}},e.prototype.onWhenAddingFileFailed=function(e,t,n){return{item:e,filter:t,options:n}},e.prototype.onBeforeUploadItem=function(e){return{fileItem:e}},e.prototype.onProgressItem=function(e,t){return{fileItem:e,progress:t}},e.prototype.onProgressAll=function(e){return{progress:e}},e.prototype.onSuccessItem=function(e,t,n,r){return{item:e,response:t,status:n,headers:r}},e.prototype.onErrorItem=function(e,t,n,r){return{item:e,response:t,status:n,headers:r}},e.prototype.onCancelItem=function(e,t,n,r){return{item:e,response:t,status:n,headers:r}},e.prototype.onCompleteItem=function(e,t,n,r){return{item:e,response:t,status:n,headers:r}},e.prototype.onCompleteAll=function(){},e.prototype._mimeTypeFilter=function(e){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(e.type))},e.prototype._fileSizeFilter=function(e){return!(this.options.maxFileSize&&e.size>this.options.maxFileSize)},e.prototype._fileTypeFilter=function(e){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(s.FileType.getMimeClass(e)))},e.prototype._onErrorItem=function(e,t,n,r){e._onError(t,n,r),this.onErrorItem(e,t,n,r)},e.prototype._onCompleteItem=function(e,t,n,r){e._onComplete(t,n,r),this.onCompleteItem(e,t,n,r);var o=this.getReadyItems()[0];if(this.isUploading=!1,o)return void o.upload();this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render()},e.prototype._headersGetter=function(e){return function(t){return t?e[t.toLowerCase()]||void 0:e}},e.prototype._xhrTransport=function(e){var t,n=this,r=this,o=e._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(e),"number"!=typeof e._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)t=this.options.formatDataFunction(e);else{t=new FormData,this._onBuildItemForm(e,t);var i=function(){return t.append(e.alias,e._file,e.file.name)};this.options.parametersBeforeFiles||i(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(function(r){var o=n.options.additionalParameter[r];"string"==typeof o&&o.indexOf("{{file_name}}")>=0&&(o=o.replace("{{file_name}}",e.file.name)),t.append(r,o)}),this.options.parametersBeforeFiles&&i()}if(o.upload.onprogress=function(t){var r=Math.round(t.lengthComputable?100*t.loaded/t.total:0);n._onProgressItem(e,r)},o.onload=function(){var t=n._parseHeaders(o.getAllResponseHeaders()),r=n._transformResponse(o.response,t),i=n._isSuccessCode(o.status)?"Success":"Error";n["_on"+i+"Item"](e,r,o.status,t),n._onCompleteItem(e,r,o.status,t)},o.onerror=function(){var t=n._parseHeaders(o.getAllResponseHeaders()),r=n._transformResponse(o.response,t);n._onErrorItem(e,r,o.status,t),n._onCompleteItem(e,r,o.status,t)},o.onabort=function(){var t=n._parseHeaders(o.getAllResponseHeaders()),r=n._transformResponse(o.response,t);n._onCancelItem(e,r,o.status,t),n._onCompleteItem(e,r,o.status,t)},o.open(e.method,e.url,!0),o.withCredentials=e.withCredentials,this.options.headers)for(var a=0,s=this.options.headers;a<s.length;a++){var u=s[a];o.setRequestHeader(u.name,u.value)}if(e.headers.length)for(var c=0,l=e.headers;c<l.length;c++){var u=l[c];o.setRequestHeader(u.name,u.value)}this.authToken&&o.setRequestHeader(this.authTokenHeader,this.authToken),o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&r.response.emit(o.responseText)},this.options.formatDataFunctionIsAsync?t.then(function(e){return o.send(JSON.stringify(e))}):o.send(t),this._render()},e.prototype._getTotalProgress=function(e){if(void 0===e&&(e=0),this.options.removeAfterUpload)return e;var t=this.getNotUploadedItems().length,n=t?this.queue.length-t:this.queue.length,r=100/this.queue.length,o=e*r/100;return Math.round(n*r+o)},e.prototype._getFilters=function(e){if(!e)return this.options.filters;if(Array.isArray(e))return e;if("string"==typeof e){var t=e.match(/[^\s,]+/g);return this.options.filters.filter(function(e){return-1!==t.indexOf(e.name)})}return this.options.filters},e.prototype._render=function(){},e.prototype._queueLimitFilter=function(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit},e.prototype._isValidFile=function(e,t,n){var r=this;return this._failFilterIndex=-1,!t.length||t.every(function(t){return r._failFilterIndex++,t.fn.call(r,e,n)})},e.prototype._isSuccessCode=function(e){return e>=200&&e<300||304===e},e.prototype._transformResponse=function(e,t){return e},e.prototype._parseHeaders=function(e){var t,n,r,o={};return e?(e.split("\n").map(function(e){r=e.indexOf(":"),t=e.slice(0,r).trim().toLowerCase(),n=e.slice(r+1).trim(),t&&(o[t]=o[t]?o[t]+", "+n:n)}),o):o},e.prototype._onWhenAddingFileFailed=function(e,t,n){this.onWhenAddingFileFailed(e,t,n)},e.prototype._onAfterAddingFile=function(e){this.onAfterAddingFile(e)},e.prototype._onAfterAddingAll=function(e){this.onAfterAddingAll(e)},e.prototype._onBeforeUploadItem=function(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)},e.prototype._onBuildItemForm=function(e,t){e._onBuildForm(t),this.onBuildItemForm(e,t)},e.prototype._onProgressItem=function(e,t){var n=this._getTotalProgress(t);this.progress=n,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(n),this._render()},e.prototype._onSuccessItem=function(e,t,n,r){e._onSuccess(t,n,r),this.onSuccessItem(e,t,n,r)},e.prototype._onCancelItem=function(e,t,n,r){e._onCancel(t,n,r),this.onCancelItem(e,t,n,r)},e}();t.FileUploader=u},AJJj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("0pMh"))},BkNc:function(e,t,n){"use strict";function r(e){return new Ut(e)}function o(e){var t=Error("NavigationCancelingError: "+e);return t[zt]=!0,t}function i(e){return e[zt]}function a(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var o={},i=0;i<r.length;i++){var a=r[i],s=e[i];if(a.startsWith(":"))o[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function s(e,t){void 0===t&&(t="");for(var n=0;n<e.length;n++){var r=e[n];u(r,c(t,r))}}function u(e,t){if(!e)throw new Error("\n      Invalid configuration of route '"+t+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(e))throw new Error("Invalid configuration of route '"+t+"': Array cannot be specified");if(!e.component&&e.outlet&&e.outlet!==Ht)throw new Error("Invalid configuration of route '"+t+"': a componentless route cannot have a named outlet set");if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '"+t+"': redirectTo and children cannot be used together");if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': redirectTo and loadChildren cannot be used together");if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': children and loadChildren cannot be used together");if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '"+t+"': redirectTo and component cannot be used together");if(e.path&&e.matcher)throw new Error("Invalid configuration of route '"+t+"': path and matcher cannot be used together");if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '"+t+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '"+t+"': routes must have either a path or a matcher specified");if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '"+t+"': path cannot start with a slash");if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch){throw new Error("Invalid configuration of route '{path: \""+t+'", redirectTo: "'+e.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '"+t+"': pathMatch can only be set to 'prefix' or 'full'");e.children&&s(e.children,t)}function c(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:e+"/"+t.path:"":e}function l(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!f(e[n],t[n]))return!1;return!0}function f(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var o,i=0;i<n.length;i++)if(o=n[i],e[o]!==t[o])return!1;return!0}function d(e){return Array.prototype.concat.apply([],e)}function p(e){return e.length>0?e[e.length-1]:null}function h(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function m(e,t){if(0===Object.keys(e).length)return Object(ht.of)({});var n=[],r=[],o={};h(e,function(e,i){var a=bt.map.call(t(i,e),function(e){return o[i]=e});i===Ht?n.push(a):r.push(a)});var i=Et.concatAll.call(ht.of.apply(void 0,n.concat(r))),a=yt.last.call(i);return bt.map.call(a,function(){return o})}function g(e){var t=Tt.mergeAll.call(e);return gt.every.call(t,function(e){return!0===e})}function v(e){return Object(lt["\u0275isObservable"])(e)?e:Object(lt["\u0275isPromise"])(e)?Object(Ot.fromPromise)(Promise.resolve(e)):Object(ht.of)(e)}function y(){return new Wt(new Gt([],{}),{},null)}function b(e,t,n){return n?w(e.queryParams,t.queryParams)&&C(e.root,t.root):_(e.queryParams,t.queryParams)&&x(e.root,t.root)}function w(e,t){return f(e,t)}function C(e,t){if(!O(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var n in t.children){if(!e.children[n])return!1;if(!C(e.children[n],t.children[n]))return!1}return!0}function _(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return t[n]===e[n]})}function x(e,t){return E(e,t,t.segments)}function E(e,t,n){if(e.segments.length>n.length){var r=e.segments.slice(0,n.length);return!!O(r,n)&&!t.hasChildren()}if(e.segments.length===n.length){if(!O(e.segments,n))return!1;for(var o in t.children){if(!e.children[o])return!1;if(!x(e.children[o],t.children[o]))return!1}return!0}var r=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!O(e.segments,r)&&(!!e.children[Ht]&&E(e.children[Ht],t,i))}function S(e,t){return O(e,t)&&e.every(function(e,n){return f(e.parameters,t[n].parameters)})}function O(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}function T(e,t){var n=[];return h(e.children,function(e,r){r===Ht&&(n=n.concat(t(e,r)))}),h(e.children,function(e,r){r!==Ht&&(n=n.concat(t(e,r)))}),n}function k(e){return e.segments.map(function(e){return A(e)}).join("/")}function R(e,t){if(!e.hasChildren())return k(e);if(t){var n=e.children[Ht]?R(e.children[Ht],!1):"",r=[];return h(e.children,function(e,t){t!==Ht&&r.push(t+":"+R(e,!1))}),r.length>0?n+"("+r.join("//")+")":n}var o=T(e,function(t,n){return n===Ht?[R(e.children[Ht],!1)]:[n+":"+R(t,!1)]});return k(e)+"/("+o.join("//")+")"}function P(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function N(e){return decodeURIComponent(e)}function A(e){return""+P(e.path)+I(e.parameters)}function I(e){return Object.keys(e).map(function(t){return";"+P(t)+"="+P(e[t])}).join("")}function D(e){var t=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return P(t)+"="+P(e)}).join("&"):P(t)+"="+P(n)});return t.length?"?"+t.join("&"):""}function M(e){var t=e.match(Zt);return t?t[0]:""}function L(e){var t=e.match(Jt);return t?t[0]:""}function B(e){var t=e.match(Qt);return t?t[0]:""}function F(e){return new _t.Observable(function(t){return t.error(new tn(e))})}function j(e){return new _t.Observable(function(t){return t.error(new nn(e))})}function V(e){return new _t.Observable(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+e+"'"))})}function H(e){return new _t.Observable(function(t){return t.error(o("Cannot load children because the guard of the route \"path: '"+e.path+"'\" returned false"))})}function U(e,t,n,r,o){return new rn(e,t,n,r,o).apply()}function z(e,t){var n=t.canLoad;return n&&0!==n.length?g(bt.map.call(Object(pt.from)(n),function(n){var r=e.get(n);return v(r.canLoad?r.canLoad(t):r(t))})):Object(ht.of)(!0)}function q(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=t.matcher||a,o=r(n,e,t);return o?{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,positionalParamSegments:o.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function W(e,t,n,r){if(n.length>0&&Y(e,n,r)){var o=new Gt(t,$(r,new Gt(n,e.children)));return{segmentGroup:G(o),slicedSegments:[]}}if(0===n.length&&X(e,n,r)){var o=new Gt(e.segments,K(e,n,r,e.children));return{segmentGroup:G(o),slicedSegments:n}}return{segmentGroup:e,slicedSegments:n}}function G(e){if(1===e.numberOfChildren&&e.children[Ht]){var t=e.children[Ht];return new Gt(e.segments.concat(t.segments),t.children)}return e}function K(e,t,n,r){for(var o={},i=0,a=n;i<a.length;i++){var s=a[i];Z(e,t,s)&&!r[J(s)]&&(o[J(s)]=new Gt([],{}))}return Object.assign({},r,o)}function $(e,t){var n={};n[Ht]=t;for(var r=0,o=e;r<o.length;r++){var i=o[r];""===i.path&&J(i)!==Ht&&(n[J(i)]=new Gt([],{}))}return n}function Y(e,t,n){return n.some(function(n){return Z(e,t,n)&&J(n)!==Ht})}function X(e,t,n){return n.some(function(n){return Z(e,t,n)})}function Z(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function J(e){return e.outlet||Ht}function Q(e,t){if(e===t.value)return t;for(var n=0,r=t.children;n<r.length;n++){var o=r[n],i=Q(e,o);if(i)return i}return null}function ee(e,t){if(e===t.value)return[t];for(var n=0,r=t.children;n<r.length;n++){var o=r[n],i=ee(e,o);if(i.length)return i.unshift(t),i}return[]}function te(e,t){var n=ne(e,t),r=new ft.BehaviorSubject([new Kt("",{})]),o=new ft.BehaviorSubject({}),i=new ft.BehaviorSubject({}),a=new ft.BehaviorSubject({}),s=new ft.BehaviorSubject(""),u=new un(r,o,a,s,i,Ht,t,n.root);return u.snapshot=n.root,new sn(new an(u,[]),n)}function ne(e,t){var n={},r={},o={},i=new cn([],n,o,"",r,Ht,t,null,e.root,-1,{});return new ln("",new an(i,[]))}function re(e){for(var t=e.pathFromRoot,n=t.length-1;n>=1;){var r=t[n],o=t[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(o.component)break;n--}}return t.slice(n).reduce(function(e,t){return{params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}},{params:{},data:{},resolve:{}})}function oe(e,t){t.value._routerState=e,t.children.forEach(function(t){return oe(e,t)})}function ie(e){var t=e.children.length>0?" { "+e.children.map(ie).join(", ")+" } ":"";return""+e.value+t}function ae(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,f(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),f(t.params,n.params)||e.params.next(n.params),l(t.url,n.url)||e.url.next(n.url),f(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function se(e,t){var n=f(e.params,t.params)&&S(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||se(e.parent,t.parent))}function ue(e,t,n){var r=ce(e,t._root,n?n._root:void 0);return new sn(r,t)}function ce(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var o=fe(e,t,n);return new an(r,o)}if(e.retrieve(t.value)){var i=e.retrieve(t.value).route;return le(t,i),i}var r=de(t.value),o=t.children.map(function(t){return ce(e,t)});return new an(r,o)}function le(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)le(e.children[n],t.children[n])}function fe(e,t,n){return t.children.map(function(t){for(var r=0,o=n.children;r<o.length;r++){var i=o[r];if(e.shouldReuseRoute(i.value.snapshot,t.value))return ce(e,t,i)}return ce(e,t)})}function de(e){return new un(new ft.BehaviorSubject(e.url),new ft.BehaviorSubject(e.params),new ft.BehaviorSubject(e.queryParams),new ft.BehaviorSubject(e.fragment),new ft.BehaviorSubject(e.data),e.outlet,e.component,e)}function pe(e,t,n,r,o){if(0===n.length)return me(t.root,t.root,t,r,o);var i=ve(n);if(i.toRoot())return me(t.root,new Gt([],{}),t,r,o);var a=ye(i,t,e),s=a.processChildren?xe(a.segmentGroup,a.index,i.commands):_e(a.segmentGroup,a.index,i.commands);return me(a.segmentGroup,s,t,r,o)}function he(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function me(e,t,n,r,o){var i={};return r&&h(r,function(e,t){i[t]=Array.isArray(e)?e.map(function(e){return""+e}):""+e}),n.root===e?new Wt(t,i,o):new Wt(ge(n.root,e,t),i,o)}function ge(e,t,n){var r={};return h(e.children,function(e,o){r[o]=e===t?n:ge(e,t,n)}),new Gt(e.segments,r)}function ve(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new fn(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var i={};return h(r.outlets,function(e,t){i[t]="string"==typeof e?e.split("/"):e}),e.concat([{outlets:i}])}if(r.segmentPath)return e.concat([r.segmentPath])}return"string"!=typeof r?e.concat([r]):0===o?(r.split("/").forEach(function(r,o){0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):e.concat([r])},[]);return new fn(n,t,r)}function ye(e,t,n){if(e.isAbsolute)return new dn(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new dn(n.snapshot._urlSegment,!0,0);var r=he(e.commands[0])?0:1,o=n.snapshot._lastPathIndex+r;return be(n.snapshot._urlSegment,o,e.numberOfDoubleDots)}function be(e,t,n){for(var r=e,o=t,i=n;i>o;){if(i-=o,!(r=r.parent))throw new Error("Invalid number of '../'");o=r.segments.length}return new dn(r,!1,o-i)}function we(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Ht]:""+e}function Ce(e){return"object"!=typeof e[0]?(t={},t[Ht]=e,t):void 0===e[0].outlets?(n={},n[Ht]=e,n):e[0].outlets;var t,n}function _e(e,t,n){if(e||(e=new Gt([],{})),0===e.segments.length&&e.hasChildren())return xe(e,t,n);var r=Ee(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var i=new Gt(e.segments.slice(0,r.pathIndex),{});return i.children[Ht]=new Gt(e.segments.slice(r.pathIndex),e.children),xe(i,0,o)}return r.match&&0===o.length?new Gt(e.segments,{}):r.match&&!e.hasChildren()?Se(e,t,n):r.match?xe(e,0,o):Se(e,t,n)}function xe(e,t,n){if(0===n.length)return new Gt(e.segments,{});var r=Ce(n),o={};return h(r,function(n,r){null!==n&&(o[r]=_e(e.children[r],t,n))}),h(e.children,function(e,t){void 0===r[t]&&(o[t]=e)}),new Gt(e.segments,o)}function Ee(e,t,n){for(var r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};o<e.segments.length;){if(r>=n.length)return i;var a=e.segments[o],s=we(n[r]),u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!ke(s,u,a))return i;r+=2}else{if(!ke(s,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Se(e,t,n){for(var r=e.segments.slice(0,t),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var i=Oe(n[o].outlets);return new Gt(r,i)}if(0===o&&he(n[0])){var a=e.segments[t];r.push(new Kt(a.path,n[0])),o++}else{var s=we(n[o]),u=o<n.length-1?n[o+1]:null;s&&u&&he(u)?(r.push(new Kt(s,Te(u))),o+=2):(r.push(new Kt(s,{})),o++)}}return new Gt(r,{})}function Oe(e){var t={};return h(e,function(e,n){null!==e&&(t[n]=Se(new Gt([],{}),0,e))}),t}function Te(e){var t={};return h(e,function(e,n){return t[n]=""+e}),t}function ke(e,t,n){return e==n.path&&f(t,n.parameters)}function Re(e,t,n,r){return new hn(e,t,n,r).recognize()}function Pe(e){e.sort(function(e,t){return e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet)})}function Ne(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}function Ae(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new pn;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=t.matcher||a,o=r(n,e,t);if(!o)throw new pn;var i={};h(o.posParams,function(e,t){i[t]=e.path});var s=o.consumed.length>0?Object.assign({},i,o.consumed[o.consumed.length-1].parameters):i;return{consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:s}}function Ie(e){var t={};e.forEach(function(e){var n=t[e.value.outlet];if(n){var r=n.url.map(function(e){return e.toString()}).join("/"),o=e.value.url.map(function(e){return e.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+o+"'.")}t[e.value.outlet]=e.value})}function De(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Me(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Le(e,t,n,r){if(n.length>0&&je(e,n,r)){var o=new Gt(t,Fe(e,t,r,new Gt(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&Ve(e,n,r)){var i=new Gt(e.segments,Be(e,n,r,e.children));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}var a=new Gt(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function Be(e,t,n,r){for(var o={},i=0,a=n;i<a.length;i++){var s=a[i];if(He(e,t,s)&&!r[Ue(s)]){var u=new Gt([],{});u._sourceSegment=e,u._segmentIndexShift=e.segments.length,o[Ue(s)]=u}}return Object.assign({},r,o)}function Fe(e,t,n,r){var o={};o[Ht]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(var i=0,a=n;i<a.length;i++){var s=a[i];if(""===s.path&&Ue(s)!==Ht){var u=new Gt([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,o[Ue(s)]=u}}return o}function je(e,t,n){return n.some(function(n){return He(e,t,n)&&Ue(n)!==Ht})}function Ve(e,t,n){return n.some(function(n){return He(e,t,n)})}function He(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function Ue(e){return e.outlet||Ht}function ze(e){return e.data||{}}function qe(e){return e.resolve||{}}function We(e){throw e}function Ge(e){return Object(ht.of)(null)}function Ke(e){ae(e.value),e.children.forEach(Ke)}function $e(e){for(var t=e.parent;t;t=t.parent){var n=t._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}function Ye(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}function Xe(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}function Ze(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+t)}}function Je(e){return""===e||!!e}function Qe(){return new lt.NgProbeToken("Router",Cn)}function et(e,t,n){return void 0===n&&(n={}),n.useHash?new ct.HashLocationStrategy(e,t):new ct.PathLocationStrategy(e,t)}function tt(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function nt(e){return[{provide:lt.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:vn,multi:!0,useValue:e}]}function rt(e,t,n,r,o,i,a,s,u,c,l){void 0===u&&(u={});var f=new Cn(null,t,n,r,o,i,a,d(s));if(c&&(f.urlHandlingStrategy=c),l&&(f.routeReuseStrategy=l),u.errorHandler&&(f.errorHandler=u.errorHandler),u.enableTracing){var p=Object(kt.t)();f.events.subscribe(function(e){p.logGroup("Router Event: "+e.constructor.name),p.log(e.toString()),p.log(e),p.logGroupEnd()})}return f}function ot(e){return e.routerState.root}function it(e){return e.appInitializer.bind(e)}function at(e){return e.bootstrapListener.bind(e)}function st(){return[Un,{provide:lt.APP_INITIALIZER,multi:!0,useFactory:it,deps:[Un]},{provide:zn,useFactory:at,deps:[Un]},{provide:lt.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:zn}]}n.d(t,"m",function(){return Tn}),n.d(t,"l",function(){return kn}),n.d(t,"o",function(){return Nn}),n.d(t,"j",function(){return mn}),n.d(t,"k",function(){return Cn}),n.d(t,"i",function(){return vn}),n.d(t,"g",function(){return Fn}),n.d(t,"h",function(){return zn}),n.d(t,"n",function(){return Hn}),n.d(t,"b",function(){return Pn}),n.d(t,"d",function(){return Mn}),n.d(t,"e",function(){return Dn}),n.d(t,"f",function(){return In}),n.d(t,"p",function(){return Ln}),n.d(t,"a",function(){return un}),n.d(t,"q",function(){return bn}),n.d(t,"c",function(){return Yt}),n.d(t,"r",function(){return $t}),n.d(t,"s",function(){return jn}),n.d(t,"y",function(){return Un}),n.d(t,"z",function(){return it}),n.d(t,"A",function(){return at}),n.d(t,"v",function(){return tt}),n.d(t,"u",function(){return et}),n.d(t,"x",function(){return ot}),n.d(t,"t",function(){return Qe}),n.d(t,"w",function(){return rt});var ut=n("6Xbx"),ct=n("qbdv"),lt=n("/oeL"),ft=n("gvep"),dt=(n.n(ft),n("rlar")),pt=(n.n(dt),n("7JOC")),ht=(n.n(pt),n("+zVg")),mt=(n.n(ht),n("TQn8")),gt=(n.n(mt),n("THYR")),vt=(n.n(gt),n("1eQ7")),yt=(n.n(vt),n("WSkQ")),bt=(n.n(yt),n("lx+J")),wt=(n.n(bt),n("cPhF")),Ct=(n.n(wt),n("Tq0x")),_t=(n.n(Ct),n("bKpL")),xt=(n.n(_t),n("ueUM")),Et=(n.n(xt),n("I3ay")),St=(n.n(Et),n("TpsG")),Ot=(n.n(St),n("QU9E")),Tt=(n.n(Ot),n("TIdC")),kt=(n.n(Tt),n("fc+i")),Rt=n("422b"),Pt=(n.n(Rt),function(){function e(e,t){this.id=e,this.url=t}return e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}()),Nt=function(){function e(e,t,n){this.id=e,this.url=t,this.urlAfterRedirects=n}return e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(),At=function(){function e(e,t,n){this.id=e,this.url=t,this.reason=n}return e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(),It=function(){function e(e,t,n){this.id=e,this.url=t,this.error=n}return e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(),Dt=function(){function e(e,t,n,r){this.id=e,this.url=t,this.urlAfterRedirects=n,this.state=r}return e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(),Mt=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},e}(),Lt=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},e}(),Bt=function(){function e(e,t,n,r){this.id=e,this.url=t,this.urlAfterRedirects=n,this.state=r}return e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(),Ft=function(){function e(e,t,n,r,o){this.id=e,this.url=t,this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}return e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(),jt=function(){function e(e,t,n,r){this.id=e,this.url=t,this.urlAfterRedirects=n,this.state=r}return e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(),Vt=function(){function e(e,t,n,r){this.id=e,this.url=t,this.urlAfterRedirects=n,this.state=r}return e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(),Ht="primary",Ut=function(){function e(e){this.params=e||{}}return e.prototype.has=function(e){return this.params.hasOwnProperty(e)},e.prototype.get=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null},e.prototype.getAll=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]},Object.defineProperty(e.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),e}(),zt="ngNavigationCancelingError",qt=function(){function e(e,t){this.routes=e,this.module=t}return e}(),Wt=function(){function e(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}return Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=r(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return Xt.serialize(this)},e}(),Gt=function(){function e(e,t){var n=this;this.segments=e,this.children=t,this.parent=null,h(t,function(e,t){return e.parent=n})}return e.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(e.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return k(this)},e}(),Kt=function(){function e(e,t){this.path=e,this.parameters=t}return Object.defineProperty(e.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=r(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return A(this)},e}(),$t=function(){function e(){}return e.prototype.parse=function(e){},e.prototype.serialize=function(e){},e}(),Yt=function(){function e(){}return e.prototype.parse=function(e){var t=new en(e);return new Wt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())},e.prototype.serialize=function(e){return"/"+R(e.root,!0)+D(e.queryParams)+("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"")},e}(),Xt=new Yt,Zt=/^[^\/()?;=&#]+/,Jt=/^[^=?&#]+/,Qt=/^[^?&#]+/,en=function(){function e(e){this.url=e,this.remaining=e}return e.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())},e.prototype.parseQueryParams=function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e},e.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},e.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Ht]=new Gt(e,t)),n},e.prototype.parseSegment=function(){var e=M(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(e),new Kt(N(e),this.parseMatrixParams())},e.prototype.parseMatrixParams=function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e},e.prototype.parseParam=function(e){var t=M(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=M(this.remaining);r&&(n=r,this.capture(n))}e[N(t)]=N(n)}},e.prototype.parseQueryParam=function(e){var t=L(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=B(this.remaining);r&&(n=r,this.capture(n))}var o=N(t),i=N(n);if(e.hasOwnProperty(o)){var a=e[o];Array.isArray(a)||(a=[a],e[o]=a),a.push(i)}else e[o]=i}},e.prototype.parseParens=function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=M(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ht);var i=this.parseChildren();t[o]=1===Object.keys(i).length?i[Ht]:new Gt([],i),this.consumeOptional("//")}return t},e.prototype.peekStartsWith=function(e){return this.remaining.startsWith(e)},e.prototype.consumeOptional=function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)},e.prototype.capture=function(e){if(!this.consumeOptional(e))throw new Error('Expected "'+e+'".')},e}(),tn=function(){function e(e){this.segmentGroup=e||null}return e}(),nn=function(){function e(e){this.urlTree=e}return e}(),rn=function(){function e(e,t,n,r,o){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(lt.NgModuleRef)}return e.prototype.apply=function(){var e=this,t=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ht),n=bt.map.call(t,function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)});return xt._catch.call(n,function(t){if(t instanceof nn)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof tn)throw e.noMatchError(t);throw t})},e.prototype.match=function(e){var t=this,n=this.expandSegmentGroup(this.ngModule,this.config,e.root,Ht),r=bt.map.call(n,function(n){return t.createUrlTree(n,e.queryParams,e.fragment)});return xt._catch.call(r,function(e){if(e instanceof tn)throw t.noMatchError(e);throw e})},e.prototype.noMatchError=function(e){return new Error("Cannot match any routes. URL Segment: '"+e.segmentGroup+"'")},e.prototype.createUrlTree=function(e,t,n){var r=e.segments.length>0?new Gt([],(o={},o[Ht]=e,o)):e;return new Wt(r,t,n);var o},e.prototype.expandSegmentGroup=function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?bt.map.call(this.expandChildren(e,t,n),function(e){return new Gt([],e)}):this.expandSegment(e,n,t,n.segments,r,!0)},e.prototype.expandChildren=function(e,t,n){var r=this;return m(n.children,function(n,o){return r.expandSegmentGroup(e,t,o,n)})},e.prototype.expandSegment=function(e,t,n,r,o,i){var a=this,s=ht.of.apply(void 0,n),u=bt.map.call(s,function(s){var u=a.expandSegmentAgainstRoute(e,t,n,s,r,o,i);return xt._catch.call(u,function(e){if(e instanceof tn)return Object(ht.of)(null);throw e})}),c=Et.concatAll.call(u),l=vt.first.call(c,function(e){return!!e});return xt._catch.call(l,function(e,n){if(e instanceof St.EmptyError){if(a.noLeftoversInUrl(t,r,o))return Object(ht.of)(new Gt([],{}));throw new tn(t)}throw e})},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.expandSegmentAgainstRoute=function(e,t,n,r,o,i,a){return J(r)!==i?F(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,o,i):F(t)},e.prototype.expandSegmentAgainstRouteUsingRedirect=function(e,t,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,o,i)},e.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(e,t,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?j(i):wt.mergeMap.call(this.lineralizeSegments(n,i),function(n){var i=new Gt(n,{});return o.expandSegment(e,i,t,n,r,!1)})},e.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(e,t,n,r,o,i){var a=this,s=q(t,r,o),u=s.matched,c=s.consumedSegments,l=s.lastChild,f=s.positionalParamSegments;if(!u)return F(t);var d=this.applyRedirectCommands(c,r.redirectTo,f);return r.redirectTo.startsWith("/")?j(d):wt.mergeMap.call(this.lineralizeSegments(r,d),function(r){return a.expandSegment(e,t,n,r.concat(o.slice(l)),i,!1)})},e.prototype.matchSegmentAgainstRoute=function(e,t,n,r){var o=this;if("**"===n.path)return n.loadChildren?bt.map.call(this.configLoader.load(e.injector,n),function(e){return n._loadedConfig=e,new Gt(r,{})}):Object(ht.of)(new Gt(r,{}));var i=q(t,n,r),a=i.matched,s=i.consumedSegments,u=i.lastChild;if(!a)return F(t);var c=r.slice(u),l=this.getChildConfig(e,n);return wt.mergeMap.call(l,function(e){var n=e.module,r=e.routes,i=W(t,s,c,r),a=i.segmentGroup,u=i.slicedSegments;if(0===u.length&&a.hasChildren()){var l=o.expandChildren(n,r,a);return bt.map.call(l,function(e){return new Gt(s,e)})}if(0===r.length&&0===u.length)return Object(ht.of)(new Gt(s,{}));var f=o.expandSegment(n,a,r,u,Ht,!0);return bt.map.call(f,function(e){return new Gt(s.concat(e.segments),e.children)})})},e.prototype.getChildConfig=function(e,t){var n=this;return t.children?Object(ht.of)(new qt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(ht.of)(t._loadedConfig):wt.mergeMap.call(z(e.injector,t),function(r){return r?bt.map.call(n.configLoader.load(e.injector,t),function(e){return t._loadedConfig=e,e}):H(t)}):Object(ht.of)(new qt([],e))},e.prototype.lineralizeSegments=function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ht.of)(n);if(r.numberOfChildren>1||!r.children[Ht])return V(e.redirectTo);r=r.children[Ht]}},e.prototype.applyRedirectCommands=function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)},e.prototype.applyRedirectCreatreUrlTree=function(e,t,n,r){var o=this.createSegmentGroup(e,t.root,n,r);return new Wt(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)},e.prototype.createQueryParams=function(e,t){var n={};return h(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var o=e.substring(1);n[r]=t[o]}else n[r]=e}),n},e.prototype.createSegmentGroup=function(e,t,n,r){var o=this,i=this.createSegments(e,t.segments,n,r),a={};return h(t.children,function(t,i){a[i]=o.createSegmentGroup(e,t,n,r)}),new Gt(i,a)},e.prototype.createSegments=function(e,t,n,r){var o=this;return t.map(function(t){return t.path.startsWith(":")?o.findPosParam(e,t,r):o.findOrReturn(t,n)})},e.prototype.findPosParam=function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+e+"'. Cannot find '"+t.path+"'.");return r},e.prototype.findOrReturn=function(e,t){for(var n=0,r=0,o=t;r<o.length;r++){var i=o[r];if(i.path===e.path)return t.splice(n),i;n++}return e},e}(),on=function(){function e(e){this._root=e}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),e.prototype.parent=function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null},e.prototype.children=function(e){var t=Q(e,this._root);return t?t.children.map(function(e){return e.value}):[]},e.prototype.firstChild=function(e){var t=Q(e,this._root);return t&&t.children.length>0?t.children[0].value:null},e.prototype.siblings=function(e){var t=ee(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})},e.prototype.pathFromRoot=function(e){return ee(e,this._root).map(function(e){return e.value})},e}(),an=function(){function e(e,t){this.value=e,this.children=t}return e.prototype.toString=function(){return"TreeNode("+this.value+")"},e}(),sn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.snapshot=n,oe(r,t),r}return ut.a(t,e),t.prototype.toString=function(){return this.snapshot.toString()},t}(on),un=function(){function e(e,t,n,r,o,i,a,s){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this._futureSnapshot=s}return Object.defineProperty(e.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=bt.map.call(this.params,function(e){return r(e)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=bt.map.call(this.queryParams,function(e){return r(e)})),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},e}(),cn=function(){function e(e,t,n,r,o,i,a,s,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=a,this._routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(e.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=r(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=r(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"Route(url:'"+this.url.map(function(e){return e.toString()}).join("/")+"', path:'"+(this._routeConfig?this._routeConfig.path:"")+"')"},e}(),ln=function(e){function t(t,n){var r=e.call(this,n)||this;return r.url=t,oe(r,n),r}return ut.a(t,e),t.prototype.toString=function(){return ie(this._root)},t}(on),fn=function(){function e(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&he(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(e){return"object"==typeof e&&null!=e&&e.outlets});if(r&&r!==p(n))throw new Error("{outlets:{}} has to be the last command")}return e.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},e}(),dn=function(){function e(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}return e}(),pn=function(){function e(){}return e}(),hn=function(){function e(e,t,n,r){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r}return e.prototype.recognize=function(){try{var e=Le(this.urlTree.root,[],[],this.config).segmentGroup,t=this.processSegmentGroup(this.config,e,Ht),n=new cn([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new an(n,t),o=new ln(this.url,r);return this.inheritParamsAndData(o._root),Object(ht.of)(o)}catch(e){return new _t.Observable(function(t){return t.error(e)})}},e.prototype.inheritParamsAndData=function(e){var t=this,n=e.value,r=re(n);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})},e.prototype.processSegmentGroup=function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)},e.prototype.processChildren=function(e,t){var n=this,r=T(t,function(t,r){return n.processSegmentGroup(e,t,r)});return Ie(r),Pe(r),r},e.prototype.processSegment=function(e,t,n,r){for(var o=0,i=e;o<i.length;o++){var a=i[o];try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(e){if(!(e instanceof pn))throw e}}if(this.noLeftoversInUrl(t,n,r))return[];throw new pn},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.processSegmentAgainstRoute=function(e,t,n,r){if(e.redirectTo)throw new pn;if((e.outlet||Ht)!==r)throw new pn;if("**"===e.path){var o=n.length>0?p(n).parameters:{},i=new cn(n,o,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,ze(e),r,e.component,e,De(t),Me(t)+n.length,qe(e));return[new an(i,[])]}var a=Ae(t,e,n),s=a.consumedSegments,u=a.parameters,c=a.lastChild,l=n.slice(c),f=Ne(e),d=Le(t,s,l,f),h=d.segmentGroup,m=d.slicedSegments,g=new cn(s,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,ze(e),r,e.component,e,De(t),Me(t)+s.length,qe(e));if(0===m.length&&h.hasChildren()){var v=this.processChildren(f,h);return[new an(g,v)]}if(0===f.length&&0===m.length)return[new an(g,[])];var y=this.processSegment(f,h,m,Ht);return[new an(g,y)]},e}(),mn=function(){function e(){}return e.prototype.shouldDetach=function(e){},e.prototype.store=function(e,t){},e.prototype.shouldAttach=function(e){},e.prototype.retrieve=function(e){},e.prototype.shouldReuseRoute=function(e,t){},e}(),gn=function(){function e(){}return e.prototype.shouldDetach=function(e){return!1},e.prototype.store=function(e,t){},e.prototype.shouldAttach=function(e){return!1},e.prototype.retrieve=function(e){return null},e.prototype.shouldReuseRoute=function(e,t){return e.routeConfig===t.routeConfig},e}(),vn=new lt.InjectionToken("ROUTES"),yn=function(){function e(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}return e.prototype.load=function(e,t){var n=this;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren);return bt.map.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var o=r.create(e);return new qt(d(o.injector.get(vn)),o)})},e.prototype.loadModuleFactory=function(e){var t=this;return"string"==typeof e?Object(Ot.fromPromise)(this.loader.load(e)):wt.mergeMap.call(v(e()),function(e){return e instanceof lt.NgModuleFactory?Object(ht.of)(e):Object(Ot.fromPromise)(t.compiler.compileModuleAsync(e))})},e}(),bn=function(){function e(){}return e.prototype.shouldProcessUrl=function(e){},e.prototype.extract=function(e){},e.prototype.merge=function(e,t){},e}(),wn=function(){function e(){}return e.prototype.shouldProcessUrl=function(e){return!0},e.prototype.extract=function(e){return e},e.prototype.merge=function(e,t){return e},e}(),Cn=function(){function e(e,t,n,r,o,i,a,s){var u=this;this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=s,this.navigations=new ft.BehaviorSubject(null),this.routerEvents=new dt.Subject,this.navigationId=0,this.errorHandler=We,this.navigated=!1,this.hooks={beforePreactivation:Ge,afterPreactivation:Ge},this.urlHandlingStrategy=new wn,this.routeReuseStrategy=new gn;var c=function(e){return u.triggerEvent(new Mt(e))},l=function(e){return u.triggerEvent(new Lt(e))};this.ngModule=o.get(lt.NgModuleRef),this.resetConfig(s),this.currentUrlTree=y(),this.rawUrlTree=this.currentUrlTree,this.configLoader=new yn(i,a,c,l),this.currentRouterState=te(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return e.prototype.resetRootComponentType=function(e){this.rootComponentType=e,this.currentRouterState.root.component=this.rootComponentType},e.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},e.prototype.setUpLocationChangeListener=function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(t){var n=e.urlSerializer.parse(t.url),r="popstate"===t.type?"popstate":"hashchange";setTimeout(function(){e.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(e.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),e.prototype.triggerEvent=function(e){this.routerEvents.next(e)},e.prototype.resetConfig=function(e){s(e),this.config=e,this.navigated=!1},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},e.prototype.createUrlTree=function(e,t){void 0===t&&(t={});var n=t.relativeTo,r=t.queryParams,o=t.fragment,i=t.preserveQueryParams,a=t.queryParamsHandling,s=t.preserveFragment;Object(lt.isDevMode)()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:o,l=null;if(a)switch(a){case"merge":l=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=i?this.currentUrlTree.queryParams:r||null;return pe(u,this.currentUrlTree,e,l,c)},e.prototype.navigateByUrl=function(e,t){void 0===t&&(t={skipLocationChange:!1});var n=e instanceof Wt?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",t)},e.prototype.navigate=function(e,t){return void 0===t&&(t={skipLocationChange:!1}),Ze(e),"object"==typeof t.queryParams&&null!==t.queryParams&&(t.queryParams=this.removeEmptyProps(t.queryParams)),this.navigateByUrl(this.createUrlTree(e,t),t)},e.prototype.serializeUrl=function(e){return this.urlSerializer.serialize(e)},e.prototype.parseUrl=function(e){return this.urlSerializer.parse(e)},e.prototype.isActive=function(e,t){if(e instanceof Wt)return b(this.currentUrlTree,e,t);var n=this.urlSerializer.parse(e);return b(this.currentUrlTree,n,t)},e.prototype.removeEmptyProps=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!==r&&void 0!==r&&(t[n]=r),t},{})},e.prototype.processNavigations=function(){var e=this;mt.concatMap.call(this.navigations,function(t){return t?(e.executeScheduledNavigation(t),t.promise.catch(function(){})):Object(ht.of)(null)}).subscribe(function(){})},e.prototype.scheduleNavigation=function(e,t,n){var r=this.navigations.value;if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);var o=null,i=null,a=new Promise(function(e,t){o=e,i=t}),s=++this.navigationId;return this.navigations.next({id:s,source:t,rawUrl:e,extras:n,resolve:o,reject:i,promise:a}),a.catch(function(e){return Promise.reject(e)})},e.prototype.executeScheduledNavigation=function(e){var t=this,n=e.id,r=e.rawUrl,o=e.extras,i=e.resolve,a=e.reject,s=this.urlHandlingStrategy.extract(r),u=!this.navigated||s.toString()!==this.currentUrlTree.toString();u&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.routerEvents.next(new Pt(n,this.serializeUrl(s))),Promise.resolve().then(function(e){return t.runNavigate(s,r,!!o.skipLocationChange,!!o.replaceUrl,n,null)}).then(i,a)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.routerEvents.next(new Pt(n,this.serializeUrl(s))),Promise.resolve().then(function(e){return t.runNavigate(s,r,!1,!1,n,te(s,t.rootComponentType).snapshot)}).then(i,a)):(this.rawUrlTree=r,i(null))},e.prototype.runNavigate=function(e,t,n,r,o,a){var s=this;return o!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new At(o,this.serializeUrl(e),"Navigation ID "+o+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(u,c){var l;if(a)l=Object(ht.of)({appliedUrl:e,snapshot:a});else{var f=s.ngModule.injector,d=U(f,s.configLoader,s.urlSerializer,e,s.config);l=wt.mergeMap.call(d,function(t){return bt.map.call(Re(s.rootComponentType,s.config,t,s.serializeUrl(t)),function(n){return s.routerEvents.next(new Dt(o,s.serializeUrl(e),s.serializeUrl(t),n)),{appliedUrl:t,snapshot:n}})})}var p,h,m=wt.mergeMap.call(l,function(e){return bt.map.call(s.hooks.beforePreactivation(e.snapshot),function(){return e})}),g=bt.map.call(m,function(e){var t=e.appliedUrl,n=e.snapshot,r=s.ngModule.injector;return p=new En(n,s.currentRouterState.snapshot,r),p.traverse(s.rootContexts),{appliedUrl:t,snapshot:n}}),v=wt.mergeMap.call(g,function(t){var n=t.appliedUrl,r=t.snapshot;return s.navigationId!==o?Object(ht.of)(!1):(s.triggerEvent(new Bt(o,s.serializeUrl(e),n,r)),bt.map.call(p.checkGuards(),function(t){return s.triggerEvent(new Ft(o,s.serializeUrl(e),n,r,t)),{appliedUrl:n,snapshot:r,shouldActivate:t}}))}),y=wt.mergeMap.call(v,function(t){return s.navigationId!==o?Object(ht.of)(!1):t.shouldActivate&&p.isActivating()?(s.triggerEvent(new jt(o,s.serializeUrl(e),t.appliedUrl,t.snapshot)),bt.map.call(p.resolveData(),function(){return s.triggerEvent(new Vt(o,s.serializeUrl(e),t.appliedUrl,t.snapshot)),t})):Object(ht.of)(t)}),b=wt.mergeMap.call(y,function(e){return bt.map.call(s.hooks.afterPreactivation(e.snapshot),function(){return e})}),w=bt.map.call(b,function(e){var t=e.appliedUrl,n=e.snapshot,r=e.shouldActivate;if(r){return{appliedUrl:t,state:ue(s.routeReuseStrategy,n,s.currentRouterState),shouldActivate:r}}return{appliedUrl:t,state:null,shouldActivate:r}}),C=s.currentRouterState,_=s.currentUrlTree;w.forEach(function(e){var i=e.appliedUrl,a=e.state;if(!e.shouldActivate||o!==s.navigationId)return void(h=!1);if(s.currentUrlTree=i,s.rawUrlTree=s.urlHandlingStrategy.merge(s.currentUrlTree,t),s.currentRouterState=a,!n){var u=s.urlSerializer.serialize(s.rawUrlTree);s.location.isCurrentPathEqualTo(u)||r?s.location.replaceState(u):s.location.go(u)}new Sn(s.routeReuseStrategy,a,C).activate(s.rootContexts),h=!0}).then(function(){h?(s.navigated=!0,s.routerEvents.next(new Nt(o,s.serializeUrl(e),s.serializeUrl(s.currentUrlTree))),u(!0)):(s.resetUrlToCurrentUrlTree(),s.routerEvents.next(new At(o,s.serializeUrl(e),"")),u(!1))},function(n){if(i(n))s.resetUrlToCurrentUrlTree(),s.navigated=!0,s.routerEvents.next(new At(o,s.serializeUrl(e),n.message)),u(!1);else{s.routerEvents.next(new It(o,s.serializeUrl(e),n));try{u(s.errorHandler(n))}catch(e){c(e)}}s.currentRouterState=C,s.currentUrlTree=_,s.rawUrlTree=s.urlHandlingStrategy.merge(s.currentUrlTree,t),s.location.replaceState(s.serializeUrl(s.rawUrlTree))})})},e.prototype.resetUrlToCurrentUrlTree=function(){var e=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(e)},e}(),_n=function(){function e(e){this.path=e}return Object.defineProperty(e.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),e}(),xn=function(){function e(e,t){this.component=e,this.route=t}return e}(),En=function(){function e(e,t,n){this.future=e,this.curr=t,this.moduleInjector=n,this.canActivateChecks=[],this.canDeactivateChecks=[]}return e.prototype.traverse=function(e){var t=this.future._root,n=this.curr?this.curr._root:null;this.traverseChildRoutes(t,n,e,[t.value])},e.prototype.checkGuards=function(){var e=this;if(!this.isDeactivating()&&!this.isActivating())return Object(ht.of)(!0);var t=this.runCanDeactivateChecks();return wt.mergeMap.call(t,function(t){return t?e.runCanActivateChecks():Object(ht.of)(!1)})},e.prototype.resolveData=function(){var e=this;if(!this.isActivating())return Object(ht.of)(null);var t=Object(pt.from)(this.canActivateChecks),n=mt.concatMap.call(t,function(t){return e.runResolve(t.route)});return Ct.reduce.call(n,function(e,t){return e})},e.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},e.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},e.prototype.traverseChildRoutes=function(e,t,n,r){var o=this,i=Xe(t);e.children.forEach(function(e){o.traverseRoutes(e,i[e.value.outlet],n,r.concat([e.value])),delete i[e.value.outlet]}),h(i,function(e,t){return o.deactivateRouteAndItsChildren(e,n.getContext(t))})},e.prototype.traverseRoutes=function(e,t,n,r){var o=e.value,i=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(i&&o._routeConfig===i._routeConfig){var s=this.shouldRunGuardsAndResolvers(i,o,o._routeConfig.runGuardsAndResolvers);if(s?this.canActivateChecks.push(new _n(r)):(o.data=i.data,o._resolvedData=i._resolvedData),o.component?this.traverseChildRoutes(e,t,a?a.children:null,r):this.traverseChildRoutes(e,t,n,r),s){var u=a.outlet;this.canDeactivateChecks.push(new xn(u.component,i))}}else i&&this.deactivateRouteAndItsChildren(t,a),this.canActivateChecks.push(new _n(r)),o.component?this.traverseChildRoutes(e,null,a?a.children:null,r):this.traverseChildRoutes(e,null,n,r)},e.prototype.shouldRunGuardsAndResolvers=function(e,t,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!se(e,t)||!f(e.queryParams,t.queryParams);case"paramsChange":default:return!se(e,t)}},e.prototype.deactivateRouteAndItsChildren=function(e,t){var n=this,r=Xe(e),o=e.value;h(r,function(e,r){o.component?t?n.deactivateRouteAndItsChildren(e,t.children.getContext(r)):n.deactivateRouteAndItsChildren(e,null):n.deactivateRouteAndItsChildren(e,t)}),o.component&&t&&t.outlet&&t.outlet.isActivated?this.canDeactivateChecks.push(new xn(t.outlet.component,o)):this.canDeactivateChecks.push(new xn(null,o))},e.prototype.runCanDeactivateChecks=function(){var e=this,t=Object(pt.from)(this.canDeactivateChecks),n=wt.mergeMap.call(t,function(t){return e.runCanDeactivate(t.component,t.route)});return gt.every.call(n,function(e){return!0===e})},e.prototype.runCanActivateChecks=function(){var e=this,t=Object(pt.from)(this.canActivateChecks),n=mt.concatMap.call(t,function(t){return g(Object(pt.from)([e.runCanActivateChild(t.path),e.runCanActivate(t.route)]))});return gt.every.call(n,function(e){return!0===e})},e.prototype.runCanActivate=function(e){var t=this,n=e._routeConfig?e._routeConfig.canActivate:null;return n&&0!==n.length?g(bt.map.call(Object(pt.from)(n),function(n){var r,o=t.getToken(n,e);return r=v(o.canActivate?o.canActivate(e,t.future):o(e,t.future)),vt.first.call(r)})):Object(ht.of)(!0)},e.prototype.runCanActivateChild=function(e){var t=this,n=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(function(e){return t.extractCanActivateChild(e)}).filter(function(e){return null!==e});return g(bt.map.call(Object(pt.from)(r),function(e){return g(bt.map.call(Object(pt.from)(e.guards),function(r){var o,i=t.getToken(r,e.node);return o=v(i.canActivateChild?i.canActivateChild(n,t.future):i(n,t.future)),vt.first.call(o)}))}))},e.prototype.extractCanActivateChild=function(e){var t=e._routeConfig?e._routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null},e.prototype.runCanDeactivate=function(e,t){var n=this,r=t&&t._routeConfig?t._routeConfig.canDeactivate:null;if(!r||0===r.length)return Object(ht.of)(!0);var o=wt.mergeMap.call(Object(pt.from)(r),function(r){var o,i=n.getToken(r,t);return o=v(i.canDeactivate?i.canDeactivate(e,t,n.curr,n.future):i(e,t,n.curr,n.future)),vt.first.call(o)});return gt.every.call(o,function(e){return!0===e})},e.prototype.runResolve=function(e){var t=e._resolve;return bt.map.call(this.resolveNode(t,e),function(t){return e._resolvedData=t,e.data=Object.assign({},e.data,re(e).resolve),null})},e.prototype.resolveNode=function(e,t){var n=this,r=Object.keys(e);if(0===r.length)return Object(ht.of)({});if(1===r.length){var o=r[0];return bt.map.call(this.getResolver(e[o],t),function(e){return t={},t[o]=e,t;var t})}var i={},a=wt.mergeMap.call(Object(pt.from)(r),function(r){return bt.map.call(n.getResolver(e[r],t),function(e){return i[r]=e,e})});return bt.map.call(yt.last.call(a),function(){return i})},e.prototype.getResolver=function(e,t){var n=this.getToken(e,t);return v(n.resolve?n.resolve(t,this.future):n(t,this.future))},e.prototype.getToken=function(e,t){var n=Ye(t);return(n?n.module.injector:this.moduleInjector).get(e)},e}(),Sn=function(){function e(e,t,n){this.routeReuseStrategy=e,this.futureState=t,this.currState=n}return e.prototype.activate=function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ae(this.futureState.root),this.activateChildRoutes(t,n,e)},e.prototype.deactivateChildRoutes=function(e,t,n){var r=this,o=Xe(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,o[t],n),delete o[t]}),h(o,function(e,t){r.deactivateRouteAndItsChildren(e,n)})},e.prototype.deactivateRoutes=function(e,t,n){var r=e.value,o=t?t.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)},e.prototype.deactivateRouteAndItsChildren=function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)},e.prototype.detachAndStoreRouteSubtree=function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:o})}},e.prototype.deactivateRouteAndOutlet=function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var o=Xe(e),i=e.value.component?r.children:t;h(o,function(e,t){return n.deactivateRouteAndItsChildren(e,i)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},e.prototype.activateChildRoutes=function(e,t,n){var r=this,o=Xe(t);e.children.forEach(function(e){r.activateRoutes(e,o[e.value.outlet],n)})},e.prototype.activateRoutes=function(e,t,n){var r=e.value,o=t?t.value:null;if(ae(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var i=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),Ke(a.route)}else{var s=$e(r.snapshot),u=s?s.module.componentFactoryResolver:null;i.route=r,i.resolver=u,i.outlet&&i.outlet.activateWith(r,u),this.activateChildRoutes(e,null,i.children)}}else this.activateChildRoutes(e,null,n)},e}(),On=function(){function e(e,t,n,r,o){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(o.nativeElement,"tabindex","0")}return Object.defineProperty(e.prototype,"routerLink",{set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preserveQueryParams",{set:function(e){Object(lt.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){var e={skipLocationChange:Je(this.skipLocationChange),replaceUrl:Je(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0},Object.defineProperty(e.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Je(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Je(this.preserveFragment)})},enumerable:!0,configurable:!0}),e}();On.decorators=[{type:lt.Directive,args:[{selector:":not(a)[routerLink]"}]}],On.ctorParameters=function(){return[{type:Cn},{type:un},{type:void 0,decorators:[{type:lt.Attribute,args:["tabindex"]}]},{type:lt.Renderer2},{type:lt.ElementRef}]},On.propDecorators={queryParams:[{type:lt.Input}],fragment:[{type:lt.Input}],queryParamsHandling:[{type:lt.Input}],preserveFragment:[{type:lt.Input}],skipLocationChange:[{type:lt.Input}],replaceUrl:[{type:lt.Input}],routerLink:[{type:lt.Input}],preserveQueryParams:[{type:lt.Input}],onClick:[{type:lt.HostListener,args:["click"]}]};var Tn=function(){function e(e,t,n){var r=this;this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(function(e){e instanceof Nt&&r.updateTargetUrlAndHref()})}return Object.defineProperty(e.prototype,"routerLink",{set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preserveQueryParams",{set:function(e){Object(lt.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.updateTargetUrlAndHref()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.onClick=function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:Je(this.skipLocationChange),replaceUrl:Je(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,o),!1},e.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(e.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Je(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Je(this.preserveFragment)})},enumerable:!0,configurable:!0}),e}();Tn.decorators=[{type:lt.Directive,args:[{selector:"a[routerLink]"}]}],Tn.ctorParameters=function(){return[{type:Cn},{type:un},{type:ct.LocationStrategy}]},Tn.propDecorators={target:[{type:lt.HostBinding,args:["attr.target"]},{type:lt.Input}],queryParams:[{type:lt.Input}],fragment:[{type:lt.Input}],queryParamsHandling:[{type:lt.Input}],preserveFragment:[{type:lt.Input}],skipLocationChange:[{type:lt.Input}],replaceUrl:[{type:lt.Input}],href:[{type:lt.HostBinding}],routerLink:[{type:lt.Input}],preserveQueryParams:[{type:lt.Input}],onClick:[{type:lt.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};var kn=function(){function e(e,t,n,r){var o=this;this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.classes=[],this.active=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(function(e){e instanceof Nt&&o.update()})}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.links.changes.subscribe(function(t){return e.update()}),this.linksWithHrefs.changes.subscribe(function(t){return e.update()}),this.update()},Object.defineProperty(e.prototype,"routerLinkActive",{set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.update()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.update=function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var t=e.hasActiveLinks();e.active!==t&&(e.active=t,e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})},e.prototype.isLinkActive=function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}},e.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},e}();kn.decorators=[{type:lt.Directive,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],kn.ctorParameters=function(){return[{type:Cn},{type:lt.ElementRef},{type:lt.Renderer2},{type:lt.ChangeDetectorRef}]},kn.propDecorators={links:[{type:lt.ContentChildren,args:[On,{descendants:!0}]}],linksWithHrefs:[{type:lt.ContentChildren,args:[Tn,{descendants:!0}]}],routerLinkActiveOptions:[{type:lt.Input}],routerLinkActive:[{type:lt.Input}]};var Rn=function(){function e(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pn,this.attachRef=null}return e}(),Pn=function(){function e(){this.contexts=new Map}return e.prototype.onChildOutletCreated=function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)},e.prototype.onChildOutletDestroyed=function(e){var t=this.getContext(e);t&&(t.outlet=null)},e.prototype.onOutletDeactivated=function(){var e=this.contexts;return this.contexts=new Map,e},e.prototype.onOutletReAttached=function(e){this.contexts=e},e.prototype.getOrCreateContext=function(e){var t=this.getContext(e);return t||(t=new Rn,this.contexts.set(e,t)),t},e.prototype.getContext=function(e){return this.contexts.get(e)||null},e}(),Nn=function(){function e(e,t,n,r,o){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new lt.EventEmitter,this.deactivateEvents=new lt.EventEmitter,this.name=r||Ht,e.onChildOutletCreated(this.name,this)}return e.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},e.prototype.ngOnInit=function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}},Object.defineProperty(e.prototype,"locationInjector",{get:function(){return this.location.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationFactoryResolver",{get:function(){return this.resolver},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),e.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e},e.prototype.attach=function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)},e.prototype.deactivate=function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}},e.prototype.activateWith=function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=e._futureSnapshot,r=n._routeConfig.component;t=t||this.resolver;var o=t.resolveComponentFactory(r),i=this.parentContexts.getOrCreateContext(this.name).children,a=new An(e,i,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,a),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},e}();Nn.decorators=[{type:lt.Directive,args:[{selector:"router-outlet",exportAs:"outlet"}]}],Nn.ctorParameters=function(){return[{type:Pn},{type:lt.ViewContainerRef},{type:lt.ComponentFactoryResolver},{type:void 0,decorators:[{type:lt.Attribute,args:["name"]}]},{type:lt.ChangeDetectorRef}]},Nn.propDecorators={activateEvents:[{type:lt.Output,args:["activate"]}],deactivateEvents:[{type:lt.Output,args:["deactivate"]}]};var An=function(){function e(e,t,n){this.route=e,this.childContexts=t,this.parent=n}return e.prototype.get=function(e,t){return e===un?this.route:e===Pn?this.childContexts:this.parent.get(e,t)},e}(),In=function(){function e(){}return e.prototype.preload=function(e,t){},e}(),Dn=function(){function e(){}return e.prototype.preload=function(e,t){return xt._catch.call(t(),function(){return Object(ht.of)(null)})},e}(),Mn=function(){function e(){}return e.prototype.preload=function(e,t){return Object(ht.of)(null)},e}(),Ln=function(){function e(e,t,n,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o;var i=function(t){return e.triggerEvent(new Mt(t))},a=function(t){return e.triggerEvent(new Lt(t))};this.loader=new yn(t,n,i,a)}return e.prototype.setUpPreloading=function(){var e=this,t=Rt.filter.call(this.router.events,function(e){return e instanceof Nt});this.subscription=mt.concatMap.call(t,function(){return e.preload()}).subscribe(function(){})},e.prototype.preload=function(){var e=this.injector.get(lt.NgModuleRef);return this.processRoutes(e,this.router.config)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.processRoutes=function(e,t){for(var n=[],r=0,o=t;r<o.length;r++){var i=o[r];if(i.loadChildren&&!i.canLoad&&i._loadedConfig){var a=i._loadedConfig;n.push(this.processRoutes(a.module,a.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children))}return Tt.mergeAll.call(Object(pt.from)(n))},e.prototype.preloadConfig=function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){var r=n.loader.load(e.injector,t);return wt.mergeMap.call(r,function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})})},e}();Ln.decorators=[{type:lt.Injectable}],Ln.ctorParameters=function(){return[{type:Cn},{type:lt.NgModuleFactoryLoader},{type:lt.Compiler},{type:lt.Injector},{type:In}]};var Bn=[Nn,On,Tn,kn],Fn=new lt.InjectionToken("ROUTER_CONFIGURATION"),jn=new lt.InjectionToken("ROUTER_FORROOT_GUARD"),Vn=[ct.Location,{provide:$t,useClass:Yt},{provide:Cn,useFactory:rt,deps:[lt.ApplicationRef,$t,Pn,ct.Location,lt.Injector,lt.NgModuleFactoryLoader,lt.Compiler,vn,Fn,[bn,new lt.Optional],[mn,new lt.Optional]]},Pn,{provide:un,useFactory:ot,deps:[Cn]},{provide:lt.NgModuleFactoryLoader,useClass:lt.SystemJsNgModuleLoader},Ln,Mn,Dn,{provide:Fn,useValue:{enableTracing:!1}}],Hn=function(){function e(e,t){}return e.forRoot=function(t,n){return{ngModule:e,providers:[Vn,nt(t),{provide:jn,useFactory:tt,deps:[[Cn,new lt.Optional,new lt.SkipSelf]]},{provide:Fn,useValue:n||{}},{provide:ct.LocationStrategy,useFactory:et,deps:[ct.PlatformLocation,[new lt.Inject(ct.APP_BASE_HREF),new lt.Optional],Fn]},{provide:In,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Mn},{provide:lt.NgProbeToken,multi:!0,useFactory:Qe},st()]}},e.forChild=function(t){return{ngModule:e,providers:[nt(t)]}},e}();Hn.decorators=[{type:lt.NgModule,args:[{declarations:Bn,exports:Bn}]}],Hn.ctorParameters=function(){return[{type:void 0,decorators:[{type:lt.Optional},{type:lt.Inject,args:[jn]}]},{type:Cn,decorators:[{type:lt.Optional}]}]};var Un=function(){function e(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new dt.Subject}return e.prototype.appInitializer=function(){var e=this;return this.injector.get(ct.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(Cn),o=e.injector.get(Fn);if(e.isLegacyDisabled(o)||e.isLegacyEnabled(o))t(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");r.hooks.afterPreactivation=function(){return e.initNavigation?Object(ht.of)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n})},e.prototype.bootstrapListener=function(e){var t=this.injector.get(Fn),n=this.injector.get(Ln),r=this.injector.get(Cn),o=this.injector.get(lt.ApplicationRef);e===o.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},e.prototype.isLegacyEnabled=function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation},e.prototype.isLegacyDisabled=function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation},e}();Un.decorators=[{type:lt.Injectable}],Un.ctorParameters=function(){return[{type:lt.Injector}]};var zn=new lt.InjectionToken("Router Initializer");new lt.Version("4.4.7")},Blbb:function(e,t,n){"use strict";t.TEMPLATE='<div\n    [ngStyle]="{\'top.px\': top, \'left.px\': left, \'width.px\': width}">\n\n    <div class="filter"\n        *ngIf="!multiple && filterEnabled">\n        <input\n            #filterInput\n            (click)="onSingleFilterClick($event)"\n            (input)="onSingleFilterInput($event)"\n            (keydown)="onSingleFilterKeydown($event)">\n    </div>\n\n    <div class="options"\n        #optionsList>\n        <ul\n            (wheel)="onOptionsWheel($event)">\n            <li *ngFor="let option of optionList.filtered"\n                [ngClass]="{\'highlighted\': option.highlighted, \'selected\': option.selected, \'disabled\': option.disabled}"\n                [ngStyle]="getOptionStyle(option)"\n                (click)="onOptionClick(option)"\n                (mouseover)="onOptionMouseover(option)">\n                {{option.label}}\n            </li>\n            <li\n                *ngIf="!optionList.hasShown"\n                class="message">\n                {{notFoundMsg}}\n            </li>\n        </ul>\n    </div>\n</div>\n'},CE6k:function(e,t,n){"use strict";function r(){return o.share()(this)}var o=n("HwxE");t.share=r},CPp0:function(e,t,n){"use strict";function r(e){if("string"!=typeof e)return e;switch(e.toUpperCase()){case"GET":return w.Get;case"POST":return w.Post;case"PUT":return w.Put;case"DELETE":return w.Delete;case"OPTIONS":return w.Options;case"HEAD":return w.Head;case"PATCH":return w.Patch}throw new Error('Invalid request method. The method "'+e+'" is not supported.')}function o(e){return"responseURL"in e?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}function i(e){for(var t=new Uint16Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e.charCodeAt(n);return t.buffer}function a(e){void 0===e&&(e="");var t=new Map;if(e.length>0){e.split("&").forEach(function(e){var n=e.indexOf("="),r=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)],o=r[0],i=r[1],a=t.get(o)||[];a.push(i),t.set(o,a)})}return t}function s(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function u(){var e="object"==typeof window?window:{};return null===F&&(F=e[B]={}),F}function c(e){var t=new I;return Object.keys(e).forEach(function(n){var r=e[n];r&&Array.isArray(r)?r.forEach(function(e){return t.append(n,e.toString())}):t.append(n,r.toString())}),t}function l(e,t){return e.createConnection(t).response}function f(e,t,n,r){var o=e;return t?o.merge(new X({method:t.method||n,url:t.url||r,search:t.search,params:t.params,headers:t.headers,body:t.body,withCredentials:t.withCredentials,responseType:t.responseType})):o.merge(new X({method:n,url:r}))}function d(){return new $}function p(e,t){return new oe(e,t)}function h(e,t){return new ie(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"BrowserXhr",function(){return b}),n.d(t,"JSONPBackend",function(){return q}),n.d(t,"JSONPConnection",function(){return U}),n.d(t,"CookieXSRFStrategy",function(){return $}),n.d(t,"XHRBackend",function(){return Y}),n.d(t,"XHRConnection",function(){return K}),n.d(t,"BaseRequestOptions",function(){return Z}),n.d(t,"RequestOptions",function(){return X}),n.d(t,"BaseResponseOptions",function(){return T}),n.d(t,"ResponseOptions",function(){return O}),n.d(t,"ReadyState",function(){return C}),n.d(t,"RequestMethod",function(){return w}),n.d(t,"ResponseContentType",function(){return E}),n.d(t,"ResponseType",function(){return _}),n.d(t,"Headers",function(){return S}),n.d(t,"Http",function(){return oe}),n.d(t,"Jsonp",function(){return ie}),n.d(t,"HttpModule",function(){return ae}),n.d(t,"JsonpModule",function(){return se}),n.d(t,"Connection",function(){return R}),n.d(t,"ConnectionBackend",function(){return k}),n.d(t,"XSRFStrategy",function(){return P}),n.d(t,"Request",function(){return J}),n.d(t,"Response",function(){return M}),n.d(t,"QueryEncoder",function(){return A}),n.d(t,"URLSearchParams",function(){return I}),n.d(t,"VERSION",function(){return ue}),n.d(t,"\u0275g",function(){return j}),n.d(t,"\u0275a",function(){return W}),n.d(t,"\u0275f",function(){return D}),n.d(t,"\u0275b",function(){return d}),n.d(t,"\u0275c",function(){return p}),n.d(t,"\u0275d",function(){return h});var m=n("6Xbx"),g=n("/oeL"),v=n("bKpL"),y=(n.n(v),n("fc+i")),b=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e}();b.decorators=[{type:g.Injectable}],b.ctorParameters=function(){return[]};var w={};w.Get=0,w.Post=1,w.Put=2,w.Delete=3,w.Options=4,w.Head=5,w.Patch=6,w[w.Get]="Get",w[w.Post]="Post",w[w.Put]="Put",w[w.Delete]="Delete",w[w.Options]="Options",w[w.Head]="Head",w[w.Patch]="Patch";var C={};C.Unsent=0,C.Open=1,C.HeadersReceived=2,C.Loading=3,C.Done=4,C.Cancelled=5,C[C.Unsent]="Unsent",C[C.Open]="Open",C[C.HeadersReceived]="HeadersReceived",C[C.Loading]="Loading",C[C.Done]="Done",C[C.Cancelled]="Cancelled";var _={};_.Basic=0,_.Cors=1,_.Default=2,_.Error=3,_.Opaque=4,_[_.Basic]="Basic",_[_.Cors]="Cors",_[_.Default]="Default",_[_.Error]="Error",_[_.Opaque]="Opaque";var x={};x.NONE=0,x.JSON=1,x.FORM=2,x.FORM_DATA=3,x.TEXT=4,x.BLOB=5,x.ARRAY_BUFFER=6,x[x.NONE]="NONE",x[x.JSON]="JSON",x[x.FORM]="FORM",x[x.FORM_DATA]="FORM_DATA",x[x.TEXT]="TEXT",x[x.BLOB]="BLOB",x[x.ARRAY_BUFFER]="ARRAY_BUFFER";var E={};E.Text=0,E.Json=1,E.ArrayBuffer=2,E.Blob=3,E[E.Text]="Text",E[E.Json]="Json",E[E.ArrayBuffer]="ArrayBuffer",E[E.Blob]="Blob";var S=function(){function e(t){var n=this;if(this._headers=new Map,this._normalizedNames=new Map,t)return t instanceof e?void t.forEach(function(e,t){e.forEach(function(e){return n.append(t,e)})}):void Object.keys(t).forEach(function(e){var r=Array.isArray(t[e])?t[e]:[t[e]];n.delete(e),r.forEach(function(t){return n.append(e,t)})})}return e.fromResponseHeaderString=function(t){var n=new e;return t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),o=e.slice(t+1).trim();n.set(r,o)}}),n},e.prototype.append=function(e,t){var n=this.getAll(e);null===n?this.set(e,t):n.push(t)},e.prototype.delete=function(e){var t=e.toLowerCase();this._normalizedNames.delete(t),this._headers.delete(t)},e.prototype.forEach=function(e){var t=this;this._headers.forEach(function(n,r){return e(n,t._normalizedNames.get(r),t._headers)})},e.prototype.get=function(e){var t=this.getAll(e);return null===t?null:t.length>0?t[0]:null},e.prototype.has=function(e){return this._headers.has(e.toLowerCase())},e.prototype.keys=function(){return Array.from(this._normalizedNames.values())},e.prototype.set=function(e,t){Array.isArray(t)?t.length&&this._headers.set(e.toLowerCase(),[t.join(",")]):this._headers.set(e.toLowerCase(),[t]),this.mayBeSetNormalizedName(e)},e.prototype.values=function(){return Array.from(this._headers.values())},e.prototype.toJSON=function(){var e=this,t={};return this._headers.forEach(function(n,r){var o=[];n.forEach(function(e){return o.push.apply(o,e.split(","))}),t[e._normalizedNames.get(r)]=o}),t},e.prototype.getAll=function(e){return this.has(e)?this._headers.get(e.toLowerCase())||null:null},e.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},e.prototype.mayBeSetNormalizedName=function(e){var t=e.toLowerCase();this._normalizedNames.has(t)||this._normalizedNames.set(t,e)},e}(),O=function(){function e(e){void 0===e&&(e={});var t=e.body,n=e.status,r=e.headers,o=e.statusText,i=e.type,a=e.url;this.body=null!=t?t:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=o?o:null,this.type=null!=i?i:null,this.url=null!=a?a:null}return e.prototype.merge=function(t){return new e({body:t&&null!=t.body?t.body:this.body,status:t&&null!=t.status?t.status:this.status,headers:t&&null!=t.headers?t.headers:this.headers,statusText:t&&null!=t.statusText?t.statusText:this.statusText,type:t&&null!=t.type?t.type:this.type,url:t&&null!=t.url?t.url:this.url})},e}(),T=function(e){function t(){return e.call(this,{status:200,statusText:"Ok",type:_.Default,headers:new S})||this}return m.a(t,e),t}(O);T.decorators=[{type:g.Injectable}],T.ctorParameters=function(){return[]};var k=function(){function e(){}return e.prototype.createConnection=function(e){},e}(),R=function(){function e(){}return e}(),P=function(){function e(){}return e.prototype.configureRequest=function(e){},e}(),N=function(e){return e>=200&&e<300},A=function(){function e(){}return e.prototype.encodeKey=function(e){return s(e)},e.prototype.encodeValue=function(e){return s(e)},e}(),I=function(){function e(e,t){void 0===e&&(e=""),void 0===t&&(t=new A),this.rawParams=e,this.queryEncoder=t,this.paramsMap=a(e)}return e.prototype.clone=function(){var t=new e("",this.queryEncoder);return t.appendAll(this),t},e.prototype.has=function(e){return this.paramsMap.has(e)},e.prototype.get=function(e){var t=this.paramsMap.get(e);return Array.isArray(t)?t[0]:null},e.prototype.getAll=function(e){return this.paramsMap.get(e)||[]},e.prototype.set=function(e,t){if(void 0===t||null===t)return void this.delete(e);var n=this.paramsMap.get(e)||[];n.length=0,n.push(t),this.paramsMap.set(e,n)},e.prototype.setAll=function(e){var t=this;e.paramsMap.forEach(function(e,n){var r=t.paramsMap.get(n)||[];r.length=0,r.push(e[0]),t.paramsMap.set(n,r)})},e.prototype.append=function(e,t){if(void 0!==t&&null!==t){var n=this.paramsMap.get(e)||[];n.push(t),this.paramsMap.set(e,n)}},e.prototype.appendAll=function(e){var t=this;e.paramsMap.forEach(function(e,n){for(var r=t.paramsMap.get(n)||[],o=0;o<e.length;++o)r.push(e[o]);t.paramsMap.set(n,r)})},e.prototype.replaceAll=function(e){var t=this;e.paramsMap.forEach(function(e,n){var r=t.paramsMap.get(n)||[];r.length=0;for(var o=0;o<e.length;++o)r.push(e[o]);t.paramsMap.set(n,r)})},e.prototype.toString=function(){var e=this,t=[];return this.paramsMap.forEach(function(n,r){n.forEach(function(n){return t.push(e.queryEncoder.encodeKey(r)+"="+e.queryEncoder.encodeValue(n))})}),t.join("&")},e.prototype.delete=function(e){this.paramsMap.delete(e)},e}(),D=function(){function e(){}return e.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},e.prototype.text=function(e){if(void 0===e&&(e="legacy"),this._body instanceof I)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(e){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+e)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},e.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:i(this.text())},e.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},e}(),M=function(e){function t(t){var n=e.call(this)||this;return n._body=t.body,n.status=t.status,n.ok=n.status>=200&&n.status<=299,n.statusText=t.statusText,n.headers=t.headers,n.type=t.type,n.url=t.url,n}return m.a(t,e),t.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},t}(D),L=0,B="__ng_jsonp__",F=null,j=function(){function e(){}return e.prototype.build=function(e){var t=document.createElement("script");return t.src=e,t},e.prototype.nextRequestID=function(){return"__req"+L++},e.prototype.requestCallback=function(e){return B+"."+e+".finished"},e.prototype.exposeConnection=function(e,t){u()[e]=t},e.prototype.removeConnection=function(e){u()[e]=null},e.prototype.send=function(e){document.body.appendChild(e)},e.prototype.cleanup=function(e){e.parentNode&&e.parentNode.removeChild(e)},e}();j.decorators=[{type:g.Injectable}],j.ctorParameters=function(){return[]};var V="JSONP injected script did not invoke callback.",H="JSONP requests must use GET request method.",U=function(){function e(){}return e.prototype.finished=function(e){},e}(),z=function(e){function t(t,n,r){var o=e.call(this)||this;if(o._dom=n,o.baseResponseOptions=r,o._finished=!1,t.method!==w.Get)throw new TypeError(H);return o.request=t,o.response=new v.Observable(function(e){o.readyState=C.Loading;var i=o._id=n.nextRequestID();n.exposeConnection(i,o);var a=n.requestCallback(o._id),s=t.url;s.indexOf("=JSONP_CALLBACK&")>-1?s=s.replace("=JSONP_CALLBACK&","="+a+"&"):s.lastIndexOf("=JSONP_CALLBACK")===s.length-"=JSONP_CALLBACK".length&&(s=s.substring(0,s.length-"=JSONP_CALLBACK".length)+"="+a);var u=o._script=n.build(s),c=function(t){if(o.readyState!==C.Cancelled){if(o.readyState=C.Done,n.cleanup(u),!o._finished){var i=new O({body:V,type:_.Error,url:s});return r&&(i=r.merge(i)),void e.error(new M(i))}var a=new O({body:o._responseData,url:s});o.baseResponseOptions&&(a=o.baseResponseOptions.merge(a)),e.next(new M(a)),e.complete()}},l=function(t){if(o.readyState!==C.Cancelled){o.readyState=C.Done,n.cleanup(u);var i=new O({body:t.message,type:_.Error});r&&(i=r.merge(i)),e.error(new M(i))}};return u.addEventListener("load",c),u.addEventListener("error",l),n.send(u),function(){o.readyState=C.Cancelled,u.removeEventListener("load",c),u.removeEventListener("error",l),o._dom.cleanup(u)}}),o}return m.a(t,e),t.prototype.finished=function(e){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==C.Cancelled&&(this._responseData=e)},t}(U),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m.a(t,e),t}(k),W=function(e){function t(t,n){var r=e.call(this)||this;return r._browserJSONP=t,r._baseResponseOptions=n,r}return m.a(t,e),t.prototype.createConnection=function(e){return new z(e,this._browserJSONP,this._baseResponseOptions)},t}(q);W.decorators=[{type:g.Injectable}],W.ctorParameters=function(){return[{type:j},{type:O}]};var G=/^\)\]\}',?\n/,K=function(){function e(e,t,n){var r=this;this.request=e,this.response=new v.Observable(function(i){var a=t.build();a.open(w[e.method].toUpperCase(),e.url),null!=e.withCredentials&&(a.withCredentials=e.withCredentials);var s=function(){var t=1223===a.status?204:a.status,r=null;204!==t&&"string"==typeof(r=void 0===a.response?a.responseText:a.response)&&(r=r.replace(G,"")),0===t&&(t=r?200:0);var s=S.fromResponseHeaderString(a.getAllResponseHeaders()),u=o(a)||e.url,c=a.statusText||"OK",l=new O({body:r,status:t,headers:s,statusText:c,url:u});null!=n&&(l=n.merge(l));var f=new M(l);if(f.ok=N(t),f.ok)return i.next(f),void i.complete();i.error(f)},u=function(e){var t=new O({body:e,type:_.Error,status:a.status,statusText:a.statusText});null!=n&&(t=n.merge(t)),i.error(new M(t))};if(r.setDetectedContentType(e,a),null==e.headers&&(e.headers=new S),e.headers.has("Accept")||e.headers.append("Accept","application/json, text/plain, */*"),e.headers.forEach(function(e,t){return a.setRequestHeader(t,e.join(","))}),null!=e.responseType&&null!=a.responseType)switch(e.responseType){case E.ArrayBuffer:a.responseType="arraybuffer";break;case E.Json:a.responseType="json";break;case E.Text:a.responseType="text";break;case E.Blob:a.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return a.addEventListener("load",s),a.addEventListener("error",u),a.send(r.request.getBody()),function(){a.removeEventListener("load",s),a.removeEventListener("error",u),a.abort()}})}return e.prototype.setDetectedContentType=function(e,t){if(null==e.headers||null==e.headers.get("Content-Type"))switch(e.contentType){case x.NONE:break;case x.JSON:t.setRequestHeader("content-type","application/json");break;case x.FORM:t.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case x.TEXT:t.setRequestHeader("content-type","text/plain");break;case x.BLOB:var n=e.blob();n.type&&t.setRequestHeader("content-type",n.type)}},e}(),$=function(){function e(e,t){void 0===e&&(e="XSRF-TOKEN"),void 0===t&&(t="X-XSRF-TOKEN"),this._cookieName=e,this._headerName=t}return e.prototype.configureRequest=function(e){var t=Object(y.t)().getCookie(this._cookieName);t&&e.headers.set(this._headerName,t)},e}(),Y=function(){function e(e,t,n){this._browserXHR=e,this._baseResponseOptions=t,this._xsrfStrategy=n}return e.prototype.createConnection=function(e){return this._xsrfStrategy.configureRequest(e),new K(e,this._browserXHR,this._baseResponseOptions)},e}();Y.decorators=[{type:g.Injectable}],Y.ctorParameters=function(){return[{type:b},{type:O},{type:P}]};var X=function(){function e(e){void 0===e&&(e={});var t=e.method,n=e.headers,o=e.body,i=e.url,a=e.search,s=e.params,u=e.withCredentials,c=e.responseType;this.method=null!=t?r(t):null,this.headers=null!=n?n:null,this.body=null!=o?o:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(s||a),this.withCredentials=null!=u?u:null,this.responseType=null!=c?c:null}return Object.defineProperty(e.prototype,"search",{get:function(){return this.params},set:function(e){this.params=e},enumerable:!0,configurable:!0}),e.prototype.merge=function(t){return new e({method:t&&null!=t.method?t.method:this.method,headers:t&&null!=t.headers?t.headers:new S(this.headers),body:t&&null!=t.body?t.body:this.body,url:t&&null!=t.url?t.url:this.url,params:t&&this._mergeSearchParams(t.params||t.search),withCredentials:t&&null!=t.withCredentials?t.withCredentials:this.withCredentials,responseType:t&&null!=t.responseType?t.responseType:this.responseType})},e.prototype._mergeSearchParams=function(e){return e?e instanceof I?e.clone():"string"==typeof e?new I(e):this._parseParams(e):this.params},e.prototype._parseParams=function(e){var t=this;void 0===e&&(e={});var n=new I;return Object.keys(e).forEach(function(r){var o=e[r];Array.isArray(o)?o.forEach(function(e){return t._appendParam(r,e,n)}):t._appendParam(r,o,n)}),n},e.prototype._appendParam=function(e,t,n){"string"!=typeof t&&(t=JSON.stringify(t)),n.append(e,t)},e}(),Z=function(e){function t(){return e.call(this,{method:w.Get,headers:new S})||this}return m.a(t,e),t}(X);Z.decorators=[{type:g.Injectable}],Z.ctorParameters=function(){return[]};var J=function(e){function t(t){var n=e.call(this)||this,o=t.url;n.url=t.url;var i=t.params||t.search;if(i){var a=void 0;if(a="object"!=typeof i||i instanceof I?i.toString():c(i).toString(),a.length>0){var s="?";-1!=n.url.indexOf("?")&&(s="&"==n.url[n.url.length-1]?"":"&"),n.url=o+s+a}}return n._body=t.body,n.method=r(t.method),n.headers=new S(t.headers),n.contentType=n.detectContentType(),n.withCredentials=t.withCredentials,n.responseType=t.responseType,n}return m.a(t,e),t.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return x.JSON;case"application/x-www-form-urlencoded":return x.FORM;case"multipart/form-data":return x.FORM_DATA;case"text/plain":case"text/html":return x.TEXT;case"application/octet-stream":return this._body instanceof re?x.ARRAY_BUFFER:x.BLOB;default:return this.detectContentTypeFromBody()}},t.prototype.detectContentTypeFromBody=function(){return null==this._body?x.NONE:this._body instanceof I?x.FORM:this._body instanceof te?x.FORM_DATA:this._body instanceof ne?x.BLOB:this._body instanceof re?x.ARRAY_BUFFER:this._body&&"object"==typeof this._body?x.JSON:x.TEXT},t.prototype.getBody=function(){switch(this.contentType){case x.JSON:case x.FORM:return this.text();case x.FORM_DATA:return this._body;case x.TEXT:return this.text();case x.BLOB:return this.blob();case x.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},t}(D),Q=function(){},ee="object"==typeof window?window:Q,te=ee.FormData||Q,ne=ee.Blob||Q,re=ee.ArrayBuffer||Q,oe=function(){function e(e,t){this._backend=e,this._defaultOptions=t}return e.prototype.request=function(e,t){var n;if("string"==typeof e)n=l(this._backend,new J(f(this._defaultOptions,t,w.Get,e)));else{if(!(e instanceof J))throw new Error("First argument must be a url string or Request instance.");n=l(this._backend,e)}return n},e.prototype.get=function(e,t){return this.request(new J(f(this._defaultOptions,t,w.Get,e)))},e.prototype.post=function(e,t,n){return this.request(new J(f(this._defaultOptions.merge(new X({body:t})),n,w.Post,e)))},e.prototype.put=function(e,t,n){return this.request(new J(f(this._defaultOptions.merge(new X({body:t})),n,w.Put,e)))},e.prototype.delete=function(e,t){return this.request(new J(f(this._defaultOptions,t,w.Delete,e)))},e.prototype.patch=function(e,t,n){return this.request(new J(f(this._defaultOptions.merge(new X({body:t})),n,w.Patch,e)))},e.prototype.head=function(e,t){return this.request(new J(f(this._defaultOptions,t,w.Head,e)))},e.prototype.options=function(e,t){return this.request(new J(f(this._defaultOptions,t,w.Options,e)))},e}();oe.decorators=[{type:g.Injectable}],oe.ctorParameters=function(){return[{type:k},{type:X}]};var ie=function(e){function t(t,n){return e.call(this,t,n)||this}return m.a(t,e),t.prototype.request=function(e,t){if("string"==typeof e&&(e=new J(f(this._defaultOptions,t,w.Get,e))),!(e instanceof J))throw new Error("First argument must be a url string or Request instance.");if(e.method!==w.Get)throw new Error("JSONP requests must use GET request method.");return l(this._backend,e)},t}(oe);ie.decorators=[{type:g.Injectable}],ie.ctorParameters=function(){return[{type:k},{type:X}]};var ae=function(){function e(){}return e}();ae.decorators=[{type:g.NgModule,args:[{providers:[{provide:oe,useFactory:p,deps:[Y,X]},b,{provide:X,useClass:Z},{provide:O,useClass:T},Y,{provide:P,useFactory:d}]}]}],ae.ctorParameters=function(){return[]};var se=function(){function e(){}return e}();se.decorators=[{type:g.NgModule,args:[{providers:[{provide:ie,useFactory:h,deps:[q,X]},j,{provide:X,useClass:Z},{provide:O,useClass:T},{provide:q,useClass:W}]}]}],se.ctorParameters=function(){return[]};var ue=new g.Version("4.4.7")},DP67:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var o=n("zijX");t.getSymbolObservable=r,t.observable=r(o.root),t.$$observable=t.observable},Emqh:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(t,e),t}(Error);t.UnsubscriptionError=o},"Eyk+":function(e,t,n){"use strict";var r=n("99Rq"),o=n("nh1/"),i=function(){function e(e){this._highlightedOption=null,void 0!==e&&null!==e||(e=[]),this._options=e.map(function(e){var t=new r.Option(e.value,e.label);return e.disabled&&t.disable(),t}),this._hasShown=this._options.length>0,this.highlight()}return Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.getOptionsByValue=function(e){return this.options.filter(function(t){return t.value===e})},Object.defineProperty(e.prototype,"value",{get:function(){return this.selection.map(function(e){return e.value})},set:function(e){e=void 0===e||null===e?[]:e,this.options.forEach(function(t){t.selected=e.indexOf(t.value)>-1})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this.options.filter(function(e){return e.selected})},enumerable:!0,configurable:!0}),e.prototype.select=function(e,t){t||this.clearSelection(),e.selected=!0},e.prototype.deselect=function(e){e.selected=!1},e.prototype.clearSelection=function(){this.options.forEach(function(e){e.selected=!1})},Object.defineProperty(e.prototype,"filtered",{get:function(){return this.options.filter(function(e){return e.shown})},enumerable:!0,configurable:!0}),e.prototype.filter=function(e){var t=!1;""===e.trim()?(this.resetFilter(),t=this.options.length>0):this.options.forEach(function(n){var r=o.Diacritics.strip(n.label).toUpperCase(),i=o.Diacritics.strip(e).toUpperCase();n.shown=r.indexOf(i)>-1,n.shown&&(t=!0)});var n=this.hasShown&&!t;return this.highlight(),this._hasShown=t,n},e.prototype.resetFilter=function(){this.options.forEach(function(e){e.shown=!0})},Object.defineProperty(e.prototype,"highlightedOption",{get:function(){return this._highlightedOption},enumerable:!0,configurable:!0}),e.prototype.highlight=function(){var e=this.hasShownSelected()?this.getFirstShownSelected():this.getFirstShown();this.highlightOption(e)},e.prototype.highlightOption=function(e){this.clearHighlightedOption(),null!==e&&(e.highlighted=!0,this._highlightedOption=e)},e.prototype.highlightNextOption=function(){var e=this.filtered,t=this.getHighlightedIndexFromList(e);t>-1&&t<e.length-1&&this.highlightOption(e[t+1])},e.prototype.highlightPreviousOption=function(){var e=this.filtered,t=this.getHighlightedIndexFromList(e);t>0&&this.highlightOption(e[t-1])},e.prototype.clearHighlightedOption=function(){null!==this.highlightedOption&&(this.highlightedOption.highlighted=!1,this._highlightedOption=null)},e.prototype.getHighlightedIndexFromList=function(e){for(var t=0;t<e.length;t++)if(e[t].highlighted)return t;return-1},e.prototype.getHighlightedIndex=function(){return this.getHighlightedIndexFromList(this.filtered)},Object.defineProperty(e.prototype,"hasShown",{get:function(){return this._hasShown},enumerable:!0,configurable:!0}),e.prototype.hasSelected=function(){return this.options.some(function(e){return e.selected})},e.prototype.hasShownSelected=function(){return this.options.some(function(e){return e.shown&&e.selected})},e.prototype.getFirstShown=function(){for(var e=0,t=this.options;e<t.length;e++){var n=t[e];if(n.shown)return n}return null},e.prototype.getFirstShownSelected=function(){for(var e=0,t=this.options;e<t.length;e++){var n=t[e];if(n.shown&&n.selected)return n}return null},e.equalValues=function(e,t){if(e.length!==t.length)return!1;var n=e.slice().sort(),r=t.slice().sort();return n.every(function(e,t){return e===r[t]})},e}();t.OptionList=i},F9px:function(e,t,n){"use strict";function r(){return function(e){return e.lift(new a(e))}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("T14+");t.refCount=r;var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new s(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),s=function(e){function t(t,n){e.call(this,t),this.connectable=n}return o(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(!e)return void(this.connection=null);this.connectable=null;var t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},t}(i.Subscriber)},Fhmd:function(e,t,n){"use strict";var r=n("jUlM");t.forkJoin=r.ForkJoinObservable.create},"G1/N":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("/oeL"),o=function(){function e(){}return e}();o.decorators=[{type:r.Injectable}],o.ctorParameters=function(){return[]},t.FlashMessagesService=o},GAw1:function(e,t,n){"use strict";t.STYLE="select-dropdown {\n  box-sizing: border-box;\n  font-family: Sans-Serif; }\n  select-dropdown * {\n    box-sizing: border-box;\n    font-family: Sans-Serif; }\n  select-dropdown > div {\n    background-color: #fff;\n    border: 1px solid #ccc;\n    border-top: none;\n    box-sizing: border-box;\n    position: absolute;\n    z-index: 1; }\n    select-dropdown > div .filter {\n      padding: 3px;\n      width: 100%; }\n      select-dropdown > div .filter input {\n        border: 1px solid #eee;\n        box-sizing: border-box;\n        padding: 4px;\n        width: 100%; }\n    select-dropdown > div .options {\n      max-height: 200px;\n      overflow-y: auto; }\n      select-dropdown > div .options ul {\n        list-style: none;\n        margin: 0;\n        padding: 0; }\n        select-dropdown > div .options ul li {\n          padding: 4px 8px;\n          cursor: pointer;\n          user-select: none; }\n  select-dropdown .selected {\n    background-color: #e0e0e0; }\n    select-dropdown .selected.highlighted {\n      background-color: #2196F3;\n      color: #fff; }\n  select-dropdown .highlighted {\n    background-color: #2196F3;\n    color: #fff; }\n  select-dropdown .disabled {\n    background-color: #fff;\n    color: #9e9e9e;\n    cursor: default;\n    pointer-events: none; }\n"},GDiU:function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=0),function(n){return n.lift(new s(e,t))}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("T14+"),a=n("3lsR");t.observeOn=r;var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=s;var u=function(e){function t(t,n,r){void 0===r&&(r=0),e.call(this,t),this.scheduler=n,this.delay=r}return o(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(a.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(a.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(a.Notification.createComplete())},t}(i.Subscriber);t.ObserveOnSubscriber=u;var c=function(){function e(e,t){this.notification=e,this.destination=t}return e}();t.ObserveOnMessage=c},GiTH:function(e,t,n){"use strict";function r(e,t){return function(n){return n.lift(new a(e,t,n))}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("T14+");t.every=r;var a=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg,this.source))},e}(),s=function(e){function t(t,n,r,o){e.call(this,t),this.predicate=n,this.thisArg=r,this.source=o,this.index=0,this.thisArg=r||this}return o(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.Subscriber)},H1KZ:function(e,t,n){"use strict";function r(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new a(e,t,n))}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("T14+");t.scan=r;var a=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))},e}(),s=function(e){function t(t,n,r,o){e.call(this,t),this.accumulator=n,this._seed=r,this.hasSeed=o,this.index=0}return o(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(i.Subscriber)},H6Sg:function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.isObject=r},Hd11:function(e,t,n){"use strict";function r(e,t){return function(n){return n.lift(new a(e,t))}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("T14+");t.filter=r;var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.predicate=n,this.thisArg=r,this.count=0}return o(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.Subscriber)},"Hw/e":function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=n("qbdv"),i=n("/oeL"),a=n("hxWQ"),s=n("X68L"),u=function(){function e(){}return e}();u=r([i.NgModule({imports:[o.CommonModule],declarations:[a.FileDropDirective,s.FileSelectDirective],exports:[a.FileDropDirective,s.FileSelectDirective]})],u),t.FileUploadModule=u},HwxE:function(e,t,n){"use strict";function r(){return new s.Subject}function o(){return function(e){return a.refCount()(i.multicast(r)(e))}}var i=n("P02W"),a=n("F9px"),s=n("rlar");t.share=o},I3ay:function(e,t,n){"use strict";function r(){return o.concatAll()(this)}var o=n("NiCh");t.concatAll=r},ICXF:function(e,t,n){"use strict";t.STYLE="ng-select {\n  display: inline-block;\n  margin: 0;\n  position: relative;\n  vertical-align: middle;\n  width: 100%; }\n  ng-select * {\n    box-sizing: border-box;\n    font-family: Sans-Serif; }\n  ng-select > div {\n    border: 1px solid #ddd;\n    box-sizing: border-box;\n    cursor: pointer;\n    user-select: none;\n    width: 100%; }\n    ng-select > div.disabled {\n      background-color: #eee;\n      color: #aaa;\n      cursor: default;\n      pointer-events: none; }\n    ng-select > div > div.single {\n      display: flex;\n      height: 30px;\n      width: 100%; }\n      ng-select > div > div.single > div.value,\n      ng-select > div > div.single > div.placeholder {\n        flex: 1;\n        line-height: 30px;\n        overflow: hidden;\n        padding: 0 10px;\n        white-space: nowrap; }\n      ng-select > div > div.single > div.placeholder {\n        color: #a9a9a9; }\n      ng-select > div > div.single > div.clear,\n      ng-select > div > div.single > div.toggle {\n        color: #aaa;\n        line-height: 30px;\n        text-align: center;\n        width: 30px; }\n        ng-select > div > div.single > div.clear:hover,\n        ng-select > div > div.single > div.toggle:hover {\n          background-color: #ececec; }\n      ng-select > div > div.single > div.clear {\n        font-size: 18px; }\n      ng-select > div > div.single > div.toggle {\n        font-size: 14px; }\n    ng-select > div > div.multiple {\n      display: flex;\n      flex-flow: row wrap;\n      height: 100%;\n      min-height: 30px;\n      padding: 0 10px;\n      width: 100%; }\n      ng-select > div > div.multiple > div.option {\n        background-color: #eee;\n        border: 1px solid #aaa;\n        border-radius: 4px;\n        color: #333;\n        cursor: default;\n        display: inline-block;\n        flex-shrink: 0;\n        font-size: 14px;\n        line-height: 22px;\n        margin: 3px 5px 3px 0;\n        padding: 0 4px; }\n        ng-select > div > div.multiple > div.option span.deselect-option {\n          color: #aaa;\n          cursor: pointer;\n          font-size: 14px;\n          height: 20px;\n          line-height: 20px; }\n          ng-select > div > div.multiple > div.option span.deselect-option:hover {\n            color: #555; }\n      ng-select > div > div.multiple input {\n        background-color: transparent;\n        border: none;\n        height: 30px;\n        line-height: 30px;\n        padding: 0; }\n        ng-select > div > div.multiple input:focus {\n          outline: none; }\n"},Jbqe:function(e,t){!function(){!function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e,t,n){var r="UL"===t?"InsertUnorderedList":"InsertOrderedList";e.execCommand(r,!1,!1===n?null:{"list-style-type":n})},o={applyListFormat:r},i=function(e){e.addCommand("ApplyUnorderedListStyle",function(t,n){o.applyListFormat(e,"UL",n["list-style-type"])}),e.addCommand("ApplyOrderedListStyle",function(t,n){o.applyListFormat(e,"OL",n["list-style-type"])})},a={register:i},s=function(e){var t=e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return t?t.split(/[ ,]/):[]},u=function(e){var t=e.getParam("advlist_bullet_styles","default,circle,disc,square");return t?t.split(/[ ,]/):[]},c={getNumberStyles:s,getBulletStyles:u},l=function(e,t){return e.$.contains(e.getBody(),t)},f=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},d=function(e){return function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&l(e,t)}},p=function(e){var t=e.dom.getParent(e.selection.getNode(),"ol,ul");return e.dom.getStyle(t,"listStyleType")||""},h={isTableCellNode:f,isListNode:d,getSelectedStyleType:p},m=function(e){return e.replace(/\-/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()})},g=function(e){return n.map(e,function(e){return{text:m(e),data:"default"===e?"":e}})},v={toMenuItems:g},y=function(e,t){for(var n=0;n<e.length;n++){if(t(e[n]))return n}return-1},b=function(e,t){return function(r){var o=r.control;e.on("NodeChange",function(r){var i=y(r.parents,h.isTableCellNode),a=-1!==i?r.parents.slice(0,i):r.parents,s=n.grep(a,h.isListNode(e));o.active(s.length>0&&s[0].nodeName===t)})}},w=function(e){return function(t){var n=h.getSelectedStyleType(e);t.control.items().each(function(e){e.active(e.settings.data===n)})}},C=function(e,t,n,r,i,a){e.addButton(t,{active:!1,type:"splitbutton",tooltip:n,menu:v.toMenuItems(a),onPostRender:b(e,i),onshow:w(e),onselect:function(t){o.applyListFormat(e,i,t.control.settings.data)},onclick:function(){e.execCommand(r)}})},_=function(e,t,n,r,o,i){e.addButton(t,{active:!1,type:"button",tooltip:n,onPostRender:b(e,o),onclick:function(){e.execCommand(r)}})},x=function(e,t,n,r,o,i){i.length>0?C(e,t,n,r,o,i):_(e,t,n,r,o)},E=function(e){x(e,"numlist","Numbered list","InsertOrderedList","OL",c.getNumberStyles(e)),x(e,"bullist","Bullet list","InsertUnorderedList","UL",c.getBulletStyles(e))},S={register:E};t.add("advlist",function(e){(function(e,t){var r=e.settings.plugins?e.settings.plugins:"";return-1!==n.inArray(r.split(/[ ,]/),t)})(e,"lists")&&(S.register(e),a.register(e))})}()}()},JeK7:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n("/oeL"),i=n("qbdv"),a=n("ZDe3"),s=n("bm2B"),u=n("wXaq"),c=l=function(){function e(){}return e.withConfig=function(e){return void 0===e&&(e={}),{ngModule:l,providers:[{provide:"TINYMCE_CONFIG",useValue:e}]}},e}();c=l=r([o.NgModule({imports:[i.CommonModule,s.FormsModule,s.ReactiveFormsModule],declarations:[a.TinymceComponent],exports:[a.TinymceComponent],providers:[{provide:"TINYMCE_CONFIG",useClass:u.TinymceDefaultOptions}]})],c),t.TinymceModule=c;var l},JwCl:function(e,t,n){"use strict";function r(e,t){return arguments.length>=2?function(n){return s.pipe(o.scan(e,t),i.takeLast(1),a.defaultIfEmpty(t))(n)}:function(t){return s.pipe(o.scan(function(t,n,r){return e(t,n,r+1)}),i.takeLast(1))(t)}}var o=n("H1KZ"),i=n("XvrG"),a=n("PbxL"),s=n("vxPf");t.reduce=r},L8VJ:function(e,t,n){"use strict";function r(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("T14+");t.map=r;var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}();t.MapOperator=a;var s=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.count=0,this.thisArg=r||this}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.Subscriber)},LBJq:function(e,t,n){"use strict";var r=n("/oeL"),o=n("qbdv"),i=n("bm2B"),a=n("k9bL"),s=n("oSJk"),u=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{declarations:[a.SelectComponent,s.SelectDropdownComponent],exports:[a.SelectComponent],imports:[o.CommonModule,i.FormsModule]}]}],e.ctorParameters=function(){return[]},e}();t.SelectModule=u},LEug:function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,u=e[e.length-1];return a.isScheduler(u)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof u&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof o.Observable?e[0]:s.mergeAll(n)(new i.ArrayObservable(e,r))}var o=n("bKpL"),i=n("wZOE"),a=n("MicL"),s=n("8rcZ");t.merge=r},Lhvy:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ObjectUnsubscribedError=o},LiYJ:function(e,t,n){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},Me5P:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=n("/oeL"),i=a=function(){function e(){}return e.prototype.transform=function(e,t,n){return e?e instanceof Array?this.sortArray(e,t,n):"object"==typeof e?this.transformObject(e,t,n):e:e},e.prototype.sortArray=function(e,t,n){var r=e.sort(function(e,n){return t?e[t]>n[t]?1:-1:e>n?1:-1});return n?r.reverse():r},e.prototype.transformObject=function(e,t,n){var r=a.parseExpression(t),o=r.pop(),i=a.getValue(e,r);if(i instanceof Array||(r.push(o),o=null,i=a.getValue(e,r)),!i)return e;var s=this.transform(i,o,n);return a.setValue(e,s,r),e},e.parseExpression=function(e){return e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),e.split(".")},e.getValue=function(e,t){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!(o in e))return;e=e[o]}return e},e.setValue=function(e,t,n){var r;for(r=0;r<n.length-1;r++)e=e[n[r]];e[n[r]]=t},e}();i=a=r([o.Pipe({name:"orderBy"})],i),t.Ng2OrderPipe=i;var a},MicL:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}t.isScheduler=r},MzWM:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("bKpL"),i=n("ktfo"),a=n("yW9Z"),s=function(e){function t(t){e.call(this),this.observableFactory=t}return r(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){return new u(e,this.observableFactory)},t}(o.Observable);t.DeferObservable=s;var u=function(e){function t(t,n){e.call(this,t),this.factory=n,this.tryDefer()}return r(t,e),t.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},t.prototype._callFactory=function(){var e=this.factory();e&&this.add(i.subscribeToResult(this,e))},t}(a.OuterSubscriber)},N1xg:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e}()},NSJx:function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},NTbX:function(e,t,n){"use strict";function r(e){return m["\u0275vid"](0,[(e()(),m["\u0275eld"](0,0,null,null,4,"a",[["tabindex","0"]],[[1,"aria-label",0]],[[null,"keyup.enter"],[null,"click"]],function(e,t,n){var r=!0;if("keyup.enter"===t){r=!1!==m["\u0275nov"](e.parent.parent.parent,2).previous()&&r}if("click"===t){r=!1!==m["\u0275nov"](e.parent.parent.parent,2).previous()&&r}return r},null,null)),(e()(),m["\u0275ted"](1,null,["\n                "," "])),(e()(),m["\u0275eld"](2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),m["\u0275ted"](3,null,["",""])),(e()(),m["\u0275ted"](-1,null,["\n            "]))],null,function(e,t){var n=t.component;e(t,0,0,n.previousLabel+" "+n.screenReaderPageLabel),e(t,1,0,n.previousLabel),e(t,3,0,n.screenReaderPageLabel)})}function o(e){return m["\u0275vid"](0,[(e()(),m["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),m["\u0275ted"](1,null,["\n                "," "])),(e()(),m["\u0275eld"](2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),m["\u0275ted"](3,null,["",""])),(e()(),m["\u0275ted"](-1,null,["\n            "]))],null,function(e,t){var n=t.component;e(t,1,0,n.previousLabel),e(t,3,0,n.screenReaderPageLabel)})}function i(e){return m["\u0275vid"](0,[(e()(),m["\u0275eld"](0,0,null,null,7,"li",[["class","pagination-previous"]],[[2,"disabled",null]],null,null,null,null)),(e()(),m["\u0275ted"](-1,null,[" \n            "])),(e()(),m["\u0275and"](16777216,null,null,1,null,r)),m["\u0275did"](3,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),m["\u0275ted"](-1,null,["\n            "])),(e()(),m["\u0275and"](16777216,null,null,1,null,o)),m["\u0275did"](6,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),m["\u0275ted"](-1,null,["\n        "]))],function(e,t){e(t,3,0,1<m["\u0275nov"](t.parent.parent,2).getCurrent()),e(t,6,0,m["\u0275nov"](t.parent.parent,2).isFirstPage())},function(e,t){e(t,0,0,m["\u0275nov"](t.parent.parent,2).isFirstPage())})}function a(e){return m["\u0275vid"](0,[(e()(),m["\u0275eld"](0,0,null,null,7,"a",[["tabindex","0"]],null,[[null,"keyup.enter"],[null,"click"]],function(e,t,n){var r=!0;if("keyup.enter"===t){r=!1!==m["\u0275nov"](e.parent.parent.parent,2).setCurrent(e.parent.context.$implicit.value)&&r}if("click"===t){r=!1!==m["\u0275nov"](e.parent.parent.parent,2).setCurrent(e.parent.context.$implicit.value)&&r}return r},null,null)),(e()(),m["\u0275ted"](-1,null,["\n                "])),(e()(),m["\u0275eld"](2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),m["\u0275ted"](3,null,[""," "])),(e()(),m["\u0275ted"](-1,null,["\n                "])),(e()(),m["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),m["\u0275ted"](6,null,["",""])),(e()(),m["\u0275ted"](-1,null,["\n            "]))],null,function(e,t){e(t,3,0,t.component.screenReaderPageLabel),e(t,6,0,t.parent.context.$implicit.label)})}function s(e){return m["\u0275vid"](0,[(e()(),m["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(e()(),m["\u0275ted"](-1,null,["\n                "])),(e()(),m["\u0275eld"](2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),m["\u0275ted"](3,null,[""," "])),(e()(),m["\u0275ted"](-1,null,["\n                "])),(e()(),m["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),m["\u0275ted"](6,null,["",""])),(e()(),m["\u0275ted"](-1,null,[" \n            "]))],null,function(e,t){e(t,3,0,t.component.screenReaderCurrentLabel),e(t,6,0,t.parent.context.$implicit.label)})}function u(e){return m["\u0275vid"](0,[(e()(),m["\u0275eld"](0,0,null,null,7,"li",[],[[2,"current",null]],null,null,null,null)),(e()(),m["\u0275ted"](-1,null,["\n            "])),(e()(),m["\u0275and"](16777216,null,null,1,null,a)),m["\u0275did"](3,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),m["\u0275ted"](-1,null,["\n            "])),(e()(),m["\u0275and"](16777216,null,null,1,null,s)),m["\u0275did"](6,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),m["\u0275ted"](-1,null,["\n        "]))],function(e,t){e(t,3,0,m["\u0275nov"](t.parent.parent,2).getCurrent()!==t.context.$implicit.value),e(t,6,0,m["\u0275nov"](t.parent.parent,2).getCurrent()===t.context.$implicit.value)},function(e,t){e(t,0,0,m["\u0275nov"](t.parent.parent,2).getCurrent()===t.context.$implicit.value)})}function c(e){return m["\u0275vid"](0,[(e()(),m["\u0275eld"](0,0,null,null,4,"a",[["tabindex","0"]],[[1,"aria-label",0]],[[null,"keyup.enter"],[null,"click"]],function(e,t,n){var r=!0;if("keyup.enter"===t){r=!1!==m["\u0275nov"](e.parent.parent.parent,2).next()&&r}if("click"===t){r=!1!==m["\u0275nov"](e.parent.parent.parent,2).next()&&r}return r},null,null)),(e()(),m["\u0275ted"](1,null,["\n                 "," "])),(e()(),m["\u0275eld"](2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),m["\u0275ted"](3,null,["",""])),(e()(),m["\u0275ted"](-1,null,["\n            "]))],null,function(e,t){var n=t.component;e(t,0,0,n.nextLabel+" "+n.screenReaderPageLabel),e(t,1,0,n.nextLabel),e(t,3,0,n.screenReaderPageLabel)})}function l(e){return m["\u0275vid"](0,[(e()(),m["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),m["\u0275ted"](1,null,["\n                 "," "])),(e()(),m["\u0275eld"](2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),m["\u0275ted"](3,null,["",""])),(e()(),m["\u0275ted"](-1,null,["\n            "]))],null,function(e,t){var n=t.component;e(t,1,0,n.nextLabel),e(t,3,0,n.screenReaderPageLabel)})}function f(e){return m["\u0275vid"](0,[(e()(),m["\u0275eld"](0,0,null,null,7,"li",[["class","pagination-next"]],[[2,"disabled",null]],null,null,null,null)),(e()(),m["\u0275ted"](-1,null,["\n            "])),(e()(),m["\u0275and"](16777216,null,null,1,null,c)),m["\u0275did"](3,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),m["\u0275ted"](-1,null,["\n            "])),(e()(),m["\u0275and"](16777216,null,null,1,null,l)),m["\u0275did"](6,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),m["\u0275ted"](-1,null,["\n        "]))],function(e,t){e(t,3,0,!m["\u0275nov"](t.parent.parent,2).isLastPage()),e(t,6,0,m["\u0275nov"](t.parent.parent,2).isLastPage())},function(e,t){e(t,0,0,m["\u0275nov"](t.parent.parent,2).isLastPage())})}function d(e){return m["\u0275vid"](0,[(e()(),m["\u0275eld"](0,0,null,null,10,"ul",[["class","ngx-pagination"],["role","navigation"]],[[1,"aria-label",0]],null,null,null,null)),(e()(),m["\u0275ted"](-1,null,["\n\n        "])),(e()(),m["\u0275and"](16777216,null,null,1,null,i)),m["\u0275did"](3,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),m["\u0275ted"](-1,null,["\n\n        "])),(e()(),m["\u0275and"](16777216,null,null,1,null,u)),m["\u0275did"](6,802816,null,0,v.NgForOf,[m.ViewContainerRef,m.TemplateRef,m.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),m["\u0275ted"](-1,null,["\n\n        "])),(e()(),m["\u0275and"](16777216,null,null,1,null,f)),m["\u0275did"](9,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),m["\u0275ted"](-1,null,["\n\n    "]))],function(e,t){var n=t.component;e(t,3,0,n.directionLinks),e(t,6,0,m["\u0275nov"](t.parent,2).pages),e(t,9,0,n.directionLinks)},function(e,t){e(t,0,0,t.component.screenReaderPaginationLabel)})}function p(e){return m["\u0275vid"](2,[(e()(),m["\u0275ted"](-1,null,["\n    "])),(e()(),m["\u0275eld"](1,0,null,null,5,"pagination-template",[],null,[[null,"pageChange"]],function(e,t,n){var r=!0,o=e.component;if("pageChange"===t){r=!1!==o.pageChange.emit(n)&&r}return r},null,null)),m["\u0275did"](2,737280,[["p",4]],0,g.d,[g.e,m.ChangeDetectorRef],{id:[0,"id"],maxSize:[1,"maxSize"]},{pageChange:"pageChange"}),(e()(),m["\u0275ted"](-1,null,["\n    "])),(e()(),m["\u0275and"](16777216,null,null,1,null,d)),m["\u0275did"](5,16384,null,0,v.NgIf,[m.ViewContainerRef,m.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),m["\u0275ted"](-1,null,["\n    "])),(e()(),m["\u0275ted"](-1,null,["\n    "]))],function(e,t){var n=t.component;e(t,2,0,n.id,n.maxSize),e(t,5,0,!(n.autoHide&&m["\u0275nov"](t,2).pages.length<=1))},null)}function h(e){return m["\u0275vid"](0,[(e()(),m["\u0275eld"](0,0,null,null,1,"pagination-controls",[],null,null,null,p,b)),m["\u0275did"](1,49152,null,0,g.c,[],null,null)],null,null)}n.d(t,"a",function(){return b}),t.b=p;var m=n("/oeL"),g=n("iz04"),v=n("qbdv"),y=(m["\u0275cmf"](g.a,[],function(e){return m["\u0275mod"]([m["\u0275mpd"](512,m.ComponentFactoryResolver,m["\u0275CodegenComponentFactoryResolver"],[[8,[]],[3,m.ComponentFactoryResolver],m.NgModuleRef]),m["\u0275mpd"](4608,v.NgLocalization,v.NgLocaleLocalization,[m.LOCALE_ID]),m["\u0275mpd"](4608,g.e,g.e,[]),m["\u0275mpd"](512,v.CommonModule,v.CommonModule,[]),m["\u0275mpd"](512,g.a,g.a,[])])}),["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination .ellipsis::after {\n    content: '\u2026';\n    padding: 0.1875rem 0.625rem;\n    color: #0a0a0a; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }"]),b=m["\u0275crt"]({encapsulation:2,styles:y,data:{}});m["\u0275ccf"]("pagination-controls",g.c,h,{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},{pageChange:"pageChange"},[])},NiCh:function(e,t,n){"use strict";function r(){return o.mergeAll(1)}var o=n("8rcZ");t.concatAll=r},OK8q:function(e,t,n){!function(){"use strict";function t(){var e=[];return function t(n,r){return e.push(n+" ")>Ue.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function n(e){return e[bt]=!0,e}function r(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return n(function(t){return t=+t,n(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function i(e){return e&&typeof e.getElementsByTagName!==Tt&&e}function a(){}function s(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function u(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=_t++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,u,c=[Ct,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((s=(u=t[bt]||(t[bt]={}))[r])&&s[0]===Ct&&s[1]===i)return c[2]=s[2];if((u[r]=c)[2]=e(t,n,a))return!0}}}function c(e){return 1<e.length?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function l(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function f(e,t,r,o,i,a){return o&&!o[bt]&&(o=f(o)),i&&!i[bt]&&(i=f(i,a)),n(function(n,a,s,u){var c,f,d,p=[],h=[],m=a.length,g=n||function(e,t,n){for(var r=0,o=t.length;r<o;r++)en(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!n&&t?g:l(g,p,e,s,u),y=r?i||(n?e:m||o)?[]:a:v;if(r&&r(v,y,s,u),o)for(c=l(y,h),o(c,[],s,u),f=c.length;f--;)(d=c[f])&&(y[h[f]]=!(v[h[f]]=d));if(n){if(i||e){if(i){for(c=[],f=y.length;f--;)(d=y[f])&&c.push(v[f]=d);i(null,y=[],c,u)}for(f=y.length;f--;)(d=y[f])&&-1<(c=i?Dt.call(n,d):p[f])&&(n[c]=!(a[c]=d))}}else y=l(y===a?y.splice(m,y.length):y),i?i(null,a,y,u):At.apply(a,y)})}function d(e){for(var t,n,r,o=e.length,i=Ue.relative[e[0].type],a=i||Ue.relative[" "],l=i?1:0,p=u(function(e){return e===t},a,!0),h=u(function(e){return-1<Dt.call(t,e)},a,!0),m=[function(e,n,r){return!i&&(r||n!==$e)||((t=n).nodeType?p(e,n,r):h(e,n,r))}];l<o;l++)if(n=Ue.relative[e[l].type])m=[u(c(m),n)];else{if((n=Ue.filter[e[l].type].apply(null,e[l].matches))[bt]){for(r=++l;r<o&&!Ue.relative[e[r].type];r++);return f(1<l&&c(m),1<l&&s(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(jt,"$1"),n,l<r&&d(e.slice(l,r)),r<o&&d(e=e.slice(r)),r<o&&s(e))}m.push(n)}return c(m)}function p(e,t){var n=e,r=function(e,n,r,o){var i,a;if(e){if(!o&&e[n])return e[n];if(e!==t){if(i=e[r])return i;for(a=e.parentNode;a&&a!==t;a=a.parentNode)if(i=a[r])return i}}};this.current=function(){return n},this.next=function(e){return n=r(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=r(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=function(e,n,r,o){var i,a,s;if(e){if(i=e.previousSibling,t&&i===t)return;if(i){if(!o)for(s=i[n];s;s=s[n])if(!s[n])return s;return i}if((a=e.parentNode)&&a!==t)return a}}(n,"lastChild",0,e)}}function h(e){var t,n,r,o,i,a,s,u,c,l,f,d,p,h={},m={},g=[],v={},y={},b=function(t,n,r){var o=e[t];return o?o=vi(o,/[, ]/,vi(o.toUpperCase(),/[, ]/)):(o=mi[t])||(o=vi(n," ",vi(n.toUpperCase()," ")),o=bi(o,r),mi[t]=o),o};r=xi((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),t=Ei(e.valid_styles),n=Ei(e.invalid_styles,"map"),u=Ei(e.valid_classes,"map"),o=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),i=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=b("non_empty_elements","td th iframe video audio object script pre code",a),f=b("move_caret_before_on_enter_elements","table",l),d=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),c=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",d),p=b("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),yi((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){y[e]=new RegExp("</"+e+"[^>]*>","gi")});var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},C=function(e){var t,n,r,o,i,a,s,u,c,l,f,d,p,m,v,y,b,C,_,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,E=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e)for(e=_i(e,","),h["@"]&&(y=h["@"].attributes,b=h["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(i=x.exec(e[t])){if(m=i[1],c=i[2],v=i[3],u=i[5],a={attributes:d={},attributesOrder:p=[]},"#"===m&&(a.paddEmpty=!0),"-"===m&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),y){for(C in y)d[C]=y[C];p.push.apply(p,b)}if(u)for(r=0,o=(u=_i(u,"|")).length;r<o;r++)if(i=E.exec(u[r])){if(s={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),m=i[3],_=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),s.required=!0),"-"===f){delete d[l],p.splice(Ci(p,l),1);continue}m&&("="===m&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:_}),s.defaultValue=_),":"===m&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:_}),s.forcedValue=_),"<"===m&&(s.validValues=vi(_,"?"))),S.test(l)?(a.attributePatterns=a.attributePatterns||[],s.pattern=w(l),a.attributePatterns.push(s)):(d[l]||p.push(l),d[l]=s)}y||"@"!==c||(y=d,b=p),v&&(a.outputName=c,h[v]=a),S.test(c)?(a.pattern=w(c),g.push(a)):h[c]=a}},_=function(e){h={},g=[],C(e),yi(r,function(e,t){m[t]=e.children})},x=function(e){var t=/^(~)?(.+)$/;e&&(mi.text_block_elements=mi.block_elements=null,yi(_i(e,","),function(e){var n=t.exec(e),r="~"===n[1],o=r?"span":"div",i=n[2];if(m[i]=m[o],v[i]=o,r||(c[i.toUpperCase()]={},c[i]={}),!h[i]){var a=h[o];delete(a=bi({},a)).removeEmptyAttrs,delete a.removeEmpty,h[i]=a}yi(m,function(e,t){e[o]&&(m[t]=e=bi({},m[t]),e[i]=e[o])})}))},E=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;mi[e.schema]=null,t&&yi(_i(t,","),function(e){var t,r,o=n.exec(e);o&&(r=o[1],t=r?m[o[2]]:m[o[2]]={"#comment":{}},t=m[o[2]],yi(_i(o[3],"|"),function(e){"-"===r?delete t[e]:t[e]={}}))})},S=function(e){var t,n=h[e];if(n)return n;for(t=g.length;t--;)if((n=g[t]).pattern.test(e))return n};return e.valid_elements?_(e.valid_elements):(yi(r,function(e,t){h[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},m[t]=e.children}),"html5"!==e.schema&&yi(_i("strong/b em/i"),function(e){e=_i(e,"/"),h[e[1]].outputName=e[0]}),yi(_i("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){h[e]&&(h[e].removeEmpty=!0)}),yi(_i("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){h[e].paddEmpty=!0}),yi(_i("span"),function(e){h[e].removeEmptyAttrs=!0})),x(e.custom_elements),E(e.valid_children),C(e.extended_valid_elements),E("+ol[ul|ol],+ul[ul|ol]"),yi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){h[t]&&(h[t].parentsRequired=_i(e))}),e.invalid_elements&&yi(wi(e.invalid_elements),function(e){h[e]&&delete h[e]}),S("span")||C("span[!data-mce-type|*]"),{children:m,elements:h,getValidStyles:function(){return t},getValidClasses:function(){return u},getBlockElements:function(){return c},getInvalidStyles:function(){return n},getShortEndedElements:function(){return a},getTextBlockElements:function(){return d},getTextInlineElements:function(){return p},getBoolAttrs:function(){return s},getElementRule:S,getSelfClosingElements:function(){return i},getNonEmptyElements:function(){return l},getMoveCaretBeforeOnEnterElements:function(){return f},getWhiteSpaceElements:function(){return o},getSpecialElements:function(){return y},isValidChild:function(e,t){var n=m[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,r,o=S(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return v},addValidElements:C,setValidElements:_,addCustomElements:x,addValidChildren:E}}function m(e,t){var n,r,o,i,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,l={},f="\ufeff";for(e=e||{},t&&(o=t.getValidStyles(),i=t.getInvalidStyles()),r=("\\\" \\' \\; \\: ; : "+f).split(" "),n=0;n<r.length;n++)l[r[n]]=f+n,l[f+n]=r[n];return{toHex:function(e){return e.replace(a,Si)},parse:function(t){var r,o,i,d,p,h,m,g,v={},y=e.url_converter,b=e.url_converter_scope||this,w=function(e,t,r){var o,i,a,s;if((o=v[e+"-top"+t])&&(i=v[e+"-right"+t])&&(a=v[e+"-bottom"+t])&&(s=v[e+"-left"+t])){var u=[o,i,a,s];for(n=u.length-1;n--&&u[n]===u[n+1];);-1<n&&r||(v[e+t]=-1===n?u[0]:u.join(" "),delete v[e+"-top"+t],delete v[e+"-right"+t],delete v[e+"-bottom"+t],delete v[e+"-left"+t])}},C=function(e){var t,n=v[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return v[e]=n[0],!0}},_=function(e){return d=!0,l[e]},x=function(e,t){return d&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return l[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},E=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},S=function(e){return e.replace(/\\[0-9a-f]+/gi,E)},O=function(t,n,r,o,i,a){if(i=i||a)return"'"+(i=x(i)).replace(/\'/g,"\\'")+"'";if(n=x(n||r||o),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return y&&(n=y.call(b,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,_).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,_)});r=u.exec(t);)if(u.lastIndex=r.index+r[0].length,o=r[1].replace(c,"").toLowerCase(),i=r[2].replace(c,""),o&&i){if(o=S(o),i=S(i),-1!==o.indexOf(f)||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===o&&"700"===i?i="bold":"color"!==o&&"background-color"!==o||(i=i.toLowerCase()),i=(i=i.replace(a,Si)).replace(s,O),v[o]=d?x(i,!0):i}w("border","",!0),w("border","-width"),w("border","-color"),w("border","-style"),w("padding",""),w("margin",""),p="border",m="border-style",g="border-color",C(h="border-width")&&C(m)&&C(g)&&(v[p]=v[h]+" "+v[m]+" "+v[g],delete v[h],delete v[m],delete v[g]),"medium none"===v.border&&delete v.border,"none"===v["border-image"]&&delete v["border-image"]}return v},serialize:function(e,t){var n,r,a,s,u,c="",l=function(t){var n,r,i,a;if(n=o[t])for(r=0,i=n.length;r<i;r++)t=n[r],(a=e[t])&&(c+=(0<c.length?" ":"")+t+": "+a+";")};if(t&&o)l("*"),l(t);else for(n in e)!(r=e[n])||i&&(a=n,s=t,u=void 0,(u=i["*"])&&u[a]||(u=i[s])&&u[a])||(c+=(0<c.length?" ":"")+n+": "+r+";");return c}}}function g(e,t){var n,r=this;void 0===t&&(t={});var o={},i=window,a={},s=0,u=function(e,t){var n,r=0,o={};n=(t=t||{}).maxLoadTime||5e3;var i=function(t){e.getElementsByTagName("head")[0].appendChild(t)},a=function(t,a,s){var u,c,l,f,d=function(){for(var e=f.passed,t=e.length;t--;)e[t]();f.status=2,f.passed=[],f.failed=[]},p=function(){for(var e=f.failed,t=e.length;t--;)e[t]();f.status=3,f.passed=[],f.failed=[]},h=function(e,t){e()||((new Date).getTime()-l<n?ct.setTimeout(t):p())},m=function(){h(function(){for(var t,n,r=e.styleSheets,o=r.length;o--;)if((n=(t=r[o]).ownerNode?t.ownerNode:t.owningElement)&&n.id===u.id)return d(),!0},m)},g=function(){h(function(){try{var e=c.sheet.cssRules;return d(),!!e}catch(e){}},g)};if(t=ln._addCacheSuffix(t),o[t]?f=o[t]:(f={passed:[],failed:[]},o[t]=f),a&&f.passed.push(a),s&&f.failed.push(s),1!==f.status)if(2!==f.status)if(3!==f.status){if(f.status=1,(u=e.createElement("link")).rel="stylesheet",u.type="text/css",u.id="u"+r++,u.async=!1,u.defer=!1,l=(new Date).getTime(),"onload"in u&&!((v=navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(v[1],10)<536))u.onload=m,u.onerror=p;else{if(0<navigator.userAgent.indexOf("Firefox"))return(c=e.createElement("style")).textContent='@import "'+t+'"',g(),void i(c);m()}var v;i(u),u.href=t}else p();else d()},s=function(e){return Eo.nu(function(t){a(e,se.compose(t,se.constant(Po.value(e))),se.compose(t,se.constant(Po.error(e))))})},u=function(e){return e.fold(se.identity,se.identity)};return{load:a,loadAll:function(e,t,n){To.par(Re.map(e,s)).get(function(e){var r=Re.partition(e,function(e){return e.isValue()});0<r.fail.length?n(r.fail.map(u)):t(r.pass.map(u))})}}}(e),c=[],l=t.schema?t.schema:h({}),f=m({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),d=t.ownEvents?new yt(t.proxy):yt.Event,v=l.getBlockElements(),y=Rn.overrideDefaults(function(){return{context:e,element:W.getRoot()}}),b=function(t){if(t&&e&&"string"==typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t},w=function(e){return"string"==typeof e&&(e=b(e)),y(e)},C=function(e,t,r){var o,i,a=w(e);return a.length&&(i=(o=n[t])&&o.get?o.get(a,t):a.attr(t)),void 0===i&&(i=r||""),i},_=function(e){var t=b(e);return t?t.attributes:[]},x=function(e,r,o){var i,a;""===o&&(o=null);var s=w(e);i=s.attr(r),s.length&&((a=n[r])&&a.set?a.set(s,o,r):s.attr(r,o),i!==o&&t.onSetAttrib&&t.onSetAttrib({attrElm:s,attrName:r,attrValue:o}))},E=function(){return t.root_element||e.body},S=function(t,n){return bo.getPos(e.body,b(t),n)},O=function(e,t,n){var r=w(e);return n?r.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=ot.ie&&ot.ie<12?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},T=function(e){var t,n;return e=b(e),t=O(e,"width"),n=O(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},k=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Ri.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;0<=n;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return 0<en(t,i[0].ownerDocument||i[0],null,i).length},R=function(e,t,n,r){var o,i=[],a=b(e);for(r=void 0===r,n=n||("BODY"!==E().nodeName?E().parentNode:null),ln.is(t,"string")&&(t="*"===(o=t)?function(e){return 1===e.nodeType}:function(e){return k(e,o)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},P=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return k(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},N=function(e,t,n){var o,i="string"==typeof e?b(e):e;if(!i)return!1;if(ln.isArray(i)&&(i.length||0===i.length))return o=[],Oi(i,function(e,r){e&&("string"==typeof e&&(e=b(e)),o.push(t.call(n,e,r)))}),o;var a=n||r;return t.call(a,i)},A=function(e,t){w(e).each(function(e,n){Oi(t,function(e,t){x(n,t,e)})})},I=function(e,t){var n=w(e);ki?n.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){Rn("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},D=function(t,n,r,o,i){return N(t,function(t){var a="string"==typeof n?e.createElement(n):n;return A(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&I(a,o)),i?a:t.appendChild(a)})},M=function(t,n,r){return D(e.createElement(t),t,n,r,!0)},L=hi.decode,B=hi.encodeAllRaw,F=function(e,t){var n=w(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),1<n.length?n.toArray():n[0]},j=function(e,t,n){w(e).toggleClass(t,n).each(function(){""===this.className&&Rn(this).attr("class",null)})},V=function(e,t,n){return N(t,function(t){return ln.is(t,"array")&&(e=e.cloneNode(!0)),n&&Oi(Ti(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},H=function(){return e.createRange()},U=function(n,r,o,a){if(ln.isArray(n)){for(var s=n.length;s--;)n[s]=U(n[s],r,o,a);return n}return!t.collect||n!==e&&n!==i||c.push([n,r,o,a]),d.bind(n,r,o,a||W)},z=function(t,n,r){var o;if(ln.isArray(t)){for(o=t.length;o--;)t[o]=z(t[o],n,r);return t}if(c&&(t===e||t===i))for(o=c.length;o--;){var a=c[o];t!==a[0]||n&&n!==a[1]||r&&r!==a[2]||d.unbind(a[0],a[1],a[2])}return d.unbind(t,n,r)},q=function(e){if(e&&Qo.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},W={doc:e,settings:t,win:i,files:a,stdMode:!0,boxModel:!0,styleSheetLoader:u,boundEvents:c,styles:f,schema:l,events:d,isBlock:function(e){if("string"==typeof e)return!!v[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!v[e.nodeName])}return!1},$:y,$$:w,root:null,clone:function(t,n){if(!ki||1!==t.nodeType||n)return t.cloneNode(n);if(!n){var r=e.createElement(t.nodeName);return Oi(_(t),function(e){x(r,e.nodeName,C(t,e.nodeName))}),r}return null},getRoot:E,getViewPort:function(e){var t=e||i,n=t.document,r=n.documentElement;return{x:t.pageXOffset||r.scrollLeft,y:t.pageYOffset||r.scrollTop,w:t.innerWidth||r.clientWidth,h:t.innerHeight||r.clientHeight}},getRect:function(e){var t,n;return e=b(e),t=S(e),n=T(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:T,getParent:function(e,t,n){var r=R(e,t,n,!1);return r&&0<r.length?r[0]:null},getParents:R,get:b,getNext:function(e,t){return P(e,t,"nextSibling")},getPrev:function(e,t){return P(e,t,"previousSibling")},select:function(n,r){return en(n,b(r)||t.root_element||e,[])},is:k,add:D,create:M,createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+B(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o},remove:F,setStyle:function(e,n,r){var o=w(e).css(n,r);t.update_styles&&Ai(f,o)},getStyle:O,setStyles:function(e,n){var r=w(e).css(n);t.update_styles&&Ai(f,r)},removeAllAttribs:function(e){return N(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))})},setAttrib:x,setAttribs:A,getAttrib:C,getPos:S,parseStyle:function(e){return f.parse(e)},serializeStyle:function(e,t){return f.serialize(e,t)},addStyle:function(t){var n,r;if(W!==g.DOM&&e===document){if(o[t])return;o[t]=!0}(r=e.getElementById("mceDefaultStyles"))||((r=e.createElement("style")).id="mceDefaultStyles",r.type="text/css",(n=e.getElementsByTagName("head")[0]).firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(e.createTextNode(t))},loadCSS:function(t){var n;W===g.DOM||e!==document?(t||(t=""),n=e.getElementsByTagName("head")[0],Oi(t.split(","),function(e){var t;e=ln._addCacheSuffix(e),a[e]||(a[e]=!0,t=M("link",{rel:"stylesheet",href:e}),n.appendChild(t))})):g.DOM.loadCSS(t)},addClass:function(e,t){w(e).addClass(t)},removeClass:function(e,t){j(e,t,!1)},hasClass:function(e,t){return w(e).hasClass(t)},toggleClass:j,show:function(e){w(e).show()},hide:function(e){w(e).hide()},isHidden:function(e){return"none"===w(e).css("display")},uniqueId:function(e){return(e||"mce_")+s++},setHTML:I,getOuterHTML:function(e){var t="string"==typeof e?b(e):e;return Qo.isElement(t)?t.outerHTML:Rn("<div></div>").append(Rn(t).clone()).html()},setOuterHTML:function(e,t){w(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}F(Rn(this).html(t),!0)})},decode:L,encode:B,insertAfter:function(e,t){var n=b(t);return N(e,function(e){var t,r;return t=n.parentNode,(r=n.nextSibling)?t.insertBefore(e,r):t.appendChild(e),e})},replace:V,rename:function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=M(t),Oi(_(e),function(t){x(n,t.nodeName,C(e,t.nodeName))}),V(n,e,!0)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return f.toHex(ln.trim(e))},run:N,getAttribs:_,isEmpty:function(e,t){var n,r,o,i,a,s,u=0;if(e=e.firstChild){a=new p(e,e.parentNode),t=t||(l?l.getNonEmptyElements():null),i=l?l.getWhiteSpaceElements():{};do{if(o=e.nodeType,Qo.isElement(e)){var c=e.getAttribute("data-mce-bogus");if(c){e=a.next("all"===c);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){u++,e=a.next();continue}return!1}for(n=(r=_(e)).length;n--;)if("name"===(s=r[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8===o)return!1;if(3===o&&!Pi.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&i[e.parentNode.nodeName]&&Pi.test(e.nodeValue))return!1;e=a.next()}while(e)}return u<=1},createRng:H,nodeIndex:Ii,split:function(e,t,n){var r,o,i,a=H();if(e&&t)return a.setStart(e.parentNode,Ii(e)),a.setEnd(t.parentNode,Ii(t)),r=a.extractContents(),(a=H()).setStart(t.parentNode,Ii(t)+1),a.setEnd(e.parentNode,Ii(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(ni.trimNode(W,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(ni.trimNode(W,o),e),F(e),n||t},bind:U,unbind:z,fire:function(e,t,n){return d.fire(e,t,n)},getContentEditable:q,getContentEditableParent:function(e){for(var t=E(),n=null;e&&e!==t&&null===(n=q(e));e=e.parentNode);return n},destroy:function(){if(c)for(var e=c.length;e--;){var t=c[e];d.unbind(t[0],t[1],t[2])}en.setDocument&&en.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}};return n=Ni(f,t,function(){return W}),W}function v(){var e=this,t=[],n={},r={},o=[],i=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},a=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},s=function(e,t,n){var r=i(name);Hi(r,function(t){var n=a(e,t);u(n.resource,n,void 0,void 0)}),t&&(n?t.call(n):t.call(ji))},u=function(e,t,o,i,a){if(!n[e]){var u="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==u.indexOf("/")&&-1===u.indexOf("://")&&(u=v.baseURL+"/"+u),n[e]=u.substring(0,u.lastIndexOf("/")),r[e]?s(t,o,i):ji.ScriptLoader.add(u,function(){return s(t,o,i)},i,a)}};return{items:t,urls:n,lookup:r,_listeners:o,get:function(e){return r[e]?r[e].instance:void 0},dependencies:i,requireLangPack:function(e,t){var r=v.language;if(r&&!1!==v.languageLoad){if(t)if(-1!==(t=","+t+",").indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1===t.indexOf(","+r+","))return;ji.ScriptLoader.add(n[e]+"/langs/"+r+".js")}},add:function(e,n,i){t.push(n),r[e]={instance:n,dependencies:i};var a=Re.partition(o,function(t){return t.name===e});return o=a.fail,Hi(a.pass,function(e){e.callback()}),n},remove:function(e){delete n[e],delete r[e]},createUrl:a,addComponents:function(t,n){var r=e.urls[t];Hi(n,function(e){ji.ScriptLoader.add(r+"/"+e)})},load:u,waitFor:function(e,t){r.hasOwnProperty(e)?t():o.push({name:e,callback:t})}}}function y(e,t,n){var r=function(){return n||(n=Ka(y(e,t))),n};return{container:ka.constant(e),offset:ka.constant(t),toRange:function(){var n;return(n=Va(e.ownerDocument)).setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return La(e),0===t},isAtEnd:function(){return La(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return ja(e,n?t-1:t)}}}function b(e){var t,n,r,o,i,a=[];return t=(e=e||{}).indent,n=ll(e.indent_before||""),r=ll(e.indent_after||""),o=hi.getEncodeFunc(e.entity_encoding||"raw",e.entities),i="html"===e.element_format,{start:function(e,s,u){var c,l,f,d;if(t&&n[e]&&0<a.length&&0<(d=a[a.length-1]).length&&"\n"!==d&&a.push("\n"),a.push("<",e),s)for(c=0,l=s.length;c<l;c++)f=s[c],a.push(" ",f.name,'="',o(f.value,!0),'"');a[a.length]=!u||i?">":" />",u&&t&&r[e]&&0<a.length&&0<(d=a[a.length-1]).length&&"\n"!==d&&a.push("\n")},end:function(e){var n;a.push("</",e,">"),t&&r[e]&&0<a.length&&0<(n=a[a.length-1]).length&&"\n"!==n&&a.push("\n")},text:function(e,t){0<e.length&&(a[a.length]=t?e:o(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?a.push("<?",e," ",o(n),"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}function w(e,t){void 0===t&&(t=h());var n=b(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(r){var o,i;i=e.validate,o={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;a(e),e=e.next;);}},n.reset();var a=function(e){var r,s,u,c,l,f,d,p,h,m=o[e.type];if(m)m(e);else{if(r=e.name,s=e.shortEnded,u=e.attributes,i&&u&&1<u.length&&((f=[]).map={},h=t.getElementRule(e.name))){for(d=0,p=h.attributesOrder.length;d<p;d++)(c=h.attributesOrder[d])in u.map&&(l=u.map[c],f.map[c]=l,f.push({name:c,value:l}));for(d=0,p=u.length;d<p;d++)(c=u[d].name)in f.map||(l=u.map[c],f.map[c]=l,f.push({name:c,value:l}));u=f}if(n.start(e.name,u,s),!s){if(e=e.firstChild)for(;a(e),e=e.next;);n.end(r)}}};return 1!==r.type||e.inner?o[11](r):a(r),n.getContent()}}}function C(e,t,n,r,o){return e(n,r)?pe.some(n):me.isFunction(o)&&o(n)?pe.none():t(n,r,o)}function _(e){var t,n,r,o,i={state:{},exec:{},value:{}},a=e.settings;e.on("PreInit",function(){t=e.dom,n=e.selection,a=e.settings,r=e.formatter});var s=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=i.state[t])return n(t);try{return e.getDoc().queryCommandState(t)}catch(e){}return!1}},u=function(e,t){t=t||"exec",Zp(e,function(e,n){Zp(n.toLowerCase().split(","),function(n){i[t][n]=e})})},c=function(t,n,r){t=t.toLowerCase(),i.value[t]=function(){return n.call(r||e)}};Jp(this,{execCommand:function(t,n,r,o){var a,s,u=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||o&&o.skip_focus?$p(e):e.focus(),(o=e.fire("BeforeExecCommand",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;if(s=t.toLowerCase(),a=i.exec[s])return a(s,n,r),e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(Zp(e.plugins,function(o){if(o.execCommand&&o.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),!(u=!0)}),u)return u;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{u=e.getDoc().execCommand(t,n,r)}catch(e){}return!!u&&(e.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},queryCommandState:s,queryCommandValue:function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=i.value[t])return n(t);try{return e.getDoc().queryCommandValue(t)}catch(e){}}},queryCommandSupported:function(t){if(t=t.toLowerCase(),i.exec[t])return!0;try{return e.getDoc().queryCommandSupported(t)}catch(e){}return!1},addCommands:u,addCommand:function(t,n,r){t=t.toLowerCase(),i.exec[t]=function(t,o,i,a){return n.call(r||e,o,i,a)}},addQueryStateHandler:function(t,n,r){t=t.toLowerCase(),i.state[t]=function(){return n.call(r||e)}},addQueryValueHandler:c,hasCustomCommand:function(e){return e=e.toLowerCase(),!!i.exec[e]}});var l=function(t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=null),e.getDoc().execCommand(t,n,r)},f=function(e){return r.match(e)},d=function(t,n){r.toggle(t,n?{value:n}:void 0),e.nodeChanged()},p=function(e){o=n.getBookmark(e)},h=function(){n.moveToBookmark(o)};u({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=e.getDoc();try{l(t)}catch(e){n=!0}if("paste"!==t||r.queryCommandEnabled(t)||(n=!0),n||!r.queryCommandSupported(t)){var o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");ot.mac&&(o=o.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(n.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else r.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),Zp("left,center,right,justify".split(","),function(e){t!==e&&r.remove("align"+e)}),"none"!==t&&d("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var r,o;l(e),(r=t.getParent(n.getNode(),"ol,ul"))&&(o=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)&&(p(),t.split(o,r),h()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){d(e)},"ForeColor,HiliteColor":function(e,t,n){d(e,n)},FontName:function(t,n,r){var o,i;i=r,(o=e).formatter.toggle("fontname",{value:fp(o,i)}),o.nodeChanged()},FontSize:function(t,n,r){var o,i;i=r,(o=e).formatter.toggle("fontsize",{value:fp(o,i)}),o.nodeChanged()},RemoveFormat:function(e){r.remove(e)},mceBlockQuote:function(){d("blockquote")},FormatBlock:function(e,t,n){return d(n||"p")},mceCleanup:function(){var t=n.getBookmark();e.setContent(e.getContent()),n.moveToBookmark(t)},mceRemoveNode:function(t,r,o){var i=o||n.getNode();i!==e.getBody()&&(p(),e.dom.remove(i,!0),h())},mceSelectNodeDepth:function(r,o,i){var a=0;t.getParent(n.getNode(),function(e){if(1===e.nodeType&&a++===i)return n.select(e),!1},e.getBody())},mceSelectNode:function(e,t,r){n.select(r)},mceInsertContent:function(t,n,r){ml(e,r)},mceInsertRawHTML:function(t,r,o){var i=e.getContent();n.setContent("tiny_mce_marker"),e.setContent(i.replace(/tiny_mce_marker/g,function(){return o}))},mceToggleFormat:function(e,t,n){d(n)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){Xp(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,r,o){e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(e,o,i){var a;"string"==typeof i&&(i={href:i}),a=t.getParent(n.getNode(),"a"),i.href=i.href.replace(" ","%20"),a&&i.href||r.remove("link"),i.href&&r.apply("link",i,a)},selectAll:function(){var e=t.getParent(n.getStart(),Qo.isContentEditableTrue);if(e){var r=t.createRng();r.selectNodeContents(e),n.setRng(r)}},delete:function(){ip(e)},forwardDelete:function(){ap(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return Rp(e,r),!0}});var m=function(e){return function(){var o=n.isCollapsed()?[t.getParent(n.getNode(),t.isBlock)]:n.getSelectedBlocks(),i=Qp(o,function(t){return!!r.matchNode(t,e)});return-1!==eh(i,!0)}};u({JustifyLeft:m("alignleft"),JustifyCenter:m("aligncenter"),JustifyRight:m("alignright"),JustifyFull:m("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return f(e)},mceBlockQuote:function(){return f("blockquote")},Outdent:function(){var e;if(a.inline_styles){if((e=t.getParent(n.getStart(),t.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0;if((e=t.getParent(n.getEnd(),t.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0}return s("InsertUnorderedList")||s("InsertOrderedList")||!a.inline_styles&&!!t.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var r=t.getParent(n.getNode(),"ul,ol");return r&&("insertunorderedlist"===e&&"UL"===r.tagName||"insertorderedlist"===e&&"OL"===r.tagName)}},"state"),u({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),c("FontName",function(){return lp(t=e).fold(function(){return cp(t).map(function(e){return up.getFontFamily(t.getBody(),e)}).getOr("")},function(e){return up.getFontFamily(t.getBody(),e)});var t},this),c("FontSize",function(){return lp(t=e).fold(function(){return cp(t).map(function(e){return up.getFontSize(t.getBody(),e)}).getOr("")},function(e){return up.getFontSize(t.getBody(),e)});var t},this)}function x(e){var t={},n=[],r=function(e){var t,n,r={};for(n in Bh(Fh(e,"+"),function(e){e in Vh?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=jh[e]||e.toUpperCase().charCodeAt(0))}),t=[r.keyCode],Vh)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,ot.mac?r.ctrl=!0:r.shift=!0),r.meta&&(ot.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},o=function(t,n,o,i){var a;return(a=ln.map(Fh(t,">"),r))[a.length-1]=ln.extend(a[a.length-1],{func:o,scope:i||e}),ln.extend(a[0],{desc:e.translate(n),subpatterns:a.slice(1)})},i=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},a=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",function(e){var r,o;((o=e).altKey||o.ctrlKey||o.metaKey||"keydown"===(r=e).type&&112<=r.keyCode&&r.keyCode<=123)&&!e.isDefaultPrevented()&&(Bh(t,function(t){if(i(e,t))return n=t.subpatterns.slice(0),"keydown"===e.type&&a(t),!0}),i(e,n[0])&&(1===n.length&&"keydown"===e.type&&a(n[0]),n.shift()))}),this.add=function(n,r,i,a){var s;return"string"==typeof(s=i)?i=function(){e.execCommand(s,!1,null)}:ln.isArray(s)&&(i=function(){e.execCommand(s[0],s[1],s[2])}),Bh(Fh(ln.trim(n.toLowerCase())),function(e){var n=o(e,r,i,a);t[n.id]=n}),!0},this.remove=function(e){var n=o(e);return!!t[n.id]&&(delete t[n.id],!0)}}function E(e){var t,n=[],r=function(){var t,n=e.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:t,reposition:t,getArgs:t}},o=function(){0<n.length&&r().reposition(n)},i=function(e){Re.findIndex(n,function(t){return t===e}).each(function(e){n.splice(e,1)})},a=function(t){if(!e.removed&&im(e))return Re.find(n,function(e){return n=r().getArgs(e),o=t,!(n.type!==o.type||n.text!==o.text||n.progressBar||n.timeout||o.progressBar||o.timeout);var n,o}).getOrThunk(function(){e.editorManager.setActive(e);var a,s=r().open(t,function(){i(s),o()});return a=s,n.push(a),o(),s})};return(t=e).on("SkinLoaded",function(){var e=t.settings.service_message;e&&a({text:e,type:"warning",timeout:0,icon:""})}),t.on("ResizeEditor ResizeWindow",function(){ct.requestAnimationFrame(o)}),t.on("remove",function(){Re.each(n,function(e){r().close(e)})}),{open:a,close:function(){pe.from(n[0]).each(function(e){r().close(e),i(e),o()})},getNotifications:function(){return n}}}function S(e){var t=[],n=function(){var t,n=e.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:t=function(){throw new Error("Theme did not provide a WindowManager implementation.")},alert:t,confirm:t,close:t,getParams:t,setParams:t}},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(n){var r;t.push(n),r=n,e.fire("OpenWindow",{win:r})},i=function(n){Re.findIndex(t,function(e){return e===n}).each(function(r){var o;t.splice(r,1),o=n,e.fire("CloseWindow",{win:o}),0===t.length&&e.focus()})},a=function(){return pe.from(t[t.length-1])};return e.on("remove",function(){Re.each(t.slice(0),function(e){n().close(e)})}),{windows:t,open:function(t,r){e.editorManager.setActive(e),Kp(e);var a=n().open(t,r,i);return o(a),a},alert:function(e,t,a){var s=n().alert(e,r(a||this,t),i);o(s)},confirm:function(e,t,a){var s=n().confirm(e,r(a||this,t),i);o(s)},close:function(){a().each(function(e){n().close(e),i(e)})},getParams:function(){return a().map(n().getParams).getOr(null)},setParams:function(e){a().each(function(t){n().setParams(t,e)})},getWindows:function(){return t}}}function O(){return new(Ie.getOrDie("XMLHttpRequest"))}function T(e,t){var n={},r=function(e,n,r,o){var i,a;(i=new O).open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=function(e){o(e.loaded/e.total*100)},i.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){var e,o,a;i.status<200||300<=i.status?r("HTTP Error: "+i.status):(e=JSON.parse(i.responseText))&&"string"==typeof e.location?n((o=t.basePath,a=e.location,o?o.replace(/\/$/,"")+"/"+a.replace(/^\//,""):a)):r("Invalid JSON: "+i.responseText)},(a=new FormData).append("file",e.blob(),e.filename()),i.send(a)},o=function(e,t){return{url:t,blobInfo:e,status:!0}},i=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},a=function(e,t){ln.each(n[e],function(e){e(t)}),delete n[e]},s=function(r,s){return r=ln.grep(r,function(t){return!e.isUploaded(t.blobUri())}),it.all(ln.map(r,function(r){return e.isPending(r.blobUri())?(f=r.blobUri(),new it(function(e){n[f]=n[f]||[],n[f].push(e)})):(u=r,c=t.handler,l=s,e.markPending(u.blobUri()),new it(function(t){var n;try{var r=function(){n&&n.close()};c(u,function(n){r(),e.markUploaded(u.blobUri(),n),a(u.blobUri(),o(u,n)),t(o(u,n))},function(n){r(),e.removeFailed(u.blobUri()),a(u.blobUri(),i(u,n)),t(i(u,n))},function(e){e<0||100<e||(n||(n=l()),n.progressBar.value(e))})}catch(e){t(i(u,e.message))}}));var u,c,l,f}))};return t=ln.extend({credentials:!1,handler:r},t),{upload:function(e,n){return t.url||t.handler!==r?s(e,n):new it(function(e){e([])})}}}function k(e,t){return new(Ie.getOrDie("Blob"))(e,t)}function R(){return new(Ie.getOrDie("FileReader"))}function P(e){return new(Ie.getOrDie("Uint8Array"))(e)}function N(e){var t,n,r,o,i,a,s,u,c,l,f=(t=[],n=ka.constant,r=function(e){var t,r,o;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return t=e.id||Om.uuid("blobid"),r=e.name||t,{id:n(t),name:n(r),filename:n(r+"."+(o=e.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[o.toLowerCase()]||"dat")),blob:n(e.blob),base64:n(e.base64),blobUri:n(e.blobUri||Me.createObjectURL(e.blob)),uri:n(e.uri)}},{create:function(e,t,n,o){return r("object"==typeof e?e:{id:e,name:o,blob:t,base64:n})},add:function(e){o(e.id())||t.push(e)},get:o=function(e){return i(function(t){return t.id()===e})},getByUri:function(e){return i(function(t){return t.blobUri()===e})},findFirst:i=function(e){return on.filter(t,e)[0]},removeByUri:function(e){t=on.filter(t,function(t){return t.blobUri()!==e||(Me.revokeObjectURL(t.blobUri()),!1)})},destroy:function(){on.each(t,function(e){Me.revokeObjectURL(e.blobUri())}),t=[]}}),d=e.settings,p=(u={},c=function(e,t){return{status:e,resultUri:t}},{hasBlobUri:l=function(e){return e in u},getResultUri:function(e){var t=u[e];return t?t.resultUri:null},isPending:function(e){return!!l(e)&&1===u[e].status},isUploaded:function(e){return!!l(e)&&2===u[e].status},markPending:function(e){u[e]=c(1,null)},markUploaded:function(e,t){u[e]=c(2,t)},removeFailed:function(e){delete u[e]},destroy:function(){u={}}}),h=function(t){return function(n){return e.selection?t(n):[]}},m=function(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e},g=function(e,t,n){return e=m(e,'src="'+t+'"','src="'+n+'"'),e=m(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},v=function(t,n){on.each(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=on.map(e.fragments,function(e){return g(e,t,n)}):e.content=g(e.content,t,n)})},y=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},b=function(t,n){f.removeByUri(t.src),v(t.src,n),e.$(t).attr({src:d.images_reuse_filename?n+"?"+(new Date).getTime():n,"data-mce-src":e.convertURL(n,"src")})},w=function(t){return a||(a=T(p,{url:d.images_upload_url,basePath:d.images_upload_base_path,credentials:d.images_upload_credentials,handler:d.images_upload_handler})),x().then(h(function(n){var r;return r=on.map(n,function(e){return e.blobInfo}),a.upload(r,y).then(h(function(r){var o=on.map(r,function(t,r){var o=n[r].image;return t.status&&!1!==e.settings.images_replace_blob_uris?b(o,t.url):t.error&&fm(e,t.error),{element:o,status:t.status}});return t&&t(o),o}))}))},C=function(e){if(!1!==d.automatic_uploads)return w(e)},_=function(e){return!d.images_dataimg_filter||d.images_dataimg_filter(e)},x=function(){var t,n,r;return s||(t=p,n=f,r={},s={findAll:function(e,o){var i;o||(o=ka.constant(!0)),i=on.filter(Em(e),function(e){var n=e.src;return!!ot.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===ot.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n):0===n.indexOf("data:")&&o(e))});var a=on.map(i,function(e){if(r[e.src])return new it(function(t){r[e.src].then(function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})})});var t=new it(function(t,r){xm(n,e,t,r)}).then(function(e){return delete r[e.image.src],e}).catch(function(t){return delete r[e.src],t});return r[e.src]=t});return it.all(a)}}),s.findAll(e.getBody(),_).then(h(function(t){return t=on.filter(t,function(t){return"string"!=typeof t||(dm(e,t),!1)}),on.each(t,function(e){v(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},E=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var r=p.getResultUri(n);if(r)return'src="'+r+'"';var o=f.getByUri(n);return o||(o=on.reduce(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),o?'src="data:'+o.blob().type+";base64,"+o.base64()+'"':t})};return e.on("setContent",function(){!1!==e.settings.automatic_uploads?C():x()}),e.on("RawSaveContent",function(e){e.content=E(e.content)}),e.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=E(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){on.each(e,function(e){var t=e.attr("src");if(!f.getByUri(t)){var n=p.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:f,uploadImages:w,uploadImagesAuto:C,scanForImages:x,destroy:function(){f.destroy(),p.destroy(),s=a=null}}}function A(e){var t,n=[];"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(n){var r,o;o={startContainer:(r=e.selection.getRng()).startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&dp(o,t)||e.fire("SelectionChange"),t=o}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!ot.range&&e.selection.isCollapsed()||Mm(e)&&!function(t){var r,o;if((o=e.$(t).parentsUntil(e.getBody()).add(t)).length===n.length){for(r=o.length;0<=r&&o[r]===n[r];r--);if(-1===r)return n=o,!0}return n=o,!1}(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("MouseUp",function(t){!t.isDefaultPrevented()&&Mm(e)&&("IMG"===e.selection.getNode().nodeName?ct.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())}),this.nodeChanged=function(t){var n,r,o,i=e.selection;e.initialized&&i&&!e.settings.disable_nodechange&&!e.readonly&&(o=e.getBody(),(n=i.getStart(!0)||o).ownerDocument===e.getDoc()&&e.dom.isChildOf(n,o)||(n=o),r=[],e.dom.getParent(n,function(e){if(e===o)return!0;r.push(e)}),(t=t||{}).element=n,t.parents=r,e.fire("NodeChange",t))}}function I(e,t){void 0===t&&(t=h());var n=function(){};!1!==(e=e||{}).fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,i=e.text?e.text:n,a=e.start?e.start:n,s=e.end?e.end:n,u=e.pi?e.pi:n,c=e.doctype?e.doctype:n;return{parse:function(n){var l,f,d,p,h,m,g,v,y,b,w,C,_,x,E,S,O,T,k,R,P,N,A,I,D,M,L,B,F,j=0,V=[],H=0,U=hi.decode,z=ln.makeMap("src,href,data,background,formaction,poster,xlink:href"),q=/((java|vb)script|mhtml):/i,W=function(e){var t,n;for(t=V.length;t--&&V[t].name!==e;);if(0<=t){for(n=V.length-1;t<=n;n--)(e=V[n]).valid&&s(e.name);V.length=t}},G=function(t,n,r,o,i){var a,s,u,c,l;if(r=(n=n.toLowerCase())in w?n:U(r||o||i||""),_&&!v&&0==(0===(u=n).indexOf("data-")||0===u.indexOf("aria-"))){if(!(a=T[n])&&k){for(s=k.length;s--&&!(a=k[s]).pattern.test(n););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(z[n]&&!e.allow_script_urls){var f=r.replace(/[\s\u0000-\u001F]+/g,"");try{f=decodeURIComponent(f)}catch(e){f=unescape(f)}if(q.test(f))return;if(l=f,!(c=e).allow_html_data_urls&&(/^data:image\//i.test(l)?!1===c.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(l):/^data:/i.test(l)))return}v&&(n in z||0===n.indexOf("on"))||(p.map[n]=r,p.push({name:n,value:r}))};for(D=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),M=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,b=t.getShortEndedElements(),I=e.self_closing_elements||t.getSelfClosingElements(),w=t.getBoolAttrs(),_=e.validate,y=e.remove_internals,F=e.fix_self_closing,L=t.getSpecialElements(),A=n+">";l=D.exec(A);){if(j<l.index&&i(U(n.substr(j,l.index-j))),f=l[6])":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),W(f);else if(f=l[7]){if(l.index+l[0].length>n.length){i(U(n.substr(l.index))),j=l.index+l[0].length;continue}if(":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),C=f in b,F&&I[f]&&0<V.length&&V[V.length-1].name===f&&W(f),!_||(x=t.getElementRule(f))){if(E=!0,_&&(T=x.attributes,k=x.attributePatterns),(O=l[8])?((v=-1!==O.indexOf("data-mce-type"))&&y&&(E=!1),(p=[]).map={},O.replace(M,G)):(p=[]).map={},_&&!v){if(R=x.attributesRequired,P=x.attributesDefault,N=x.attributesForced,x.removeEmptyAttrs&&!p.length&&(E=!1),N)for(h=N.length;h--;)g=(S=N[h]).name,"{$uid}"===(B=S.value)&&(B="mce_"+H++),p.map[g]=B,p.push({name:g,value:B});if(P)for(h=P.length;h--;)(g=(S=P[h]).name)in p.map||("{$uid}"===(B=S.value)&&(B="mce_"+H++),p.map[g]=B,p.push({name:g,value:B}));if(R){for(h=R.length;h--&&!(R[h]in p.map););-1===h&&(E=!1)}if(S=p.map["data-mce-bogus"]){if("all"===S){j=gg(t,n,D.lastIndex),D.lastIndex=j;continue}E=!1}}E&&a(f,p,C)}else E=!1;if(d=L[f]){d.lastIndex=j=l.index+l[0].length,(l=d.exec(n))?(E&&(m=n.substr(j,l.index-j)),j=l.index+l[0].length):(m=n.substr(j),j=n.length),E&&(0<m.length&&i(m,!0),s(f)),D.lastIndex=j;continue}C||(O&&O.indexOf("/")===O.length-1?E&&s(f):V.push({name:f,valid:E}))}else(f=l[1])?(">"===f.charAt(0)&&(f=" "+f),e.allow_conditional_comments||"[if"!==f.substr(0,3).toLowerCase()||(f=" "+f),r(f)):(f=l[2])?o(f.replace(/<!--|-->/g,"")):(f=l[3])?c(f):(f=l[4])&&u(f,l[5]);j=l.index+l[0].length}for(j<n.length&&i(U(n.substr(j))),h=V.length-1;0<=h;h--)(f=V[h]).valid&&s(f.name)}}}function D(e){var t,n,r=this,o=0,i=[],a=0,s=function(){return 0===a},u=function(e){s()&&(r.typing=e)},c=function(t){e.setDirty(t)},l=function(e){u(!1),r.add({},e)},f=function(){r.typing&&(u(!1),r.add())};return e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(f(),r.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&l(e)}),e.on("ObjectResizeStart Cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("DragEnd",l),e.on("KeyUp",function(t){var o=t.keyCode;t.isDefaultPrevented()||((33<=o&&o<=36||37<=o&&o<=40||45===o||t.ctrlKey)&&(l(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),n&&r.typing&&!1===Fg(Lg(e),i[0])&&(!1===e.isDirty()&&(c(!0),e.fire("change",{level:i[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(33<=t&&t<=36||37<=t&&t<=40||45===t)r.typing&&l(e);else{var o=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224===t||91===t||r.typing||o||(r.beforeChange(),u(!0),r.add({},e),n=!0)}}),e.on("MouseDown",function(e){r.typing&&l(e)}),e.on("input",function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data)&&l(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),r={data:i,typing:!1,beforeChange:function(){s()&&(t=jc.getUndoBookmark(e.selection))},add:function(n,r){var a,u,l,f=e.settings;if(l=Lg(e),n=n||{},n=ln.extend(n,l),!1===s()||e.removed)return null;if(u=i[o],e.fire("BeforeAddUndo",{level:n,lastLevel:u,originalEvent:r}).isDefaultPrevented())return null;if(u&&Fg(u,n))return null;if(i[o]&&(i[o].beforeBookmark=t),f.custom_undo_redo_levels&&i.length>f.custom_undo_redo_levels){for(a=0;a<i.length-1;a++)i[a]=i[a+1];i.length--,o=i.length}n.bookmark=jc.getUndoBookmark(e.selection),o<i.length-1&&(i.length=o+1),i.push(n),o=i.length-1;var d={level:n,lastLevel:u,originalEvent:r};return e.fire("AddUndo",d),0<o&&(c(!0),e.fire("change",d)),n},undo:function(){var t;return r.typing&&(r.add(),r.typing=!1,u(!1)),0<o&&(t=i[--o],Bg(e,t,!0),c(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return o<i.length-1&&(t=i[++o],Bg(e,t,!1),c(!0),e.fire("redo",{level:t})),t},clear:function(){i=[],o=0,r.typing=!1,r.data=i,e.fire("ClearUndos")},hasUndo:function(){return 0<o||r.typing&&i[0]&&!Fg(Lg(e),i[0])},hasRedo:function(){return o<i.length-1&&!r.typing},transact:function(e){return f(),r.beforeChange(),r.ignore(e),r.add()},ignore:function(e){try{a++,e()}finally{a--}},extra:function(t,n){var a,s;r.transact(t)&&(s=i[o].bookmark,a=i[o-1],Bg(e,a,!0),r.transact(n)&&(i[o-1].beforeBookmark=s))}}}function M(e){var t,n,r,o=(t=e,n={},(r=function(e,t){e&&("string"!=typeof e?ln.each(e,function(e,t){r(t,e)}):(t=t.length?t:[t],ln.each(t,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),n[e]=t))})(oy.get(t.dom)),r(t.settings.formats),{get:function(e){return e?n[e]:n},register:r,unregister:function(e){return e&&n[e]&&delete n[e],n}}),i=vu(null);return dy(e),wv(e),{get:o.get,register:o.register,unregister:o.unregister,apply:se.curry(ty.applyFormat,e),remove:se.curry(Bv,e),toggle:se.curry(fy,e,o),match:se.curry(sv.match,e),matchAll:se.curry(sv.matchAll,e),matchNode:se.curry(sv.matchNode,e),canApply:se.curry(sv.canApply,e),formatChanged:se.curry(ry,e,i),getCssText:se.curry(ly,e)}}function L(e,t){void 0===t&&(t=h());var n={},r=[],o={},i={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var t,a,s;a in n&&((s=o[a])?s.push(e):o[a]=[e]),t=r.length;for(;t--;)(a=r[t].name)in e.attributes.map&&((s=i[a])?s.push(e):i[a]=[e]);return e},s={schema:t,addAttributeFilter:function(e,t){Iy(Dy(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(e,t){Iy(Dy(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},getNodeFilters:function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},filterNode:a,parse:function(s,u){var c,l,f,d,p,h,m,g,v,y,b,w=[];u=u||{},o={},i={},v=My(Ay("script,style,head,html,body,title,meta,param"),t.getBlockElements());var C=t.getNonEmptyElements(),_=t.children,x=e.validate,E="forced_root_block"in u?u.forced_root_block:e.forced_root_block,S=t.getWhiteSpaceElements(),O=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,k=/[ \t\r\n]+/g,R=/^[ \t\r\n]+$/;y=S.hasOwnProperty(u.context)||S.hasOwnProperty(e.root_name);var P=function(e,t){var r,i=new Sy(e,t);return e in n&&((r=o[e])?r.push(i):o[e]=[i]),i},N=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(0<(o=n.value.replace(T,"")).length)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}};c=bg({validate:x,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){b.append(P("#cdata",4)).value=e},text:function(e,t){var n;y||(e=e.replace(k," "),Py(b.lastChild,v)&&(e=e.replace(O,""))),0!==e.length&&((n=P("#text",3)).raw=!!t,b.append(n).value=e)},comment:function(e){b.append(P("#comment",8)).value=e},pi:function(e,t){b.append(P(e,7)).value=t,N(b)},doctype:function(e){b.append(P("#doctype",10)).value=e,N(b)},start:function(e,n,o){var a,s,u,c,l;if(u=x?t.getElementRule(e):{}){for((a=P(u.outputName||e,1)).attributes=n,a.shortEnded=o,b.append(a),(l=_[b.name])&&_[a.name]&&!l[a.name]&&w.push(a),s=r.length;s--;)(c=r[s].name)in n.map&&((m=i[c])?m.push(a):i[c]=[a]);v[e]&&N(a),o||(b=a),!y&&S[e]&&(y=!0)}},end:function(n){var r,o,i,a,s;if(o=x?t.getElementRule(n):{}){if(v[n]&&!y){if((r=b.firstChild)&&3===r.type)if(0<(i=r.value.replace(O,"")).length)r.value=i,r=r.next;else for(a=r.next,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.next,(0===i.length||R.test(i))&&(r.remove(),r=a),r=a;if((r=b.lastChild)&&3===r.type)if(0<(i=r.value.replace(T,"")).length)r.value=i,r=r.prev;else for(a=r.prev,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.prev,(0===i.length||R.test(i))&&(r.remove(),r=a),r=a}if(y&&S[n]&&(y=!1),o.removeEmpty&&Ry(t,C,S,b)&&!b.attributes.map.name&&!b.attr("id"))return s=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=s);o.paddEmpty&&(Ty(b)||Ry(t,C,S,b))&&Oy(e,u,v,b),b=b.parent}}},t);var A=b=new Sy(u.context||e.root_name,11);if(c.parse(s),x&&w.length&&(u.context?u.invalid=!0:function(e){var n,r,o,i,s,u,c,l,f,d,p,h,m,g,v,y;for(h=Ay("tr,td,th,tbody,thead,tfoot,table"),d=t.getNonEmptyElements(),p=t.getWhiteSpaceElements(),m=t.getTextBlockElements(),g=t.getSpecialElements(),n=0;n<e.length;n++)if((r=e[n]).parent&&!r.fixed)if(m[r.name]&&"li"===r.parent.name){for(v=r.next;v&&m[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!h[o.name];o=o.parent)i.push(o);if(o&&1<i.length){for(i.reverse(),s=u=a(i[0].clone()),f=0;f<i.length-1;f++){for(t.isValidChild(u.name,i[f].name)?(c=a(i[f].clone()),u.append(c)):c=u,l=i[f].firstChild;l&&l!==i[f+1];)y=l.next,c.append(l),l=y;u=c}Ry(t,d,p,s)?o.insert(r,i[0],!0):(o.insert(s,i[0],!0),o.insert(r,s)),o=i[0],(Ry(t,d,p,o)||ky(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((v=r.prev)&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if((v=r.next)&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(a(new Sy("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(a(new Sy("div",1))):g[r.name]?r.empty().remove():r.unwrap()}}}(w)),E&&("body"===A.name||u.isRootContent)&&function(){var n,r,o=A.firstChild,i=function(e){e&&((o=e.firstChild)&&3===o.type&&(o.value=o.value.replace(O,"")),(o=e.lastChild)&&3===o.type&&(o.value=o.value.replace(T,"")))};if(t.isValidChild(A.name,E.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!v[o.name]&&!o.attr("data-mce-type")?(r||((r=P(E,1)).attr(e.forced_root_block_attrs),A.insert(r,o)),r.append(o)):(i(r),r=null),o=n;i(r)}}(),!u.invalid){for(g in o){for(m=n[g],p=(l=o[g]).length;p--;)l[p].parent||l.splice(p,1);for(f=0,d=m.length;f<d;f++)m[f](l,g,u)}for(f=0,d=r.length;f<d;f++)if((m=r[f]).name in i){for(p=(l=i[m.name]).length;p--;)l[p].parent||l.splice(p,1);for(p=0,h=m.callbacks.length;p<h;p++)m.callbacks[p](l,m.name,u)}}return A}};return Ny(s,e),Cy.register(s,e),s}function B(e,t){var n,r,o,i,a,s,u=(n=e,s=["data-mce-selected"],o=(r=t)&&r.dom?r.dom:Di.DOM,i=r&&r.schema?r.schema:h(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs=!("remove_trailing_brs"in n)||n.remove_trailing_brs,a=L(n,i),vy.register(a,n,o),{schema:i,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:function(e,t){var s=gy.merge({format:"html"},t||{}),u=yy.process(r,e,s),c=By(o,u,s),l=Fy(a,c,s);return"tree"===s.format?l:jy(r,n,i,l,s)},addRules:function(e){i.addValidElements(e)},setRules:function(e){i.setValidElements(e)},addTempAttr:se.curry(Ly,a,s),getTempAttrs:function(){return s}});return{schema:u.schema,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:u.serialize,addRules:u.addRules,setRules:u.setRules,addTempAttr:u.addTempAttr,getTempAttrs:u.getTempAttrs}}function F(e){return{getBookmark:se.curry(Xc,e),moveToBookmark:se.curry(Zc,e)}}function j(e){var t,n,r,o=ln.each,i=cg.BACKSPACE,a=cg.DELETE,s=e.dom,u=e.selection,c=e.settings,l=e.parser,f=ot.gecko,d=ot.ie,p=ot.webkit,h="data:text/mce-internal,",m=d?"Text":"URL",g=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},v=function(e){return e.isDefaultPrevented()},y=function(){e.shortcuts.add("meta+a",null,"SelectAll")},b=function(){e.on("keydown",function(e){if(!v(e)&&e.keyCode===i&&u.isCollapsed()&&0===u.getRng().startOffset){var t=u.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},w=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(11<ot.ie)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))};return e.on("keydown",function(t){var n,r,o,i,a;if(!v(t)&&t.keyCode===cg.BACKSPACE&&(r=(n=u.getRng()).startContainer,o=n.startOffset,i=s.getRoot(),a=r,n.collapsed&&0===o)){for(;a&&a.parentNode&&a.parentNode.firstChild===a&&a.parentNode!==i;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(e.formatter.toggle("blockquote",null,a),(n=s.createRng()).setStart(r,0),n.setEnd(r,0),u.setRng(n))}}),t=function(e){var t=s.create("body"),n=e.cloneContents();return t.appendChild(n),u.serializer.serialize(t,{format:"html"})},e.on("keydown",function(n){var r,o,u,c,l,f=n.keyCode;if(!v(n)&&(f===a||f===i)){if(r=e.selection.isCollapsed(),o=e.getBody(),r&&!s.isEmpty(o))return;if(!r&&(u=e.selection.getRng(),c=t(u),(l=s.createRng()).selectNode(e.getBody()),c!==t(l)))return;n.preventDefault(),e.setContent(""),o.firstChild&&s.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}}),ot.windowsPhone||e.on("keyup focusin mouseup",function(e){cg.modifierPressed(e)||u.normalize()},!0),p&&(e.settings.content_editable||s.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=u.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Zi(n.startContainer))return;u.placeCaretAt(t.clientX,t.clientY)}else u.setRng(n)}),e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==s.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&s.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),u.select(n))}),c.forced_root_block&&e.on("init",function(){g("DefaultParagraphSeparator",c.forced_root_block)}),e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})}),b(),l.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),ot.iOS?(e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()}),w(),e.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):y()),11<=ot.ie&&(w(),b()),ot.ie&&(y(),g("AutoUrlDetect",!1),e.on("dragstart",function(t){var n,r,o;(n=t).dataTransfer&&(e.selection.isCollapsed()&&"IMG"===n.target.tagName&&u.select(n.target),0<(r=e.selection.getContent()).length&&(o=h+escape(e.id)+","+escape(r),n.dataTransfer.setData(m,o)))}),e.on("drop",function(t){if(!v(t)){var n=(a=t).dataTransfer&&(s=a.dataTransfer.getData(m))&&0<=s.indexOf(h)?(s=s.substr(h.length).split(","),{id:unescape(s[0]),html:unescape(s[1])}):null;if(n&&n.id!==e.id){t.preventDefault();var r=Wy(t.x,t.y,e.getDoc());u.setRng(r),o=n.html,i=!0,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:o,internal:i}):e.execCommand("mceInsertContent",!1,o)}}var o,i,a,s})),f&&(e.on("keydown",function(t){if(!v(t)&&t.keyCode===i){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&0===u.getRng().startOffset){var n=u.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return s.remove(n),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(s.remove(r),t.preventDefault())}}}),Range.prototype.getClientRects||e.on("mousedown",function(t){if(!v(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),ct.setEditorTimeout(e,function(){n.focus()})}}),n=function(){var t=s.getAttribs(u.getStart().cloneNode(!1));return function(){var n=u.getStart();n!==e.getBody()&&(s.setAttrib(n,"style",null),o(t,function(e){n.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!u.isCollapsed()&&s.getParent(u.getStart(),s.isBlock)!==s.getParent(u.getEnd(),s.isBlock)},e.on("keypress",function(t){var o;if(!v(t)&&(8===t.keyCode||46===t.keyCode)&&r())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1}),s.bind(e.getDoc(),"cut",function(t){var o;!v(t)&&r()&&(o=n(),ct.setEditorTimeout(e,function(){o()}))}),c.readonly||e.on("BeforeExecCommand MouseDown",function(){g("StyleWithCSS",!1),g("enableInlineTableEditing",!1),c.object_resizing||g("enableObjectResizing",!1)}),e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||o(s.select("a"),function(e){var t=e.parentNode,n=s.getRoot();if(t.lastChild===e){for(;t&&!s.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}s.add(t,"br",{"data-mce-bogus":1})}})}),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),ot.mac&&e.on("keydown",function(t){!cg.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}),b()),{refreshContentEditable:function(){},isHidden:function(){var t;return!f||e.removed?0:!(t=e.selection.getSel())||!t.rangeCount||0===t.rangeCount}}}function V(e){return{walk:function(t,n){return Tv(e,t,n)},split:cv,normalize:function(t){return bp(e,t).fold(se.constant(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}var H,U,z,q,W,G,K,$,Y,X,Z,J,Q,ee,te,ne,re,oe=function(e){return function(){return e}},ie=oe(!1),ae=oe(!0),se={noop:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},noarg:function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e()}},compose:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,arguments))}},constant:oe,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=new Array(arguments.length-1),o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var o=new Array(arguments.length),i=0;i<o.length;i++)o[i]=arguments[i];var a=r.concat(o);return e.apply(null,a)}},not:function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:ie,always:ae},ue=se.never,ce=se.always,le=function(){return fe},fe=(q={fold:function(e,t){return e()},is:ue,isSome:ue,isNone:ce,getOr:z=function(e){return e},getOrThunk:U=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:z,orThunk:U,map:le,ap:le,each:function(){},bind:le,flatten:le,exists:ue,forall:ce,filter:le,equals:H=function(e){return e.isNone()},equals_:H,toArray:function(){return[]},toString:se.constant("none()")},Object.freeze&&Object.freeze(q),q),de=function(e){var t=function(){return e},n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:ce,isNone:ue,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:function(t){return de(t(e))},ap:function(t){return t.fold(le,function(t){return de(t(e))})},each:function(t){t(e)},bind:r,flatten:t,exists:r,forall:r,filter:function(t){return t(e)?o:fe},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(ue,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},pe={some:de,none:le,from:function(e){return null===e||void 0===e?fe:de(e)}},he=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t}(t)===e}},me={isString:he("string"),isObject:he("object"),isArray:he("array"),isNull:he("null"),isBoolean:he("boolean"),isUndefined:he("undefined"),isFunction:he("function"),isNumber:he("number")},ge=void 0===(W=Array.prototype.indexOf)?function(e,t){return xe(e,t)}:function(e,t){return W.call(e,t)},ve=function(e,t){return-1<ge(e,t)},ye=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},be=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)},we=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n,e)},Ce=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},_e=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return pe.some(n);return pe.none()},xe=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},Ee=Array.prototype.push,Se=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ee.apply(t,e[n])}return t},Oe=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n,e))return!1;return!0},Te=Array.prototype.slice,ke=me.isFunction(Array.from)?Array.from:function(e){return Te.call(e)},Re={map:ye,each:be,eachr:we,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:Ce,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var s=e[i],u=t(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r},indexOf:function(e,t){var n=ge(e,t);return-1===n?pe.none():pe.some(n)},foldr:function(e,t,n){return we(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return be(e,function(e){n=t(n,e)}),n},find:function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return pe.some(o)}return pe.none()},findIndex:_e,flatten:Se,bind:function(e,t){var n=ye(e,t);return Se(n)},forall:Oe,exists:function(e,t){return _e(e,t).isSome()},contains:ve,equal:function(e,t){return e.length===t.length&&Oe(e,function(e,n){return e===t[n]})},reverse:function(e){var t=Te.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return Ce(e,function(e){return!ve(t,e)})},mapToObject:function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},pure:function(e){return[e]},sort:function(e,t){var n=Te.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(e){return 0===e.length?pe.none():pe.some(e[0])},last:function(e){return 0===e.length?pe.none():pe.some(e[e.length-1])},from:ke},Pe="undefined"!=typeof window?window:Function("return this;")(),Ne=function(e,t){for(var n=void 0!==t&&null!==t?t:Pe,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},Ae=function(e,t){var n=e.split(".");return Ne(n,t)},Ie={getOrDie:function(e,t){var n=Ae(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n}},De=function(){return Ie.getOrDie("URL")},Me={createObjectURL:function(e){return De().createObjectURL(e)},revokeObjectURL:function(e){De().revokeObjectURL(e)}},Le=navigator,Be=Le.userAgent,Fe=function(e){return"matchMedia"in window&&matchMedia(e).matches};Q=/Android/.test(Be),K=(K=!(G=/WebKit/.test(Be))&&/MSIE/gi.test(Be)&&/Explorer/gi.test(Le.appName))&&/MSIE (\w+)\./.exec(Be)[1],$=-1!==Be.indexOf("Trident/")&&(-1!==Be.indexOf("rv:")||-1!==Le.appName.indexOf("Netscape"))&&11,Y=-1!==Be.indexOf("Edge/")&&!K&&!$&&12,K=K||$||Y,X=!G&&!$&&/Gecko/.test(Be),Z=-1!==Be.indexOf("Mac"),J=/(iPad|iPhone)/.test(Be),ee="FormData"in window&&"FileReader"in window&&"URL"in window&&!!Me.createObjectURL,te=Fe("only screen and (max-device-width: 480px)")&&(Q||J),ne=Fe("only screen and (min-width: 800px)")&&(Q||J),re=-1!==Be.indexOf("Windows Phone"),Y&&(G=!1);var je,Ve,He,Ue,ze,qe,We,Ge,Ke,$e,Ye,Xe,Ze,Je,Qe,et,tt,nt,rt,ot={opera:!1,webkit:G,ie:K,gecko:X,mac:Z,iOS:J,android:Q,contentEditable:!J||ee||534<=parseInt(Be.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==K,range:window.getSelection&&"Range"in window,documentMode:K&&!Y?document.documentMode||7:10,fileApi:ee,ceFalse:!1===K||8<K,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===K||11<K,desktop:!te&&!ne,windowsPhone:re},it=window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(e){var t=this;null!==this._state?c(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function n(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if("function"==typeof i)return void a(e(i,t),e(n,this),e(r,this))}this._state=!0,this._value=t,o.call(this)}catch(e){r.call(this,e)}}function r(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,n=this._deferreds.length;e<n;e++)t.call(this,this._deferreds[e]);this._deferreds=null}function i(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function a(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(t,e(n,this),e(r,this))},c=u.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)};return u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,n){var r=this;return new u(function(o,a){t.call(r,new i(e,n,o,a))})},u.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&s(arguments[0])?arguments[0]:arguments);return new u(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(i,e)},n)}e[i]=a,0==--o&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},u.resolve=function(e){return e&&"object"==typeof e&&e.constructor===u?e:new u(function(t){t(e)})},u.reject=function(e){return new u(function(t,n){n(e)})},u.race=function(e){return new u(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},u}(),at=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},st=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},ut=function(e,t){var n,r;return(r=function(){var r=arguments;clearTimeout(n),n=at(function(){e.apply(this,r)},t)}).stop=function(){clearTimeout(n)},r},ct={requestAnimationFrame:function(e,t){je?je.then(e):je=new it(function(e){t||(t=document.body),function(e,t){var n,r=window.requestAnimationFrame,o=["ms","moz","webkit"];for(n=0;n<o.length&&!r;n++)r=window[o[n]+"RequestAnimationFrame"];r||(r=function(e){window.setTimeout(e,0)}),r(e,t)}(e,t)}).then(e)},setTimeout:at,setInterval:st,setEditorTimeout:function(e,t,n){return at(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r;return r=st(function(){e.removed?clearInterval(r):t()},n)},debounce:ut,throttle:ut,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},lt=/^(?:mouse|contextmenu)|click/,ft={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},dt=function(){return!1},pt=function(){return!0},ht=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},mt=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},gt=function(e,t){var n,r,o,i,a,s,u=t||{};for(n in e)ft[n]||(u[n]=e[n]);if(u.target||(u.target=u.srcElement||document),ot.experimentalShadowDom&&(u.target=(r=e,o=u.target,a=o,(i=r.path)&&0<i.length&&(a=i[0]),r.composedPath&&(i=r.composedPath())&&0<i.length&&(a=i[0]),a)),e&&lt.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var c=u.target.ownerDocument||document,l=c.documentElement,f=c.body;u.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),u.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return u.preventDefault=function(){u.isDefaultPrevented=pt,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},u.stopPropagation=function(){u.isPropagationStopped=pt,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(u.stopImmediatePropagation=function(){u.isImmediatePropagationStopped=pt,u.stopPropagation()})==((s=u).isDefaultPrevented===pt||s.isDefaultPrevented===dt)&&(u.isDefaultPrevented=dt,u.isPropagationStopped=dt,u.isImmediatePropagationStopped=dt),void 0===u.metaKey&&(u.metaKey=!1),u},vt=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)t(o);else{var i=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){n.domLoaded||(n.domLoaded=!0,t(o))},s=function(){i()&&(mt(r,"readystatechange",s),a())},u=function(){try{r.documentElement.doScroll("left")}catch(e){return void ct.setTimeout(u)}a()};!r.addEventListener||ot.ie&&ot.ie<11?(ht(r,"readystatechange",s),r.documentElement.doScroll&&e.self===e.top&&u()):i()?a():ht(e,"DOMContentLoaded",a),ht(e,"load",a)}},yt=function(){var e,t,n,r,o,i=this,a={};t="mce-data-"+(+new Date).toString(32),r="onmouseenter"in document.documentElement,n="onfocusin"in document.documentElement,o={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,i.domLoaded=!1,i.events=a;var s=function(e,t){var n,r,o,i,s=a[t];if(n=s&&s[e.type])for(r=0,o=n.length;r<o;r++)if((i=n[r])&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};i.bind=function(u,c,l,f){var d,p,h,m,g,v,y,b=window,w=function(e){s(gt(e||b.event),d)};if(u&&3!==u.nodeType&&8!==u.nodeType){for(u[t]?d=u[t]:(d=e++,u[t]=d,a[d]={}),f=f||u,h=(c=c.split(" ")).length;h--;)v=w,g=y=!1,"DOMContentLoaded"===(m=c[h])&&(m="ready"),i.domLoaded&&"ready"===m&&"complete"===u.readyState?l.call(f,gt({type:m})):(r||(g=o[m])&&(v=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=gt(e||b.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,s(e,d))}),n||"focusin"!==m&&"focusout"!==m||(y=!0,g="focusin"===m?"focus":"blur",v=function(e){(e=gt(e||b.event)).type="focus"===e.type?"focusin":"focusout",s(e,d)}),(p=a[d][m])?"ready"===m&&i.domLoaded?l({type:m}):p.push({func:l,scope:f}):(a[d][m]=p=[{func:l,scope:f}],p.fakeName=g,p.capture=y,p.nativeHandler=v,"ready"===m?vt(u,v,i):ht(u,g||m,v,y)));return u=p=0,l}},i.unbind=function(e,n,r){var o,s,u,c,l,f;if(!e||3===e.nodeType||8===e.nodeType)return i;if(o=e[t]){if(f=a[o],n){for(u=(n=n.split(" ")).length;u--;)if(s=f[l=n[u]]){if(r)for(c=s.length;c--;)if(s[c].func===r){var d=s.nativeHandler,p=s.fakeName,h=s.capture;(s=s.slice(0,c).concat(s.slice(c+1))).nativeHandler=d,s.fakeName=p,s.capture=h,f[l]=s}r&&0!==s.length||(delete f[l],mt(e,s.fakeName||l,s.nativeHandler,s.capture))}}else{for(l in f)s=f[l],mt(e,s.fakeName||l,s.nativeHandler,s.capture);f={}}for(l in f)return i;delete a[o];try{delete e[t]}catch(n){e[t]=null}}return i},i.fire=function(e,n,r){var o;if(!e||3===e.nodeType||8===e.nodeType)return i;for((r=gt(null,r)).type=n,r.target=e;(o=e[t])&&s(r,o),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!r.isPropagationStopped(););return i},i.clean=function(e){var n,r,o=i.unbind;if(!e||3===e.nodeType||8===e.nodeType)return i;if(e[t]&&o(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(o(e),n=(r=e.getElementsByTagName("*")).length;n--;)(e=r[n])[t]&&o(e);return i},i.destroy=function(){a={}},i.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};yt.Event=new yt,yt.Event.bind(window,"ready",function(){});var bt="sizzle"+-new Date,wt=window.document,Ct=0,_t=0,xt=t(),Et=t(),St=t(),Ot=function(e,t){return e===t&&(Xe=!0),0},Tt="undefined",kt={}.hasOwnProperty,Rt=[],Pt=Rt.pop,Nt=Rt.push,At=Rt.push,It=Rt.slice,Dt=Rt.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Mt="[\\x20\\t\\r\\n\\f]",Lt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Bt="\\["+Mt+"*("+Lt+")(?:"+Mt+"*([*^$|!~]?=)"+Mt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Lt+"))|)"+Mt+"*\\]",Ft=":("+Lt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Bt+")*)|.*)\\)|)",jt=new RegExp("^"+Mt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Mt+"+$","g"),Vt=new RegExp("^"+Mt+"*,"+Mt+"*"),Ht=new RegExp("^"+Mt+"*([>+~]|"+Mt+")"+Mt+"*"),Ut=new RegExp("="+Mt+"*([^\\]'\"]*?)"+Mt+"*\\]","g"),zt=new RegExp(Ft),qt=new RegExp("^"+Lt+"$"),Wt={ID:new RegExp("^#("+Lt+")"),CLASS:new RegExp("^\\.("+Lt+")"),TAG:new RegExp("^("+Lt+"|[*])"),ATTR:new RegExp("^"+Bt),PSEUDO:new RegExp("^"+Ft),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Mt+"*(even|odd|(([+-]|)(\\d*)n|)"+Mt+"*(?:([+-]|)"+Mt+"*(\\d+)|))"+Mt+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Mt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Mt+"*((?:-\\d)?\\d*)"+Mt+"*\\)|)(?=[^-]|$)","i")},Gt=/^(?:input|select|textarea|button)$/i,Kt=/^h\d$/i,$t=/^[^{]+\{\s*\[native \w/,Yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Xt=/[+~]/,Zt=/'|\\/g,Jt=new RegExp("\\\\([\\da-f]{1,6}"+Mt+"?|("+Mt+")|.)","ig"),Qt=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{At.apply(Rt=It.call(wt.childNodes),wt.childNodes),Rt[wt.childNodes.length].nodeType}catch(e){At={apply:Rt.length?function(e,t){Nt.apply(e,It.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var en=function(e,t,n,r){var o,a,u,c,l,f,d,p,h,m;if((t?t.ownerDocument||t:wt)!==Je&&Ze(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(c=(t=t||Je).nodeType)&&9!==c)return[];if(et&&!r){if(o=Yt.exec(e))if(u=o[1]){if(9===c){if(!(a=t.getElementById(u))||!a.parentNode)return n;if(a.id===u)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(u))&&rt(t,a)&&a.id===u)return n.push(a),n}else{if(o[2])return At.apply(n,t.getElementsByTagName(e)),n;if((u=o[3])&&He.getElementsByClassName)return At.apply(n,t.getElementsByClassName(u)),n}if(He.qsa&&(!tt||!tt.test(e))){if(p=d=bt,h=t,m=9===c&&e,1===c&&"object"!==t.nodeName.toLowerCase()){for(f=We(e),(d=t.getAttribute("id"))?p=d.replace(Zt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=f.length;l--;)f[l]=p+s(f[l]);h=Xt.test(e)&&i(t.parentNode)||t,m=f.join(",")}if(m)try{return At.apply(n,h.querySelectorAll(m)),n}catch(e){}finally{d||t.removeAttribute("id")}}}return Ke(e.replace(jt,"$1"),t,n,r)};for(Ve in He=en.support={},qe=en.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},Ze=en.setDocument=function(e){var t,n=e?e.ownerDocument||e:wt,o=n.defaultView;return n!==Je&&9===n.nodeType&&n.documentElement?(Qe=(Je=n).documentElement,et=!qe(n),o&&o!==function(e){try{return e.top}catch(e){}return null}(o)&&(o.addEventListener?o.addEventListener("unload",function(){Ze()},!1):o.attachEvent&&o.attachEvent("onunload",function(){Ze()})),He.attributes=!0,He.getElementsByTagName=!0,He.getElementsByClassName=$t.test(n.getElementsByClassName),He.getById=!0,Ue.find.ID=function(e,t){if(typeof t.getElementById!==Tt&&et){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Ue.filter.ID=function(e){var t=e.replace(Jt,Qt);return function(e){return e.getAttribute("id")===t}},Ue.find.TAG=He.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Tt)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},Ue.find.CLASS=He.getElementsByClassName&&function(e,t){if(et)return t.getElementsByClassName(e)},nt=[],tt=[],He.disconnectedMatch=!0,tt=tt.length&&new RegExp(tt.join("|")),nt=nt.length&&new RegExp(nt.join("|")),t=$t.test(Qe.compareDocumentPosition),rt=t||$t.test(Qe.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Ot=t?function(e,t){if(e===t)return Xe=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!He.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===wt&&rt(wt,e)?-1:t===n||t.ownerDocument===wt&&rt(wt,t)?1:Ye?Dt.call(Ye,e)-Dt.call(Ye,t):0:4&r?-1:1)}:function(e,t){if(e===t)return Xe=!0,0;var o,i=0,a=e.parentNode,s=t.parentNode,u=[e],c=[t];if(!a||!s)return e===n?-1:t===n?1:a?-1:s?1:Ye?Dt.call(Ye,e)-Dt.call(Ye,t):0;if(a===s)return r(e,t);for(o=e;o=o.parentNode;)u.unshift(o);for(o=t;o=o.parentNode;)c.unshift(o);for(;u[i]===c[i];)i++;return i?r(u[i],c[i]):u[i]===wt?-1:c[i]===wt?1:0},n):Je},en.matches=function(e,t){return en(e,null,null,t)},en.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Je&&Ze(e),t=t.replace(Ut,"='$1']"),He.matchesSelector&&et&&(!nt||!nt.test(t))&&(!tt||!tt.test(t)))try{var n=(void 0).call(e,t);if(n||He.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<en(t,Je,null,[e]).length},en.contains=function(e,t){return(e.ownerDocument||e)!==Je&&Ze(e),rt(e,t)},en.attr=function(e,t){(e.ownerDocument||e)!==Je&&Ze(e);var n=Ue.attrHandle[t.toLowerCase()],r=n&&kt.call(Ue.attrHandle,t.toLowerCase())?n(e,t,!et):void 0;return void 0!==r?r:He.attributes||!et?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},en.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},en.uniqueSort=function(e){var t,n=[],r=0,o=0;if(Xe=!He.detectDuplicates,Ye=!He.sortStable&&e.slice(0),e.sort(Ot),Xe){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return Ye=null,e},ze=en.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=ze(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=ze(t);return n},(Ue=en.selectors={cacheLength:50,createPseudo:n,match:Wt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Jt,Qt),e[3]=(e[3]||e[4]||e[5]||"").replace(Jt,Qt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||en.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&en.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Wt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&zt.test(n)&&(t=We(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Jt,Qt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=xt[e+" "];return t||(t=new RegExp("(^|"+Mt+")"+e+"("+Mt+"|$)"))&&xt(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Tt&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=en.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&-1<o.indexOf(n):"$="===t?n&&o.slice(-n.length)===n:"~="===t?-1<(" "+o+" ").indexOf(n):"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,d,p,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(i){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(p=(c=(l=g[bt]||(g[bt]={}))[e]||[])[0]===Ct&&c[1],d=c[0]===Ct&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[Ct,p,d];break}}else if(y&&(c=(t[bt]||(t[bt]={}))[e])&&c[0]===Ct)d=c[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[bt]||(f[bt]={}))[e]=[Ct,d]),f!==t)););return(d-=o)===r||d%r==0&&0<=d/r}}},PSEUDO:function(e,t){var r,o=Ue.pseudos[e]||Ue.setFilters[e.toLowerCase()]||en.error("unsupported pseudo: "+e);return o[bt]?o(t):1<o.length?(r=[e,e,"",t],Ue.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=Dt.call(e,i[a])]=!(n[r]=i[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:n(function(e){var t=[],r=[],o=Ge(e.replace(jt,"$1"));return o[bt]?n(function(e,t,n,r){for(var i,a=o(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,n,i){return t[0]=e,o(t,null,i,r),!r.pop()}}),has:n(function(e){return function(t){return 0<en(e,t).length}}),contains:n(function(e){return e=e.replace(Jt,Qt),function(t){return-1<(t.textContent||t.innerText||ze(t)).indexOf(e)}}),lang:n(function(e){return qt.test(e||"")||en.error("unsupported lang: "+e),e=e.replace(Jt,Qt).toLowerCase(),function(t){var n;do{if(n=et?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Qe},focus:function(e){return e===Je.activeElement&&(!Je.hasFocus||Je.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Ue.pseudos.empty(e)},header:function(e){return Kt.test(e.nodeName)},input:function(e){return Gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:o(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=Ue.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ue.pseudos[Ve]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(Ve);for(Ve in{submit:!0,reset:!0})Ue.pseudos[Ve]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(Ve);a.prototype=Ue.filters=Ue.pseudos,Ue.setFilters=new a,We=en.tokenize=function(e,t){var n,r,o,i,a,s,u,c=Et[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=Ue.preFilter;a;){for(i in n&&!(r=Vt.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=Ht.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(jt," ")}),a=a.slice(n.length)),Ue.filter)!(r=Wt[i].exec(a))||u[i]&&!(r=u[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?en.error(e):Et(e,s).slice(0)},Ge=en.compile=function(e,t){var r,o,i,a,s,u,c=[],f=[],p=St[e+" "];if(!p){for(t||(t=We(e)),r=t.length;r--;)(p=d(t[r]))[bt]?c.push(p):f.push(p);(p=St(e,(o=f,a=0<(i=c).length,s=0<o.length,u=function(e,t,n,r,u){var c,f,d,p=0,h="0",m=e&&[],g=[],v=$e,y=e||s&&Ue.find.TAG("*",u),b=Ct+=null==v?1:Math.random()||.1,w=y.length;for(u&&($e=t!==Je&&t);h!==w&&null!=(c=y[h]);h++){if(s&&c){for(f=0;d=o[f++];)if(d(c,t,n)){r.push(c);break}u&&(Ct=b)}a&&((c=!d&&c)&&p--,e&&m.push(c))}if(p+=h,a&&h!==p){for(f=0;d=i[f++];)d(m,g,t,n);if(e){if(0<p)for(;h--;)m[h]||g[h]||(g[h]=Pt.call(r));g=l(g)}At.apply(r,g),u&&!e&&0<g.length&&1<p+i.length&&en.uniqueSort(r)}return u&&(Ct=b,$e=v),m},a?n(u):u))).selector=e}return p},Ke=en.select=function(e,t,n,r){var o,a,u,c,l,f="function"==typeof e&&e,d=!r&&We(e=f.selector||e);if(n=n||[],1===d.length){if(2<(a=d[0]=d[0].slice(0)).length&&"ID"===(u=a[0]).type&&He.getById&&9===t.nodeType&&et&&Ue.relative[a[1].type]){if(!(t=(Ue.find.ID(u.matches[0].replace(Jt,Qt),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(o=Wt.needsContext.test(e)?0:a.length;o--&&(u=a[o],!Ue.relative[c=u.type]);)if((l=Ue.find[c])&&(r=l(u.matches[0].replace(Jt,Qt),Xt.test(a[0].type)&&i(t.parentNode)||t))){if(a.splice(o,1),!(e=r.length&&s(a)))return At.apply(n,r),n;break}}return(f||Ge(e,d))(r,t,!et,n,Xt.test(e)&&i(t.parentNode)||t),n},He.sortStable=bt.split("").sort(Ot).join("")===bt,He.detectDuplicates=!!Xe,Ze(),He.sortDetached=!0;var tn=Array.isArray,nn=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},rn=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},on={isArray:tn,toArray:function(e){var t,n,r=e;if(!tn(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},each:nn,map:function(e,t){var n=[];return nn(e,function(r,o){n.push(t(r,o,e))}),n},filter:function(e,t){var n=[];return nn(e,function(r,o){t&&!t(r,o,e)||n.push(r)}),n},indexOf:function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},findIndex:rn,find:function(e,t,n){var r=rn(e,t,n);return-1!==r?e[r]:void 0},last:function(e){return e[e.length-1]}},an=/^\s*|\s*$/g,sn=function(e){return null===e||void 0===e?"":(""+e).replace(an,"")},un=function(e,t){return t?!("array"!==t||!on.isArray(e))||typeof e===t:void 0!==e},cn=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),on.each(e,function(e,o){if(!1===t.call(r,e,o,n))return!1;cn(e,t,n,r)}))},ln={trim:sn,isArray:on.isArray,is:un,toArray:on.toArray,makeMap:function(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:on.each,map:on.map,grep:on.filter,inArray:on.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){for(var n,r,o,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s,u=arguments;for(n=1,r=u.length;n<r;n++)for(o in t=u[n])t.hasOwnProperty(o)&&void 0!==(s=t[o])&&(e[o]=s);return e},create:function(e,t,n){var r,o,i,a,s,u=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],!(o=u.createNS(e[3].replace(/\.\w+$/,""),n))[i]){if("static"===e[2])return o[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[i]));t[i]||(t[i]=function(){},c=1),o[i]=t[i],u.extend(o[i].prototype,t),e[5]&&(r=u.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=o[i],o[i]=c?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],s.apply(this,arguments)},o[i].prototype[i]=o[i],u.each(r,function(e,t){o[i].prototype[t]=r[t]}),u.each(t,function(e,t){r[t]?o[i].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==i&&(o[i].prototype[t]=e)})),u.each(t.static,function(e,t){o[i][t]=e})}},walk:cn,createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||un(e,"array")?e:on.map(e.split(t||","),sn)},_addCacheSuffix:function(e){var t=ot.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},fn=document,dn=Array.prototype.push,pn=Array.prototype.slice,hn=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,mn=yt.Event,gn=ln.makeMap("children,contents,next,prev"),vn=function(e){return void 0!==e},yn=function(e){return"string"==typeof e},bn=function(e,t){var n,r,o;for(o=(t=t||fn).createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return n},wn=function(e,t,n,r){var o;if(yn(t))t=bn(t,Dn(e[0]));else if(t.length&&!t.nodeType){if(t=Rn.makeArray(t),r)for(o=t.length-1;0<=o;o--)wn(e,t[o],n,r);else for(o=0;o<t.length;o++)wn(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Cn=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},_n=function(e,t,n){var r,o;return t=Rn(t)[0],e.each(function(){var e=this;n&&r===e.parentNode||(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e)),o.appendChild(e)}),e},xn=ln.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),En=ln.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Sn={for:"htmlFor",class:"className",readonly:"readOnly"},On={float:"cssFloat"},Tn={},kn={},Rn=function(e,t){return new Rn.fn.init(e,t)},Pn=/^\s*|\s*$/g,Nn=function(e){return null===e||void 0===e?"":(""+e).replace(Pn,"")},An=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},In=function(e,t){var n=[];return An(e,function(e,r){t(r,e)&&n.push(r)}),n},Dn=function(e){return e?9===e.nodeType?e:e.ownerDocument:fn};Rn.fn=Rn.prototype={constructor:Rn,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return Rn(e).attr(t);o.context=t=document}if(yn(e)){if(!(n="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:hn.exec(e)))return Rn(t).find(e);if(n[1])for(r=bn(e,Dn(t)).firstChild;r;)dn.call(o,r),r=r.nextSibling;else{if(!(r=Dn(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return ln.toArray(this)},add:function(e,t){var n,r,o=this;if(yn(e))return o.add(Rn(e));if(!1!==t)for(n=Rn.unique(o.toArray().concat(Rn.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else dn.apply(o,Rn.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==typeof e)An(e,function(e,t){r.attr(e,t)});else{if(!vn(t)){if(r[0]&&1===r[0].nodeType){if((n=Tn[e])&&n.get)return n.get(r[0],e);if(En[e])return r.prop(e)?e:void 0;null===(t=r[0].getAttribute(e,2))&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=Tn[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Sn[e]||e))An(e,function(e,t){n.prop(e,t)});else{if(!vn(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)An(e,function(e,t){o.css(e,t)});else if(vn(t))e=i(e),"number"!=typeof t||xn[e]||(t=t.toString()+"px"),o.each(function(){var n=this.style;if((r=kn[e])&&r.set)r.set(this,t);else{try{this.style[On[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}});else{if(n=o[0],(r=kn[e])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}}return o},remove:function(){for(var e,t=this.length;t--;)e=this[t],mn.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(vn(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){Rn(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(vn(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return wn(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return wn(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?wn(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?wn(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return Rn(e).append(this),this},prependTo:function(e){return Rn(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return _n(this,e)},wrapAll:function(e){return _n(this,e,!0)},wrapInner:function(e){return this.each(function(){Rn(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Rn(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Rn(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?An(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o,i;(i=Cn(r,e))!==t&&(o=r.className,i?r.className=Nn((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)})),n},hasClass:function(e){return Cn(this[0],e)},each:function(e){return An(this,e)},on:function(e,t){return this.each(function(){mn.bind(this,e,t)})},off:function(e,t){return this.each(function(){mn.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?mn.fire(this,e.type,e):mn.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Rn(pn.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)Rn.find(e,this[t],r);return Rn(r)},filter:function(e){return Rn("function"==typeof e?In(this.toArray(),function(t,n){return e(n,t)}):Rn.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof Rn&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&Rn(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),Rn(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:dn,sort:[].sort,splice:[].splice},ln.extend(Rn,{extend:ln.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:ln.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:ln.isArray,each:An,trim:Nn,grep:In,find:en,expr:en.selectors,unique:en.uniqueSort,text:en.getText,contains:en.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?Rn.find.matchesSelector(t[0],e)?[t[0]]:[]:Rn.find.matches(e,t)}});var Mn=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof Rn&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&Rn(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},Ln=function(e,t,n,r){var o=[];for(r instanceof Rn&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&Rn(e).is(r))break}o.push(e)}return o},Bn=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};An({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Mn(e,"parentNode")},next:function(e){return Bn(e,"nextSibling",1)},prev:function(e){return Bn(e,"previousSibling",1)},children:function(e){return Ln(e.firstChild,"nextSibling",1)},contents:function(e){return ln.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Rn.fn[e]=function(n){var r=[];return this.each(function(){var e=t.call(r,this,n,r);e&&(Rn.isArray(e)?r.push.apply(r,e):r.push(e))}),1<this.length&&(gn[e]||(r=Rn.unique(r)),0===e.indexOf("parents")&&(r=r.reverse())),r=Rn(r),n?r.filter(n):r}}),An({parentsUntil:function(e,t){return Mn(e,"parentNode",t)},nextUntil:function(e,t){return Ln(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Ln(e,"previousSibling",1,t).slice(1)}},function(e,t){Rn.fn[e]=function(n,r){var o=[];return this.each(function(){var e=t.call(o,this,n,o);e&&(Rn.isArray(e)?o.push.apply(o,e):o.push(e))}),1<this.length&&(o=Rn.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse())),o=Rn(o),r?o.filter(r):o}}),Rn.fn.is=function(e){return!!e&&0<this.filter(e).length},Rn.fn.init.prototype=Rn.fn,Rn.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return Rn.extend(n,this),n};var Fn=function(e,t,n){An(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})};ot.ie&&ot.ie<8&&(Fn(Tn,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?void 0:t},size:function(e){var t=e.size;return 20===t?void 0:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?void 0:t}}),Fn(Tn,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),ot.ie&&ot.ie<9&&(On.float="styleFloat",Fn(kn,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),Rn.attrHooks=Tn,Rn.cssHooks=kn;var jn,Vn,Hn,Un,zn=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},qn=function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Gn(r(1),r(2))},Wn=function(){return Gn(0,0)},Gn=function(e,t){return{major:e,minor:t}},Kn={nu:Gn,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?Wn():qn(e,n)},unknown:Wn},$n="Firefox",Yn=function(e,t){return function(){return t===e}},Xn=function(e){var t=e.current;return{current:t,version:e.version,isEdge:Yn("Edge",t),isChrome:Yn("Chrome",t),isIE:Yn("IE",t),isOpera:Yn("Opera",t),isFirefox:Yn($n,t),isSafari:Yn("Safari",t)}},Zn={unknown:function(){return Xn({current:void 0,version:Kn.unknown()})},nu:Xn,edge:se.constant("Edge"),chrome:se.constant("Chrome"),ie:se.constant("IE"),opera:se.constant("Opera"),firefox:se.constant($n),safari:se.constant("Safari")},Jn="Windows",Qn="Android",er="Solaris",tr="FreeBSD",nr=function(e,t){return function(){return t===e}},rr=function(e){var t=e.current;return{current:t,version:e.version,isWindows:nr(Jn,t),isiOS:nr("iOS",t),isAndroid:nr(Qn,t),isOSX:nr("OSX",t),isLinux:nr("Linux",t),isSolaris:nr(er,t),isFreeBSD:nr(tr,t)}},or={unknown:function(){return rr({current:void 0,version:Kn.unknown()})},nu:rr,windows:se.constant(Jn),ios:se.constant("iOS"),android:se.constant(Qn),linux:se.constant("Linux"),osx:se.constant("OSX"),solaris:se.constant(er),freebsd:se.constant(tr)},ir=function(e,t){var n=String(t).toLowerCase();return Re.find(e,function(e){return e.search(n)})},ar=function(e,t){return ir(e,t).map(function(e){var n=Kn.detect(e.versionRegexes,t);return{current:e.name,version:n}})},sr=function(e,t){return ir(e,t).map(function(e){var n=Kn.detect(e.versionRegexes,t);return{current:e.name,version:n}})},ur=function(e,t){return-1!==e.indexOf(t)},cr=function(e){return e.replace(/^\s+|\s+$/g,"")},lr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fr=function(e){return function(t){return ur(t,e)}},dr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ur(e,"edge/")&&ur(e,"chrome")&&ur(e,"safari")&&ur(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,lr],search:function(e){return ur(e,"chrome")&&!ur(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ur(e,"msie")||ur(e,"trident")}},{name:"Opera",versionRegexes:[lr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fr("firefox")},{name:"Safari",versionRegexes:[lr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ur(e,"safari")||ur(e,"mobile/"))&&ur(e,"applewebkit")}}],pr=[{name:"Windows",search:fr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ur(e,"iphone")||ur(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:fr("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fr("linux"),versionRegexes:[]},{name:"Solaris",search:fr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fr("freebsd"),versionRegexes:[]}],hr={browsers:se.constant(dr),oses:se.constant(pr)},mr=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=hr.browsers(),p=hr.oses(),h=ar(d,e).fold(Zn.unknown,Zn.nu),m=sr(p,e).fold(or.unknown,or.nu);return{browser:h,os:m,deviceType:(n=h,r=e,o=(t=m).isiOS()&&!0===/ipad/i.test(r),i=t.isiOS()&&!o,a=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,u=o||a||s&&!0===/mobile/i.test(r),c=t.isiOS()||t.isAndroid(),l=c&&!u,f=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),{isiPad:se.constant(o),isiPhone:se.constant(i),isTablet:se.constant(u),isPhone:se.constant(l),isTouch:se.constant(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:se.constant(f)})}},gr={detect:zn(function(){var e=navigator.userAgent;return mr(e)})},vr=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:se.constant(e)}},yr={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return vr(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return vr(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return vr(n)},fromDom:vr,fromPoint:function(e,t,n){return pe.from(e.dom().elementFromPoint(t,n)).map(vr)}},br=function(e){return e.dom().nodeName.toLowerCase()},wr=function(e){return e.dom().nodeType},Cr=function(e){return function(t){return wr(t)===e}},_r=Cr(1),xr=Cr(3),Er=Cr(9),Sr={name:br,type:wr,value:function(e){return e.dom().nodeValue},isElement:_r,isText:xr,isDocument:Er,isComment:function(e){return 8===wr(e)||"#comment"===br(e)}},Or=void 0===(jn=Object.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:jn,Tr=function(e,t){for(var n=Or(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},kr=function(e,t){var n={};return Tr(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},Rr=function(e,t){var n=[];return Tr(e,function(e,r){n.push(t(e,r))}),n},Pr=function(e){return Rr(e,function(e){return e})},Nr={bifilter:function(e,t){var n={},r={};return Tr(e,function(e,o){(t(e,o)?n:r)[o]=e}),{t:n,f:r}},each:Tr,map:function(e,t){return kr(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},mapToArray:Rr,tupleMap:kr,find:function(e,t){for(var n=Or(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return pe.some(a)}return pe.none()},keys:Or,values:Pr,size:function(e){return Pr(e).length}},Ar=function(e,t,n){if(!(me.isString(n)||me.isBoolean(n)||me.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Ir=function(e,t,n){Ar(e.dom(),t,n)},Dr=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Mr=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Lr={clone:function(e){return Re.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},set:Ir,setAll:function(e,t){var n=e.dom();Nr.each(t,function(e,t){Ar(n,t,e)})},get:Dr,has:Mr,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){var t=e.dom().attributes;return void 0===t||null===t||0===t.length},transfer:function(e,t,n){Sr.isElement(e)&&Sr.isElement(t)&&Re.each(n,function(n){var r,o,i;o=t,Mr(r=e,i=n)&&!Mr(o,i)&&Ir(o,i,Dr(r,i))})}},Br=zn(function(){return Fr(yr.fromDom(document))}),Fr=function(e){var t=e.dom().body;if(null===t||void 0===t)throw"Body is not available yet";return yr.fromDom(t)},jr={body:Br,getBody:Fr,inBody:function(e){var t=Sr.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)}},Vr=function(e){return void 0!==e.style},Hr=function(e,t,n){if(!me.isString(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Vr(e)&&e.style.setProperty(t,n)},Ur=function(e,t){return Vr(e)?e.style.getPropertyValue(t):""},zr=function(e,t){var n=e.dom(),r=Ur(n,t);return pe.from(r).filter(function(e){return 0<e.length})},qr=function(e,t){var n=e.dom();Nr.each(t,function(e,t){Hr(n,t,e)})},Wr=function(e,t){var n=e.dom(),r=window.getComputedStyle(n).getPropertyValue(t),o=""!==r||jr.inBody(e)?r:Ur(n,t);return null===o?void 0:o},Gr=zr,Kr=function(e){return e.slice(0).sort()},$r=function(e,t){throw new Error("All required keys ("+Kr(e).join(", ")+") were not specified. Specified keys were: "+Kr(t).join(", ")+".")},Yr=function(e){throw new Error("Unsupported keys for object: "+Kr(e).join(", "))},Xr=function(e,t){if(!me.isArray(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");Re.each(t,function(t){if(!me.isString(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},Zr=function(e){var t=Kr(e);Re.find(t,function(e,n){return n<t.length-1&&e===t[n+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},Jr={immutable:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return Re.each(e,function(e,n){r[e]=se.constant(t[n])}),r}},immutableBag:function(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return Xr("required",e),Xr("optional",t),Zr(n),function(r){var o=Nr.keys(r);Re.forall(e,function(e){return Re.contains(o,e)})||$r(e,o);var i=Re.filter(o,function(e){return!Re.contains(n,e)});0<i.length&&Yr(i);var a={};return Re.each(e,function(e){a[e]=se.constant(r[e])}),Re.each(t,function(e){a[e]=se.constant(Object.prototype.hasOwnProperty.call(r,e)?pe.some(r[e]):pe.none())}),a}}},Qr=function(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n},eo=function(){return Ie.getOrDie("Node")},to=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},no=function(e,t){return to(e,t,eo().DOCUMENT_POSITION_CONTAINED_BY)},ro=function(e){return 1!==e.nodeType&&9!==e.nodeType||0===e.childElementCount},oo={all:function(e,t){var n=void 0===t?document:t.dom();return ro(n)?[]:Re.map(n.querySelectorAll(e),yr.fromDom)},is:function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},one:function(e,t){var n=void 0===t?document:t.dom();return ro(n)?pe.none():pe.from(n.querySelector(e)).map(yr.fromDom)}},io=function(e,t){return e.dom()===t.dom()},ao=gr.detect().browser.isIE()?function(e,t){return no(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},so={eq:io,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(e,t){return Re.exists(t,se.curry(io,e))},contains:ao,is:oo.is},uo=function(e){return yr.fromDom(e.dom().ownerDocument)},co=function(e){var t=e.dom();return pe.from(t.parentNode).map(yr.fromDom)},lo=function(e){var t=e.dom();return pe.from(t.previousSibling).map(yr.fromDom)},fo=function(e){var t=e.dom();return pe.from(t.nextSibling).map(yr.fromDom)},po=function(e){var t=e.dom();return Re.map(t.childNodes,yr.fromDom)},ho=function(e,t){var n=e.dom().childNodes;return pe.from(n[t]).map(yr.fromDom)},mo=Jr.immutable("element","offset"),go={owner:uo,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return yr.fromDom(t)},documentElement:function(e){var t=uo(e);return yr.fromDom(t.dom().documentElement)},parent:co,findIndex:function(e){return co(e).bind(function(t){var n=po(t);return Re.findIndex(n,function(t){return so.eq(e,t)})})},parents:function(e,t){for(var n=me.isFunction(t)?t:se.constant(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=yr.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},siblings:function(e){return co(e).map(po).map(function(t){return Re.filter(t,function(t){return!so.eq(e,t)})}).getOr([])},prevSibling:lo,offsetParent:function(e){var t=e.dom();return pe.from(t.offsetParent).map(yr.fromDom)},prevSiblings:function(e){return Re.reverse(Qr(e,lo))},nextSibling:fo,nextSiblings:function(e){return Qr(e,fo)},children:po,child:ho,firstChild:function(e){return ho(e,0)},lastChild:function(e){return ho(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=po(e);return 0<n.length&&t<n.length?mo(n[t],0):mo(e,t)}},vo=gr.detect().browser,yo=function(e){return Re.find(e,Sr.isElement)},bo={getPos:function(e,t,n){var r,o,i,a=0,s=0,u=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Wr(yr.fromDom(e),"position"))return{x:a=(o=t.getBoundingClientRect()).left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,y:s=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop};for(r=t;r&&r!==n&&r.nodeType;)a+=r.offsetLeft||0,s+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType;)a-=r.scrollLeft||0,s-=r.scrollTop||0,r=r.parentNode;s+=(i=yr.fromDom(t),vo.isFirefox()&&"table"===Sr.name(i)?yo(go.children(i)).filter(function(e){return"caption"===Sr.name(e)}).bind(function(e){return yo(go.nextSiblings(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0})}).getOr(0):0)}return{x:a,y:s}}},wo=function(e){var t=pe.none(),n=[],r=function(e){o()?a(e):n.push(e)},o=function(){return t.isSome()},i=function(e){Re.each(e,a)},a=function(e){t.each(function(t){setTimeout(function(){e(t)},0)})};return e(function(e){t=pe.some(e),i(n),n=[]}),{get:r,map:function(e){return wo(function(t){r(function(n){t(e(n))})})},isReady:o}},Co={nu:wo,pure:function(e){return wo(function(t){t(e)})}},_o=function(e){return function(){var t=Array.prototype.slice.call(arguments),n=this;setTimeout(function(){e.apply(n,t)},0)}},xo=function(e){var t=function(t){e(_o(t))};return{map:function(e){return xo(function(n){t(function(t){var r=e(t);n(r)})})},bind:function(e){return xo(function(n){t(function(t){e(t).get(n)})})},anonBind:function(e){return xo(function(n){t(function(t){e.get(n)})})},toLazy:function(){return Co.nu(t)},get:t}},Eo={nu:xo,pure:function(e){return xo(function(t){t(e)})}},So=function(e,t){return t(function(t){var n=[],r=0;0===e.length?t([]):Re.each(e,function(o,i){var a;o.get((a=i,function(o){n[a]=o,++r>=e.length&&t(n)}))})})},Oo=function(e){return So(e,Eo.nu)},To={par:Oo,mapM:function(e,t){var n=Re.map(e,t);return Oo(n)},compose:function(e,t){return function(n){return t(n).bind(e)}}},ko=function(e){return{is:function(t){return e===t},isValue:se.always,isError:se.never,getOr:se.constant(e),getOrThunk:se.constant(e),getOrDie:se.constant(e),or:function(t){return ko(e)},orThunk:function(t){return ko(e)},fold:function(t,n){return n(e)},map:function(t){return ko(t(e))},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return pe.some(e)}}},Ro=function(e){return{is:se.never,isValue:se.never,isError:se.always,getOr:se.identity,getOrThunk:function(e){return e()},getOrDie:function(){return se.die(String(e))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return Ro(e)},each:se.noop,bind:function(t){return Ro(e)},exists:se.never,forall:se.always,toOption:pe.none}},Po={value:ko,error:Ro},No=function(e){var t;return function(n){return(t=t||Re.mapToObject(e,se.constant(!0))).hasOwnProperty(Sr.name(n))}},Ao=No(["h1","h2","h3","h4","h5","h6"]),Io=No(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Do=function(e){return Sr.isElement(e)&&!Io(e)},Mo=function(e){return Sr.isElement(e)&&"br"===Sr.name(e)},Lo=No(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Bo=No(["ul","ol","dl"]),Fo=No(["li","dd","dt"]),jo=No(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),Vo=No(["thead","tbody","tfoot"]),Ho=No(["td","th"]),Uo=No(["pre","script","textarea","style"]),zo=function(e){return function(t){return!!t&&t.nodeType===e}},qo=zo(1),Wo=function(e){var t=e.toLowerCase().split(" ");return function(e){var n,r;if(e&&e.nodeType)for(r=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(r===t[n])return!0;return!1}},Go=function(e){return function(t){if(qo(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Ko=zo(3),$o=zo(8),Yo=zo(9),Xo=Wo("br"),Zo=Go("true"),Jo=Go("false"),Qo={isText:Ko,isElement:qo,isComment:$o,isDocument:Yo,isBr:Xo,isContentEditableTrue:Zo,isContentEditableFalse:Jo,matchNodeNames:Wo,hasPropValue:function(e,t){return function(n){return qo(n)&&n[e]===t}},hasAttribute:function(e,t){return function(t){return qo(t)&&t.hasAttribute(e)}},hasAttributeValue:function(e,t){return function(n){return qo(n)&&n.getAttribute(e)===t}},matchStyleValues:function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r;if(qo(t))for(r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}},isBogus:function(e){return qo(e)&&e.hasAttribute("data-mce-bogus")},isBogusAll:function(e){return qo(e)&&"all"===e.getAttribute("data-mce-bogus")},isTable:function(e){return qo(e)&&"TABLE"===e.tagName}},ei=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},ti=function(e,t){var n,r=t.childNodes;if(!Qo.isElement(t)||!ei(t)){for(n=r.length-1;0<=n;n--)ti(e,r[n]);if(!1===Qo.isDocument(t)){if(Qo.isText(t)&&0<t.nodeValue.length){var o=ln.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||0<o)return;if(0===o&&(a=(i=t).previousSibling&&"SPAN"===i.previousSibling.nodeName,s=i.nextSibling&&"SPAN"===i.nextSibling.nodeName,a&&s))return}else if(Qo.isElement(t)&&(1===(r=t.childNodes).length&&ei(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||jo(yr.fromDom(t))))return;e.remove(t)}var i,a,s;return t}},ni={trimNode:ti},ri=ln.makeMap,oi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ii=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ai=/[<>&\"\']/g,si=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ui={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};Hn={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Un={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var ci=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Hn[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}};Vn=ci("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var li,fi=function(e,t){return e.replace(t?oi:ii,function(e){return Hn[e]||e})},di=function(e,t){return e.replace(t?oi:ii,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Hn[e]||"&#"+e.charCodeAt(0)+";"})},pi=function(e,t,n){return n=n||Vn,e.replace(t?oi:ii,function(e){return Hn[e]||n[e]||e})},hi={encodeRaw:fi,encodeAllRaw:function(e){return(""+e).replace(ai,function(e){return Hn[e]||e})},encodeNumeric:di,encodeNamed:pi,getEncodeFunc:function(e,t){var n=ci(t)||Vn,r=ri(e.replace(/\+/g,","));return r.named&&r.numeric?function(e,t){return e.replace(t?oi:ii,function(e){return void 0!==Hn[e]?Hn[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:r.named?t?function(e,t){return pi(e,t,n)}:pi:r.numeric?di:fi},decode:function(e){return e.replace(si,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):ui[t]||String.fromCharCode(t):Un[e]||Vn[e]||(n=e,(r=yr.fromTag("div").dom()).innerHTML=n,r.textContent||r.innerText||n);var n,r})}},mi={},gi={},vi=ln.makeMap,yi=ln.each,bi=ln.extend,wi=ln.explode,Ci=ln.inArray,_i=function(e,t){return(e=ln.trim(e))?e.split(t||" "):[]},xi=function(e){var t,n,r,o,i,a,s={},u=function(e,n,r){var o,i,a,u=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(n=n||"","string"==typeof(r=r||[])&&(r=_i(r)),o=(e=_i(e)).length;o--;)a={attributes:u(i=_i([t,n].join(" "))),attributesOrder:i,children:u(r,gi)},s[e[o]]=a},c=function(e,t){var n,r,o,i;for(n=(e=_i(e)).length,t=_i(t);n--;)for(r=s[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return mi[e]?mi[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",r=[r,a="acronym applet basefont big font strike tt"].join(" "),yi(_i(a),function(e){u(e,"",r)}),n=[n,i="center dir isindex noframes"].join(" "),o=[n,r].join(" "),yi(_i(i),function(e){u(e,"",o)})),o=o||[n,r].join(" "),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),u("address dt dd div caption","",o),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),u("blockquote","cite",o),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",o),u("dl","","dt dd"),u("a","href target rel media hreflang type",r),u("q","cite",r),u("ins del","cite datetime",o),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",o),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),u("param","name value"),u("map","name",[o,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",o),u("th","colspan rowspan headers scope abbr",o),u("form","accept-charset action autocomplete enctype method name novalidate target",o),u("fieldset","disabled form name",[o,"legend"].join(" ")),u("label","form for",r),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[o,"li"].join(" ")),u("noscript","",o),"html4"!==e&&(u("wbr"),u("ruby","",[r,"rt rp"].join(" ")),u("figcaption","",o),u("mark rt rp summary bdi","",r),u("canvas","width height",o),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[r,"option"].join(" ")),u("article section nav aside header footer","",o),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[o,"figcaption"].join(" ")),u("time","datetime",r),u("dialog","open",o),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",r),u("progress","value max",r),u("meter","value min max low high optimum",r),u("details","open",[o,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select","onchange"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("iframe","sandbox seamless allowfullscreen")),yi(_i("a form meter progress dfn"),function(e){s[e]&&delete s[e].children[e]}),delete s.caption.children.table,delete s.script,mi[e]=s)},Ei=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),yi(e,function(e,r){n[r]=n[r.toUpperCase()]="map"===t?vi(e,/[, ]/):wi(e,/[, ]/)})),n},Si=function(e,t,n,r){var o=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+o(t)+o(n)+o(r)},Oi=ln.each,Ti=ln.grep,ki=ot.ie,Ri=/^([a-z0-9],?)+$/i,Pi=/^[ \t\r\n]*$/,Ni=function(e,t,n){var r={},o=t.keep_values,i={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}};return r={style:{set:function(e,t){null===t||"object"!=typeof t?(o&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}},o&&(r.href=r.src=i),r},Ai=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},Ii=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};(li=g||(g={})).DOM=li(document),li.nodeIndex=Ii;var Di=g,Mi=Di.DOM,Li=ln.each,Bi=ln.grep,Fi=function(e){return"function"==typeof e},ji=function(){var e={},t=[],n={},r=[],o=0;this.isDone=function(t){return 2===e[t]},this.markDone=function(t){e[t]=2},this.add=this.load=function(r,o,i,a){void 0===e[r]&&(t.push(r),e[r]=0),o&&(n[r]||(n[r]=[]),n[r].push({success:o,failure:a,scope:i||this}))},this.remove=function(t){delete e[t],delete n[t]},this.loadQueue=function(e,n,r){this.loadScripts(t,e,n,r)},this.loadScripts=function(t,i,a,s){var u,c=[],l=function(e,t){Li(n[t],function(t){Fi(t[e])&&t[e].call(t.scope)}),n[t]=void 0};r.push({success:i,failure:s,scope:a||this}),(u=function(){var n=Bi(t);if(t.length=0,Li(n,function(t){var n,r,i,a,s,f,d;2!==e[t]?3!==e[t]?1!==e[t]&&(e[t]=1,o++,n=t,r=function(){e[t]=2,o--,l("success",t),u()},i=function(){e[t]=3,o--,c.push(t),l("failure",t),u()},d=function(){f.remove(s),a&&(a.onreadystatechange=a.onload=a=null),r()},s=(f=Mi).uniqueId(),(a=document.createElement("script")).id=s,a.type="text/javascript",a.src=ln._addCacheSuffix(n),"onreadystatechange"in a?a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&d()}:a.onload=d,a.onerror=function(){Fi(i)?i():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+n)},(document.getElementsByTagName("head")[0]||document.body).appendChild(a)):l("failure",t):l("success",t)}),!o){var i=r.slice(0);r.length=0,Li(i,function(e){0===c.length?Fi(e.success)&&e.success.call(e.scope):Fi(e.failure)&&e.failure.call(e.scope,c)})}})()}};ji.ScriptLoader=new ji;var Vi,Hi=ln.each;(Vi=v||(v={})).PluginManager=Vi(),Vi.ThemeManager=Vi();var Ui,zi="\ufeff",qi=function(e){return e===zi},Wi=zi,Gi=function(e){return e.replace(new RegExp(zi,"g"),"")},Ki=Qo.isElement,$i=Qo.isText,Yi=function(e){return $i(e)&&(e=e.parentNode),Ki(e)&&e.hasAttribute("data-mce-caret")},Xi=function(e){return $i(e)&&qi(e.data)},Zi=function(e){return Yi(e)||Xi(e)},Ji=function(e){return e.firstChild!==e.lastChild||!Qo.isBr(e.firstChild)},Qi=function(e){var t=e.container();return e&&Qo.isText(t)&&t.data.charAt(e.offset())===Wi},ea=function(e){var t=e.container();return e&&Qo.isText(t)&&t.data.charAt(e.offset()-1)===Wi},ta=function(e,t,n){var r,o,i;return(r=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(((i=document.createElement("br")).setAttribute("data-mce-bogus","1"),i)),o=t.parentNode,n?o.insertBefore(r,t):t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r),r},na=function(e){return $i(e)&&e.data[0]===Wi},ra=function(e){return $i(e)&&e.data[e.data.length-1]===Wi},oa=function(e){return e&&e.hasAttribute("data-mce-caret")?(t=e.getElementsByTagName("br"),n=t[t.length-1],Qo.isBogus(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},ia=Qo.isContentEditableTrue,aa=Qo.isContentEditableFalse,sa=Qo.isBr,ua=Qo.isText,ca=Qo.matchNodeNames("script style textarea"),la=Qo.matchNodeNames("img input textarea hr iframe video audio object"),fa=Qo.matchNodeNames("table"),da=Zi,pa=function(e){return!da(e)&&(ua(e)?!ca(e.parentNode):la(e)||sa(e)||fa(e)||ha(e))},ha=function(e){return!1===(t=e,Qo.isElement(t)&&"true"===t.getAttribute("unselectable"))&&aa(e);var t},ma=function(e,t){return pa(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(ha(e))return!1;if(ia(e))return!0}return!0}(e,t)},ga=Math.round,va=function(e){return e?{left:ga(e.left),top:ga(e.top),bottom:ga(e.bottom),right:ga(e.right),width:ga(e.width),height:ga(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},ya=function(e,t){return e=va(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},ba=function(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2},wa=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&ba(t.top-e.bottom,e,t)},Ca=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&ba(t.bottom-e.top,e,t)},_a=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},xa=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Ea=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Sa=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&Ea.test(e)},Oa=[].slice,Ta=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Oa.call(arguments);return r.length-1>=e.length?e.apply(this,r.slice(1)):function(){var e=r.concat([].slice.call(arguments));return Ta.apply(this,e)}},ka={constant:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Oa.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Oa.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},curry:Ta,compose:function(e,t){return function(n){return e(t(n))}},noop:function(){}},Ra=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return pe.none();n.push(o.getOrDie())}return pe.some(t.apply(null,n))},Pa=Qo.isElement,Na=pa,Aa=Qo.matchStyleValues("display","block table"),Ia=Qo.matchStyleValues("float","left right"),Da=ka.and(Pa,Na,ka.negate(Ia)),Ma=ka.negate(Qo.matchStyleValues("white-space","pre pre-line pre-wrap")),La=Qo.isText,Ba=Qo.isBr,Fa=Di.nodeIndex,ja=xa,Va=function(e){return"createRange"in e?e.createRange():Di.DOM.createRng()},Ha=function(e){return e&&/[\r\n\t ]/.test(e)},Ua=function(e){return!!e.setStart&&!!e.setEnd},za=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(Ha(e.toString())&&Ma(n.parentNode)&&Qo.isText(n)&&(t=n.data,Ha(t[r-1])||Ha(t[r+1])))},qa=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Wa=function(e){var t,n,r,o,i,a,s,u;return t=va(0<(n=e.getClientRects()).length?n[0]:e.getBoundingClientRect()),!Ua(e)&&Ba(e)&&qa(t)?(i=(r=e).ownerDocument,a=Va(i),s=i.createTextNode("\xa0"),(u=r.parentNode).insertBefore(s,r),a.setStart(s,0),a.setEnd(s,1),o=va(a.getBoundingClientRect()),u.removeChild(s),o):qa(t)&&Ua(e)?function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&Qo.isText(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),Wa(i)}return null}(e):t},Ga=function(e,t){var n=ya(e,t);return n.width=1,n.right=n.left+1,n},Ka=function(e){var t,n,r=[],o=function(e){var t,n;0!==e.height&&(0<r.length&&(t=e,n=r[r.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||r.push(e))},i=function(e,t){var n=Va(e.ownerDocument);if(t<e.data.length){if(Sa(e.data[t]))return r;if(Sa(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!za(n)))return o(Ga(Wa(n),!1)),r}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),za(n)||o(Ga(Wa(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),za(n)||o(Ga(Wa(n),!0)))};if(La(e.container()))return i(e.container(),e.offset()),r;if(Pa(e.container()))if(e.isAtEnd())n=ja(e.container(),e.offset()),La(n)&&i(n,n.data.length),Da(n)&&!Ba(n)&&o(Ga(Wa(n),!1));else{if(n=ja(e.container(),e.offset()),La(n)&&i(n,0),Da(n)&&e.isAtEnd())return o(Ga(Wa(n),!1)),r;t=ja(e.container(),e.offset()-1),Da(t)&&!Ba(t)&&(Aa(t)||Aa(n)||!Da(n))&&o(Ga(Wa(t),!1)),Da(n)&&o(Ga(Wa(n),!0))}return r};(Ui=y||(y={})).fromRangeStart=function(e){return Ui(e.startContainer,e.startOffset)},Ui.fromRangeEnd=function(e){return Ui(e.endContainer,e.endOffset)},Ui.after=function(e){return Ui(e.parentNode,Fa(e)+1)},Ui.before=function(e){return Ui(e.parentNode,Fa(e))},Ui.isAbove=function(e,t){return Ra([Re.head(t.getClientRects()),Re.last(e.getClientRects())],wa).getOr(!1)},Ui.isBelow=function(e,t){return Ra([Re.last(t.getClientRects()),Re.head(e.getClientRects())],Ca).getOr(!1)},Ui.isAtStart=function(e){return!!e&&e.isAtStart()},Ui.isAtEnd=function(e){return!!e&&e.isAtEnd()},Ui.isTextPosition=function(e){return!!e&&Qo.isText(e.container())},Ui.isElementPosition=function(e){return!1===Ui.isTextPosition(e)};var $a,Ya,Xa=y,Za=Qo.isElement,Ja=Qo.isText,Qa=function(e){var t=e.parentNode;t&&t.removeChild(e)},es=function(e,t){0===t.length?Qa(e):e.nodeValue=t},ts=function(e){var t=Gi(e);return{count:e.length-t.length,text:t}},ns=function(e,t){return is(e),t},rs=function(e,t){return Ja(e)&&t.container()===e?(r=t,o=ts((n=e).data.substr(0,r.offset())),i=ts(n.data.substr(r.offset())),0<(a=o.text+i.text).length?(es(n,a),Xa(n,r.offset()-o.count)):r):ns(e,t);var n,r,o,i,a},os=function(e,t){return t.container()===e.parentNode?(n=e,o=(r=t).container(),i=Re.indexOf(Re.from(o.childNodes),n).map(function(e){return e<r.offset()?Xa(o,r.offset()-1):r}).getOr(r),is(n),i):ns(e,t);var n,r,o,i},is=function(e){if(Za(e)&&Zi(e)&&(Ji(e)?e.removeAttribute("data-mce-caret"):Qa(e)),Ja(e)){var t=Gi(function(e){try{return e.nodeValue}catch(e){return""}}(e));es(e,t)}},as={removeAndReposition:function(e,t){return Xa.isTextPosition(t)?rs(e,t):os(e,t)},remove:is},ss=function(e){return Xa.isTextPosition(e)?0===e.offset():pa(e.getNode())},us=function(e){if(Xa.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return pa(e.getNode(!0))},cs=function(e,t){return!Xa.isTextPosition(e)&&!Xa.isTextPosition(t)&&e.getNode()===t.getNode(!0)},ls=function(e,t,n){return e?!cs(t,n)&&(r=t,!(!Xa.isTextPosition(r)&&Qo.isBr(r.getNode())))&&us(t)&&ss(n):!cs(n,t)&&ss(t)&&us(n);var r},fs=function(e,t,n){var r=lc(t);return pe.from(e?r.next(n):r.prev(n))},ds=function(e,t){var n,r,o,i,a,s=e?t.firstChild:t.lastChild;return Qo.isText(s)?pe.some(Xa(s,e?0:s.data.length)):s?pa(s)?pe.some(e?Xa.before(s):(a=s,Qo.isBr(a)?Xa.before(a):Xa.after(a))):(r=t,o=s,i=(n=e)?Xa.before(o):Xa.after(o),fs(n,r,i)):pe.none()},ps={fromPosition:fs,nextPosition:se.curry(fs,!0),prevPosition:se.curry(fs,!1),navigate:function(e,t,n){return fs(e,t,n).bind(function(r){return Du(n,r,t)&&ls(e,n,r)?fs(e,t,r):pe.some(r)})},positionIn:ds,firstPositionIn:se.curry(ds,!0),lastPositionIn:se.curry(ds,!1)},hs=Qo.isContentEditableTrue,ms=Qo.isContentEditableFalse,gs=function(e,t,n,r,o){return t._selectionOverrides.showCaret(e,n,r,o)},vs=function(e,t){var n,r;return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((r=(n=t).ownerDocument.createRange()).selectNode(n),r)},ys=function(e,t,n){var r=Vu(1,e.getBody(),t),o=Xa.fromRangeStart(r),i=o.getNode();if(ms(i))return gs(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(ms(a))return gs(1,e,a,!1,!1);var s=e.dom.getParent(o.getNode(),function(e){return ms(e)||hs(e)});return ms(s)?gs(1,e,s,!1,n):null},bs=function(e,t,n){return t&&t.collapsed?ys(e,t,n)||t:t};(Ya=$a||($a={}))[Ya.Br=0]="Br",Ya[Ya.Block=1]="Block",Ya[Ya.Wrap=2]="Wrap",Ya[Ya.Eol=3]="Eol";var ws,Cs,_s=function(e,t){return e===ws.Backwards?t.reverse():t},xs=function(e,t,n,r){for(var o,i,a,s,u,c,l=lc(n),f=r,d=[];f&&(u=l,c=f,o=t===ws.Forwards?u.next(c):u.prev(c));){if(Qo.isBr(o.getNode(!1)))return t===ws.Forwards?{positions:_s(t,d).concat([o]),breakType:$a.Br,breakAt:pe.some(o)}:{positions:_s(t,d),breakType:$a.Br,breakAt:pe.some(o)};if(o.isVisible()){if(e(f,o)){var p=(i=t,a=f,s=o,Qo.isBr(s.getNode(i===ws.Forwards))?$a.Br:!1===Du(a,s)?$a.Block:$a.Wrap);return{positions:_s(t,d),breakType:p,breakAt:pe.some(o)}}d.push(o),f=o}else f=o}return{positions:_s(t,d),breakType:$a.Eol,breakAt:pe.none()}},Es=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var o=t(n,r).positions;return e===ws.Backwards?o.concat(r):[r].concat(o)}).getOr([])},Ss=function(e,t){return Re.foldl(e,function(e,n){return e.fold(function(){return pe.some(n)},function(r){return Ra([Re.head(r.getClientRects()),Re.head(n.getClientRects())],function(e,o){var i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?n:r}).or(e)})},pe.none())},Os=function(e,t){return Re.head(t.getClientRects()).bind(function(t){return Ss(e,t.left)})},Ts=se.curry(xs,y.isAbove,-1),ks=se.curry(xs,y.isBelow,1),Rs=se.curry(Es,-1,Ts),Ps=se.curry(Es,1,ks),Ns=function(e,t){return oo.all(t,e)},As=function(e,t,n,r,o){var i,a,s,u,c,l=Ns(yr.fromDom(n),"td,th").map(function(e){return e.dom()});return(s=Re.filter((i=e,a=l,Re.bind(a,function(e){var t,n,r=(t=e.getBoundingClientRect(),n=-1,{left:t.left-n,top:t.top-n,right:t.right+2*n,bottom:t.bottom+2*n,width:t.width+n,height:t.height+n});return[{x:r.left,y:i(r),cell:e},{x:r.right,y:i(r),cell:e}]})),function(e){return t(e,o)}),u=r,c=o,Re.foldl(s,function(e,t){return e.fold(function(){return pe.some(t)},function(e){var n=Math.sqrt(Math.abs(e.x-u)+Math.abs(e.y-c)),r=Math.sqrt(Math.abs(t.x-u)+Math.abs(t.y-c));return pe.some(r<n?t:e)})},pe.none())).map(function(e){return e.cell})},Is=se.curry(As,function(e){return e.bottom},function(e,t){return e.y<t}),Ds=se.curry(As,function(e){return e.top},function(e,t){return e.y>t}),Ms=function(e,t){return Re.head(t.getClientRects()).bind(function(t){return Is(e,t.left,t.top)}).bind(function(e){return Os((n=e,ps.lastPositionIn(n).map(function(e){return Ts(n,e).positions.concat(e)}).getOr([])),t);var n})},Ls=function(e,t){return Re.last(t.getClientRects()).bind(function(t){return Ds(e,t.left,t.top)}).bind(function(e){return Os((n=e,ps.firstPositionIn(n).map(function(e){return[e].concat(ks(n,e).positions)}).getOr([])),t);var n})},Bs=function(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}},Fs=function(e,t,n){var r,o,i,a,s,u=e.dom,c=u.getRoot(),l=0;if(s={elm:t,alignToTop:n},e.fire("scrollIntoView",s),!s.isDefaultPrevented()&&Qo.isElement(t)){if(!1===n&&(l=t.offsetHeight),"BODY"!==c.nodeName){var f=e.selection.getScrollContainer();if(f)return r=Bs(t).y-Bs(f).y+l,a=f.clientHeight,void((r<(i=f.scrollTop)||i+a<r+25)&&(f.scrollTop=r<i?r:r-a+25))}o=u.getViewPort(e.getWin()),r=u.getPos(t).y+l,i=o.y,a=o.h,(r<o.y||i+a<r+25)&&e.getWin().scrollTo(0,r<i?r:r-a+25)}},js=function(e,t){Re.head(y.fromRangeStart(t).getClientRects()).each(function(t){var n,r,o,i,a,s,u,c,l,f=function(e){if(e.inline)return e.getBody().getBoundingClientRect();var t=e.getWin();return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight}}(e),d={x:(a=n=f,s=r=t,s.left>a.left&&s.right<a.right?0:s.left<a.left?s.left-a.left:s.right-a.right),y:(o=n,i=r,i.top>o.top&&i.bottom<o.bottom?0:i.top<o.top?i.top-o.top:i.bottom-o.bottom)};c=0!==d.x?0<d.x?d.x+4:d.x-4:0,l=0!==d.y?0<d.y?d.y+4:d.y-4:0,(u=e).inline?(u.getBody().scrollLeft+=c,u.getBody().scrollTop+=l):u.getWin().scrollBy(c,l)})},Vs=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},Hs=function(e){return e.getParam("iframe_attrs",{})},Us=function(e){return e.getParam("doctype","<!DOCTYPE html>")},zs=function(e){return e.getParam("document_base_url","")},qs=function(e){return Vs(e,"body_id","tinymce")},Ws=function(e){return Vs(e,"body_class","")},Gs=function(e){return e.getParam("content_security_policy","")},Ks=function(e){return e.getParam("br_in_pre",!0)},$s=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":t},Ys=function(e){return e.getParam("forced_root_block_attrs",{})},Xs=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Zs=function(e){return e.getParam("no_newline_selector","")},Js=function(e){return e.getParam("keep_styles",!0)},Qs=function(e){return e.getParam("end_container_on_empty_block",!1)},eu=function(e){return ln.explode(e.getParam("font_size_style_values",""))},tu=function(e){return ln.explode(e.getParam("font_size_classes",""))},nu=function(e,t){go.parent(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},ru=function(e,t){e.dom().appendChild(t.dom())},ou={before:nu,after:function(e,t){go.nextSibling(e).fold(function(){go.parent(e).each(function(e){ru(e,t)})},function(e){nu(e,t)})},prepend:function(e,t){go.firstChild(e).fold(function(){ru(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},append:ru,appendAt:function(e,t,n){go.child(e,n).fold(function(){ru(e,t)},function(e){nu(e,t)})},wrap:function(e,t){nu(e,t),ru(t,e)}},iu=gr.detect().browser,au=function(){return iu.isIE()||iu.isEdge()||iu.isFirefox()},su=function(e,t){e.selection.setRng(t),js(e,t)},uu=function(e,t,n){var r=e(t,n);return r.breakType===$a.Wrap&&0===r.positions.length?r.breakAt.map(function(n){return e(t,n).breakAt.isNone()}).getOr(!0):r.breakAt.isNone()},cu=ka.curry(uu,Ts),lu=ka.curry(uu,ks),fu=function(e,t,n,r){var o,i,a,s,u=e.selection.getRng(),c=t?1:-1;if(au()&&(o=t,i=u,a=n,s=Xa.fromRangeStart(i),ps.positionIn(!o,a).map(function(e){return e.isEqual(s)}).getOr(!1))){var l=gs(c,e,n,!t,!0);return su(e,l),!0}return!1},du=function(e,t){var n=t.getNode(e);return Qo.isElement(n)&&"TABLE"===n.nodeName?pe.some(n):pe.none()},pu=function(e,t,n){var r=!1===t;du(!!t,n).fold(function(){return su(e,n.toRange())},function(o){return ps.positionIn(r,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return su(e,n.toRange())},function(r){return i=t,s=o,u=n,void((c=$s(a=e))?a.undoManager.transact(function(){var e=yr.fromTag(c);Lr.setAll(e,Ys(a)),ou.append(e,yr.fromTag("br")),i?ou.after(yr.fromDom(s),e):ou.before(yr.fromDom(s),e);var t=a.dom.createRng();t.setStart(e.dom(),0),t.setEnd(e.dom(),0),su(a,t)}):su(a,u.toRange()));var i,a,s,u,c})})},hu=function(e,t,n,r){var o,i,a,s,u,c,l=e.selection.getRng(),f=Xa.fromRangeStart(l),d=e.getBody();if(!t&&cu(r,f)){var p=(s=d,Ms(u=n,c=f).orThunk(function(){return Re.head(c.getClientRects()).bind(function(e){return Ss(Rs(s,Xa.before(u)),e.left)})}).getOr(Xa.before(u)));return pu(e,t,p),!0}return!(!t||!lu(r,f)||(o=d,p=Ls(i=n,a=f).orThunk(function(){return Re.head(a.getClientRects()).bind(function(e){return Ss(Ps(o,Xa.after(i)),e.left)})}).getOr(Xa.after(i)),pu(e,t,p),0))},mu=function(e,t){return function(){return pe.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return pe.from(e.dom.getParent(n,"table")).map(function(n){return fu(e,t,n)})}).getOr(!1)}},gu=function(e,t){return function(){return pe.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return pe.from(e.dom.getParent(n,"table")).map(function(r){return hu(e,t,r,n)})}).getOr(!1)}},vu=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return vu(n())}}},yu=Qo.isContentEditableFalse,bu=function(e,t,n){var r,o,i,a,s,u=ya(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(s=e.getBoundingClientRect(),o=e.scrollLeft-s.left,i=e.scrollTop-s.top),u.left+=o,u.right+=o,u.top+=i,u.bottom+=i,u.width=1,0<(a=t.offsetWidth-t.clientWidth)&&(n&&(a*=-1),u.left+=a,u.right+=a),u},wu=function(e,t,n){var r,o,i=vu(pe.none()),a=function(){!function(e){var t,n,r,o,i;for(t=Rn("*[contentEditable=false]",e),o=0;o<t.length;o++)r=(n=t[o]).previousSibling,ra(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)),r=n.nextSibling,na(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1))}(e),o&&(as.remove(o),o=null),i.get().each(function(e){Rn(e.caret).remove(),i.set(pe.none())}),clearInterval(r)},s=function(){r=ct.setInterval(function(){n()?Rn("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):Rn("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)};return{show:function(n,r){var u,c,l;if(a(),l=r,Qo.isElement(l)&&/^(TD|TH)$/i.test(l.tagName))return null;if(!t(r))return o=function(e,t){var n,r,o;if(r=e.ownerDocument.createTextNode(Wi),o=e.parentNode,t){if(n=e.previousSibling,$i(n)){if(Zi(n))return n;if(ra(n))return n.splitText(n.data.length-1)}o.insertBefore(r,e)}else{if(n=e.nextSibling,$i(n)){if(Zi(n))return n;if(na(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r)}return r}(r,n),c=r.ownerDocument.createRange(),yu(o.nextSibling)?(c.setStart(o,0),c.setEnd(o,0)):(c.setStart(o,1),c.setEnd(o,1)),c;o=ta("p",r,n),u=bu(e,r,n),Rn(o).css("top",u.top);var f=Rn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(u).appendTo(e)[0];return i.set(pe.some({caret:f,element:r,before:n})),i.get().each(function(e){n&&Rn(e.caret).addClass("mce-visual-caret-before")}),s(),(c=r.ownerDocument.createRange()).setStart(o,0),c.setEnd(o,0),c},hide:a,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){i.get().each(function(t){var n=bu(e,t.element,t.before);Rn(t.caret).css(n)})},destroy:function(){return ct.clearInterval(r)}}},Cu=function(e){return yu(e)||Qo.isTable(e)&&au()},_u=Qo.isContentEditableFalse,xu=Qo.matchStyleValues("display","block table table-cell table-caption list-item"),Eu=Zi,Su=Yi,Ou=ka.curry,Tu=Qo.isElement,ku=pa,Ru=function(e){return 0<e},Pu=function(e){return e<0},Nu=function(e,t){for(var n;n=e(t);)if(!Su(n))return n;return null},Au=function(e,t,n,r,o){var i=new p(e,r);if(Pu(t)){if((_u(e)||Su(e))&&n(e=Nu(i.prev,!0)))return e;for(;e=Nu(i.prev,o);)if(n(e))return e}if(Ru(t)){if((_u(e)||Su(e))&&n(e=Nu(i.next,!0)))return e;for(;e=Nu(i.next,o);)if(n(e))return e}return null},Iu=function(e,t){for(;e&&e!==t;){if(xu(e))return e;e=e.parentNode}return null},Du=function(e,t,n){return Iu(e.container(),n)===Iu(t.container(),n)},Mu=function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),Tu(n)?n.childNodes[r+e]:null):null},Lu=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Bu=function(e,t,n){var r,o,i,a;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],Eu(r)&&(r=r[o]),_u(r)){if(a=n,Iu(r,i=t)===Iu(a,i))return r;break}if(ku(r))break;n=n.parentNode}return null},Fu=Ou(Lu,!0),ju=Ou(Lu,!1),Vu=function(e,t,n){var r,o,i,a,s=Ou(Bu,!0,t),u=Ou(Bu,!1,t);if(o=n.startContainer,i=n.startOffset,Yi(o)){if(Tu(o)||(o=o.parentNode),"before"===(a=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,Cu(r)))return Fu(r);if("after"===a&&(r=o.previousSibling,Cu(r)))return ju(r)}if(!n.collapsed)return n;if(Qo.isText(o)){if(Eu(o)){if(1===e){if(r=u(o))return Fu(r);if(r=s(o))return ju(r)}if(-1===e){if(r=s(o))return ju(r);if(r=u(o))return Fu(r)}return n}if(ra(o)&&i>=o.data.length-1)return 1===e&&(r=u(o))?Fu(r):n;if(na(o)&&i<=1)return-1===e&&(r=s(o))?ju(r):n;if(i===o.data.length)return(r=u(o))?Fu(r):n;if(0===i)return(r=s(o))?ju(r):n}return n},Hu=function(e,t){var n=Mu(e,t);return _u(n)&&!Qo.isBogusAll(n)},Uu=function(e,t){return Qo.isTable(Mu(e,t))},zu=function(e,t){return pe.from(Mu(e?0:-1,t)).filter(_u)},qu=function(e,t,n){var r=Vu(e,t,n);return-1===e?y.fromRangeStart(r):y.fromRangeEnd(r)},Wu=Ou(Hu,0),Gu=Ou(Hu,-1),Ku=Ou(Uu,0),$u=Ou(Uu,-1);(Cs=ws||(ws={}))[Cs.Backwards=-1]="Backwards",Cs[Cs.Forwards=1]="Forwards";var Yu,Xu,Zu,Ju,Qu,ec=Qo.isContentEditableFalse,tc=Qo.isText,nc=Qo.isElement,rc=Qo.isBr,oc=pa,ic=function(e){return la(e)||!!ha(t=e)&&!0!==on.reduce(t.getElementsByTagName("*"),function(e,t){return e||ia(t)},!1);var t},ac=ma,sc=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},uc=function(e,t){if(Ru(e)){if(oc(t.previousSibling)&&!tc(t.previousSibling))return Xa.before(t);if(tc(t))return Xa(t,0)}if(Pu(e)){if(oc(t.nextSibling)&&!tc(t.nextSibling))return Xa.after(t);if(tc(t))return Xa(t,t.data.length)}return Pu(e)?rc(t)?Xa.before(t):Xa.after(t):Xa.before(t)},cc=function(e,t,n){var r,o,i,a,s;if(!nc(n)||!t)return null;if(t.isEqual(Xa.after(n))&&n.lastChild){if(s=Xa.after(n.lastChild),Pu(e)&&oc(n.lastChild)&&nc(n.lastChild))return rc(n.lastChild)?Xa.before(n.lastChild):s}else s=t;var u,c,l,f=s.container(),d=s.offset();if(tc(f)){if(Pu(e)&&0<d)return Xa(f,--d);if(Ru(e)&&d<f.length)return Xa(f,++d);r=f}else{if(Pu(e)&&0<d&&(o=sc(f,d-1),oc(o)))return!ic(o)&&(i=Au(o,e,ac,o))?tc(i)?Xa(i,i.data.length):Xa.after(i):tc(o)?Xa(o,o.data.length):Xa.before(o);if(Ru(e)&&d<f.childNodes.length&&(o=sc(f,d),oc(o)))return rc(o)&&n.lastChild===o?null:(u=o,c=n,Qo.isBr(u)&&(l=cc(1,Xa.after(u),c))&&!Du(Xa.before(u),Xa.before(l),c)?cc(e,Xa.after(o),n):!ic(o)&&(i=Au(o,e,ac,o))?tc(i)?Xa(i,0):Xa.before(i):tc(o)?Xa(o,0):Xa.after(o));r=o||s.getNode()}return(Ru(e)&&s.isAtEnd()||Pu(e)&&s.isAtStart())&&(r=Au(r,e,ka.constant(!0),n,!0),ac(r,n))?uc(e,r):(o=Au(r,e,ac,n),!(a=on.last(on.filter(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(f,n),ec)))||o&&a.contains(o)?o?uc(e,o):null:s=Ru(e)?Xa.after(a):Xa.before(a))},lc=function(e){return{next:function(t){return cc(ws.Forwards,t,e)},prev:function(t){return cc(ws.Backwards,t,e)}}},fc=function(e){return ln.grep(e.childNodes,function(e){return"LI"===e.nodeName})},dc=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&("\xa0"===(t=e.firstChild).data||Qo.isBr(t));var t},pc=function(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||dc(t))?e.slice(0,-1):e;var t},hc=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},mc=function(e,t){var n=Xa.after(e),r=lc(t).prev(n);return r?r.toRange():null},gc=function(e,t,n){var r,o,i,a,s=e.parentNode;return ln.each(t,function(t){s.insertBefore(t,e)}),r=e,o=n,i=Xa.before(r),(a=lc(o).next(i))?a.toRange():null},vc=function(e,t){var n,r,o,i,a,s,u=t.firstChild,c=t.lastChild;return u&&"meta"===u.name&&(u=u.next),c&&"mce_marker"===c.attr("id")&&(c=c.prev),r=c,s=(n=e).getNonEmptyElements(),r&&(r.isEmpty(s)||(o=r,n.getBlockElements()[o.name]&&(a=o).firstChild&&a.firstChild===a.lastChild&&("br"===(i=o.firstChild).name||"\xa0"===i.value)))&&(c=c.prev),!(!u||u!==c||"ul"!==u.name&&"ol"!==u.name)},yc=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b,w,C,_,x=(o=t,i=r,c=e.serialize(i),l=o.createFragment(c),s=(a=l).firstChild,u=a.lastChild,s&&"META"===s.nodeName&&s.parentNode.removeChild(s),u&&"mce_marker"===u.id&&u.parentNode.removeChild(u),a),E=hc(t,n.startContainer),S=pc(fc(x.firstChild)),O=t.getRoot(),T=function(e){var r=Xa.fromRangeStart(n),o=lc(t.getRoot()),i=1===e?o.prev(r):o.next(r);return!i||hc(t,i.getNode())!==E};return T(1)?gc(E,S,O):T(2)?(f=E,d=S,p=O,t.insertAfter(d.reverse(),f),mc(d[0],p)):(m=S,g=O,v=h=E,b=(y=n).cloneRange(),w=y.cloneRange(),b.setStartBefore(v),w.setEndAfter(v),C=[b.cloneContents(),w.cloneContents()],(_=h.parentNode).insertBefore(C[0],h),ln.each(m,function(e){_.insertBefore(e,h)}),_.insertBefore(C[1],h),_.removeChild(h),mc(m[m.length-1],g))},bc=function(e,t){return!!hc(e,t)},wc=Qo.isText,Cc=Qo.isBogus,_c=Di.nodeIndex,xc=function(e){var t=e.parentNode;return Cc(t)?xc(t):t},Ec=function(e){return e?on.reduce(e.childNodes,function(e,t){return Cc(t)&&"BR"!==t.nodeName?e=e.concat(Ec(t)):e.push(t),e},[]):[]},Sc=function(e){return function(t){return e===t}},Oc=function(e){var t,n,r,o;return(wc(e)?"text()":e.nodeName.toLowerCase())+"["+(n=Ec(xc(t=e)),r=on.findIndex(n,Sc(t),t),n=n.slice(0,r+1),o=on.reduce(n,function(e,t,r){return wc(t)&&wc(n[r-1])&&e++,e},0),n=on.filter(n,Qo.matchNodeNames(t.nodeName)),(r=on.findIndex(n,Sc(t),t))-o)+"]"},Tc=function(e,t){var n,r,o,i,a,s=[];return n=t.container(),r=t.offset(),wc(n)?o=function(e,t){for(;(e=e.previousSibling)&&wc(e);)t+=e.data.length;return t}(n,r):(r>=(i=n.childNodes).length?(o="after",r=i.length-1):o="before",n=i[r]),s.push(Oc(n)),a=function(e,t,n){var r=[];for(t=t.parentNode;!(t===e||n&&n(t));t=t.parentNode)r.push(t);return r}(e,n),a=on.filter(a,ka.negate(Qo.isBogus)),(s=s.concat(on.map(a,function(e){return Oc(e)}))).reverse().join("/")+","+o},kc=function(e,t){var n,r,o;return t?(t=(n=t.split(","))[0].split("/"),o=1<n.length?n[1]:"before",(r=on.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=e,r=t[1],o=parseInt(t[2],10),i=Ec(n),i=on.filter(i,function(e,t){return!wc(e)||!wc(i[t-1])}),(i=on.filter(i,Qo.matchNodeNames(r)))[o]):null;var n,r,o,i},e))?wc(r)?function(e,t){for(var n,r=e,o=0;wc(r);){if(n=r.data.length,o<=t&&t<=o+n){e=r,t-=o;break}if(!wc(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return wc(e)&&t>e.data.length&&(t=e.data.length),Xa(e,t)}(r,parseInt(o,10)):(o="after"===o?_c(r)+1:_c(r),Xa(r.parentNode,o)):null):null},Rc=Qo.isContentEditableFalse,Pc=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],s=r[o?"startOffset":"endOffset"],u=[],c=0,l=e.getRoot();for(Qo.isText(a)?u.push(n?function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Qo.isText(r);r=r.previousSibling)o+=e(r.data).length;return o}(t,a,s):s):(s>=(i=a.childNodes).length&&i.length&&(c=1,s=Math.max(0,i.length-1)),u.push(e.nodeIndex(i[s],n)+c));a&&a!==l;a=a.parentNode)u.push(e.nodeIndex(a,n));return u},Nc=function(e){Qo.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)},Ac=function(e,t,n){var r=0;return ln.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},Ic=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],Qo.isElement(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r))},Dc=function(e){return Ic(e,!0),Ic(e,!1),e},Mc=function(e,t){var n;if(Qo.isElement(e)&&(e=xa(e,t),Rc(e)))return e;if(Zi(e)){if(Qo.isText(e)&&Yi(e)&&(e=e.parentNode),n=e.previousSibling,Rc(n))return n;if(n=e.nextSibling,Rc(n))return n}},Lc=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Rc(r)||"IMG"===o)return{name:o,index:Ac(n.dom,o,r)};var a,s,u,c,l,f,d,p=Mc((a=i).startContainer,a.startOffset)||Mc(a.endContainer,a.endOffset);return p?{name:o=p.tagName,index:Ac(n.dom,o,p)}:(s=e,c=t,l=i,f=(u=n).dom,(d={}).start=Pc(f,s,c,l,!0),u.isCollapsed()||(d.end=Pc(f,s,c,l,!1)),d)},Bc=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Fc=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Ac(n,s,a)};var u=Dc(r.cloneRange());if(!i){u.collapse(!1);var c=Bc(n,o+"_end",t);u.insertNode(c),Nc(c.nextSibling)}(r=Dc(r)).collapse(!0);var l=Bc(n,o+"_start",t);return r.insertNode(l),Nc(l.previousSibling),e.moveToBookmark({id:o,keep:1}),{id:o}},jc={getBookmark:function(e,t,n){return 2===t?Lc(Gi,n,e):3===t?(o=(r=e).getRng(),{start:Tc(r.dom.getRoot(),Xa.fromRangeStart(o)),end:Tc(r.dom.getRoot(),Xa.fromRangeEnd(o))}):t?{rng:e.getRng()}:Fc(e,!1);var r,o},getUndoBookmark:se.curry(Lc,se.identity,!0),getPersistentBookmark:Fc},Vc="_mce_caret",Hc=function(e){return Qo.isElement(e)&&e.id===Vc},Uc=function(e,t){for(;t&&t!==e;){if(t.id===Vc)return t;t=t.parentNode}return null},zc=function(e,t){return!e.isBlock(t)||t.innerHTML||ot.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},qc=function(e,t){return ps.lastPositionIn(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},Wc=function(e,t,n){return!(!1!==t.hasChildNodes()||!Uc(e,t)||(o=n,i=(r=t).ownerDocument.createTextNode(Wi),r.appendChild(i),o.setStart(i,0),o.setEnd(i,0),0));var r,o,i},Gc=function(e,t,n,r){var o,i,a,s,u=n[t?"start":"end"],c=e.getRoot();if(u){for(a=u[0],i=c,o=u.length-1;1<=o;o--){if(s=i.childNodes,Wc(c,i,r))return!0;if(u[o]>s.length-1)return!!Wc(c,i,r)||qc(i,r);i=s[u[o]]}3===i.nodeType&&(a=Math.min(u[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(u[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},Kc=function(e){return Qo.isText(e)&&0<e.data.length},$c=function(e,t,n){var r,o,i,a,s,u,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,"start"===t?l?c.hasChildNodes()?(r=c.firstChild,o=1):Kc(c.nextSibling)?(r=c.nextSibling,o=0):Kc(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)+1):o=e.nodeIndex(c):l?c.hasChildNodes()?(r=c.firstChild,o=1):Kc(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)):o=e.nodeIndex(c),s=r,u=o,!l){for(a=c.previousSibling,i=c.nextSibling,ln.each(ln.grep(c.childNodes),function(e){Qo.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=e.get(n.id+"_"+t);)e.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&Qo.isText(a)&&!ot.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),s=a,u=o)}return pe.some(Xa(s,u))}return pe.none()},Yc=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,p,h,m,g,v,y=e.dom;if(t){if(v=t,ln.isArray(v.start))return m=t,g=(h=y).createRng(),Gc(h,!0,m,g)&&Gc(h,!1,m,g)?pe.some(g):pe.none();if("string"==typeof t.start)return pe.some((f=t,d=(l=y).createRng(),p=kc(l.getRoot(),f.start),d.setStart(p.container(),p.offset()),p=kc(l.getRoot(),f.end),d.setEnd(p.container(),p.offset()),d));if(t.hasOwnProperty("id"))return u=$c(o=y,"start",i=t),c=$c(o,"end",i),Ra([u,(a=c,s=u,a.isSome()?a:s)],function(e,t){var n=o.createRng();return n.setStart(zc(o,e.container()),e.offset()),n.setEnd(zc(o,t.container()),t.offset()),n});if(t.hasOwnProperty("name"))return n=y,r=t,pe.from(n.select(r.name)[r.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(t.hasOwnProperty("rng"))return pe.some(t.rng)}return pe.none()},Xc=function(e,t,n){return jc.getBookmark(e,t,n)},Zc=function(e,t){Yc(e,t).each(function(t){e.setRng(t)})},Jc=function(e){return Qo.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Qc=ln.each,el=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return Qc(e.getAttribs(t),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!(!o(r(t),r(n))||!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))||Jc(t)||Jc(n))}},tl=function(e,t){Re.each(t,function(t){ou.before(e,t)})},nl=function(e,t){Re.each(t,function(t){ou.append(e,t)})},rl=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},ol={empty:function(e){e.dom().textContent="",Re.each(go.children(e),function(e){rl(e)})},remove:rl,unwrap:function(e){var t=go.children(e);0<t.length&&tl(e,t),rl(e)}},il=(Yu=Sr.isText,Xu="text",Zu=function(e){return Yu(e)?pe.from(e.dom().nodeValue):pe.none()},Ju=gr.detect().browser,{get:function(e){if(!Yu(e))throw new Error("Can only get "+Xu+" value of a "+Xu+" node");return Qu(e).getOr("")},getOption:Qu=Ju.isIE()&&10===Ju.version.major?function(e){try{return Zu(e)}catch(e){return pe.none()}}:Zu,set:function(e,t){if(!Yu(e))throw new Error("Can only set raw "+Xu+" value of a "+Xu+" node");e.dom().nodeValue=t}}),al=function(e){return il.get(e)},sl=function(e){var t=Ns(e,"br"),n=Re.filter(function(e){for(var t=[],n=e.dom();n;)t.push(yr.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),Mo);t.length===n.length&&Re.each(n,ol.remove)},ul=function(e){ol.empty(e),ou.append(e,yr.fromHtml('<br data-mce-bogus="1">'))},cl=function(e){go.lastChild(e).each(function(t){go.prevSibling(t).each(function(n){Io(e)&&Mo(t)&&Io(n)&&ol.remove(t)})})},ll=ln.makeMap,fl=function(e){var t=Xa.fromRangeStart(e),n=Xa.fromRangeEnd(e),r=e.commonAncestorContainer;return ps.fromPosition(!1,r,n).map(function(o){return!Du(t,n,r)&&Du(t,o,r)?(i=t.container(),a=t.offset(),s=o.container(),u=o.offset(),(c=document.createRange()).setStart(i,a),c.setEnd(s,u),c):e;var i,a,s,u,c}).getOr(e)},dl=function(e){return e.collapsed?e:fl(e)},pl=Qo.matchNodeNames("td th"),hl=function(e,t,n){var r,o,i,a,s,u,c,l,f,d,p,h,m=e.schema.getTextInlineElements(),g=e.selection,v=e.dom;if(/^ | $/.test(t)&&(t=function(e){var t,n,r;t=g.getRng(),n=t.startContainer,r=t.startOffset;var o=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(0<r?e=e.replace(/^&nbsp;/," "):o("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(t)),r=e.parser,h=n.merge,o=w({validate:e.settings.validate},e.schema),p='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',u={content:t,format:"html",selection:!0,paste:n.paste},(u=e.fire("BeforeSetContent",u)).isDefaultPrevented())e.fire("SetContent",{content:u.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=u.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,p);var y,b,C,_,x=(l=g.getRng()).startContainer||(l.parentElement?l.parentElement():null),E=e.getBody();x===E&&g.isCollapsed()&&v.isBlock(E.firstChild)&&(y=E.firstChild)&&!e.schema.getShortEndedElements()[y.nodeName]&&v.isEmpty(E.firstChild)&&((l=v.createRng()).setStart(E.firstChild,0),l.setEnd(E.firstChild,0),g.setRng(l)),g.isCollapsed()||(e.selection.setRng(dl(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),C=(b=g.getRng()).startContainer,_=b.startOffset,3===C.nodeType&&b.collapsed&&("\xa0"===C.data[_]?(C.deleteData(_,1),/[\u00a0| ]$/.test(t)||(t+=" ")):"\xa0"===C.data[_-1]&&(C.deleteData(_-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))));var S,O,T,k={context:(i=g.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(s=r.parse(t,k),!0===n.paste&&vc(e.schema,s)&&bc(v,i))return l=yc(o,v,e.selection.getRng(),s),e.selection.setRng(l),void e.fire("SetContent",u);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(s),"mce_marker"===(f=s.lastChild).attr("id"))for(f=(c=f).prev;f;f=f.walk(!0))if(3===f.type||!v.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(c,f,"br"===f.name);break}if(e._selectionOverrides.showBlockCaretContainer(i),k.invalid){for(g.setContent(p),i=g.getNode(),a=e.getBody(),9===i.nodeType?i=f=a:f=i;f!==a;)f=(i=f).parentNode;t=i===a?a.innerHTML:v.getOuterHTML(i),t=o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return o.serialize(s)}))),i===a?v.setHTML(a,t):v.setOuterHTML(i,t)}else t=o.serialize(s),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(e,t,i);!function(){if(h){var t=e.getBody(),n=new el(v);ln.each(v.select("*[data-mce-fragment]"),function(e){for(var r=e.parentNode;r&&r!==t;r=r.parentNode)m[e.nodeName.toLowerCase()]&&n.compare(r,e)&&v.remove(e,!0)})}}(),function(t){var n,r,o;if(t){if(g.scrollIntoView(t),n=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t))return v.remove(t),g.select(n);l=v.createRng(),(f=t.previousSibling)&&3===f.nodeType?(l.setStart(f,f.nodeValue.length),ot.ie||(d=t.nextSibling)&&3===d.nodeType&&(f.appendData(d.data),d.parentNode.removeChild(d))):(l.setStartBefore(t),l.setEndBefore(t)),r=v.getParent(t,v.isBlock),v.remove(t),r&&v.isEmpty(r)&&(e.$(r).empty(),l.setStart(r,0),l.setEnd(r,0),pl(r)||r.getAttribute("data-mce-fragment")||!(o=function(t){var n=Xa.fromRangeStart(t);if(n=lc(e.getBody()).next(n))return n.toRange()}(l))?v.add(r,v.create("br",{"data-mce-bogus":"1"})):(l=o,v.remove(r))),g.setRng(l)}}(v.get("mce_marker")),S=e.getBody(),ln.each(S.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),O=e.dom,T=e.selection.getStart(),pe.from(O.getParent(T,"td,th")).map(yr.fromDom).each(cl),e.fire("SetContent",u),e.addVisual()}},ml=function(e,t){var n,r,o="string"!=typeof(n=t)?(r=ln.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:r}):{content:n,details:{}};hl(e,o.content,o.details)},gl=function(e,t,n){for(var r=e.dom(),o=me.isFunction(n)?n:se.constant(!1);r.parentNode;){r=r.parentNode;var i=yr.fromDom(r);if(t(i))return pe.some(i);if(o(i))break}return pe.none()},vl=function(e,t){return Re.find(e.dom().childNodes,se.compose(t,yr.fromDom)).map(yr.fromDom)},yl=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){if(t(yr.fromDom(e.childNodes[r])))return pe.some(yr.fromDom(e.childNodes[r]));var o=n(e.childNodes[r]);if(o.isSome())return o}return pe.none()};return n(e.dom())},bl={first:function(e){return yl(jr.body(),e)},ancestor:gl,closest:function(e,t,n){return C(function(e){return t(e)},gl,e,t,n)},sibling:function(e,t){var n=e.dom();return n.parentNode?vl(yr.fromDom(n.parentNode),function(n){return!so.eq(e,n)&&t(n)}):pe.none()},child:vl,descendant:yl},wl=Jr.immutable("sections","settings"),Cl=gr.detect().deviceType.isTouch(),_l=["lists","autolink","autosave"],xl={theme:"mobile"},El=function(e){var t=me.isArray(e)?e.join(" "):e,n=Re.map(me.isString(t)?t.split(" "):[],cr);return Re.filter(n,function(e){return 0<e.length})},Sl=function(e,t){return e.sections().hasOwnProperty(t)},Ol=function(e,t,n,r){var o,i,a=El(n.forced_plugins),s=El(r.plugins),u=e&&Sl(t,"mobile")?(o=s,Re.filter(o,se.curry(Re.contains,_l))):s,c=(i=u,[].concat(El(a)).concat(El(i)));return ln.extend(r,{plugins:c.join(" ")})},Tl=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,p,h,m,g,v=(o=["mobile"],i=r,a=Nr.bifilter(i,function(e,t){return Re.contains(o,t)}),wl(a.t,a.f)),y=ln.extend(t,n,v.settings(),(h=e,g=(m=v).settings().inline,h&&Sl(m,"mobile")&&!g?(l="mobile",f=xl,d=v.sections(),p=d.hasOwnProperty(l)?d[l]:{},ln.extend({},f,p)):{}),{validate:!0,content_editable:v.settings().inline,external_plugins:(s=n,u=v.settings(),c=u.external_plugins?u.external_plugins:{},s&&s.external_plugins?ln.extend({},s.external_plugins,c):c)});return Ol(e,v,n,y)},kl=function(e,t,n){return pe.from(t.settings[n]).filter(e)},Rl=se.curry(kl,me.isString),Pl=function(e,t,n,r){var o,i,a,s=t in e.settings?e.settings[t]:n;return"hash"===r?(a={},"string"==typeof(i=s)?Re.each(0<i.indexOf("=")?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),function(e){var t=e.split("=");1<t.length?a[ln.trim(t[0])]=ln.trim(t[1]):a[ln.trim(t[0])]=ln.trim(t)}):a=i,a):"string"===r?kl(me.isString,e,t).getOr(n):"number"===r?kl(me.isNumber,e,t).getOr(n):"boolean"===r?kl(me.isBoolean,e,t).getOr(n):"object"===r?kl(me.isObject,e,t).getOr(n):"array"===r?kl(me.isArray,e,t).getOr(n):"string[]"===r?kl((o=me.isString,function(e){return me.isArray(e)&&Re.forall(e,o)}),e,t).getOr(n):"function"===r?kl(me.isFunction,e,t).getOr(n):s},Nl=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Al=function(e,t){var n=t.container(),r=t.offset();return e?Xi(n)?Qo.isText(n.nextSibling)?Xa(n.nextSibling,0):Xa.after(n):Qi(t)?Xa(n,r+1):t:Xi(n)?Qo.isText(n.previousSibling)?Xa(n.previousSibling,n.previousSibling.data.length):Xa.before(n):ea(t)?Xa(n,r-1):t},Il={isInlineTarget:function(e,t){var n=Rl(e,"inline_boundaries_selector").getOr("a[href],code");return oo.is(yr.fromDom(t),n)},findRootInline:function(e,t,n){var r,o,i,a=(r=e,o=t,i=n,Re.filter(Di.DOM.getParents(i.container(),"*",o),r));return pe.from(a[a.length-1])},isRtl:function(e){return"rtl"===Di.DOM.getStyle(e,"direction",!0)||(t=e.textContent,Nl.test(t));var t},isAtZwsp:function(e){return Qi(e)||ea(e)},normalizePosition:Al,normalizeForwards:se.curry(Al,!0),normalizeBackwards:se.curry(Al,!1),hasSameParentBlock:function(e,t,n){var r=Iu(t,e),o=Iu(n,e);return r&&r===o}},Dl=function(e,t){return so.contains(e,t)?bl.closest(t,function(e){return Lo(e)||Fo(e)},(n=e,function(e){return so.eq(n,yr.fromDom(e.dom().parentNode))})):pe.none();var n},Ml=function(e){var t,n,r;e.dom.isEmpty(e.getBody())&&(e.setContent(""),n=(t=e).getBody(),r=n.firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(r,0))},Ll=function(e,t,n){return Ra([ps.firstPositionIn(n),ps.lastPositionIn(n)],function(r,o){var i=Il.normalizePosition(!0,r),a=Il.normalizePosition(!1,o),s=Il.normalizePosition(!1,t);return e?ps.nextPosition(n,s).map(function(e){return e.isEqual(a)&&t.isEqual(i)}).getOr(!1):ps.prevPosition(n,s).map(function(e){return e.isEqual(i)&&t.isEqual(a)}).getOr(!1)}).getOr(!0)},Bl=function(e,t,n){return bl.ancestor(e,function(e){return oo.is(e,t)},n)},Fl=Bl,jl=function(e,t){return oo.one(t,e)},Vl=function(e,t,n){return C(oo.is,Bl,e,t,n)},Hl=function(e,t,n){return Fl(e,t,n).isSome()},Ul=function(e,t){return Qo.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===(n=e,r=t,o=yr.fromDom(n),i=yr.fromDom(r),Hl(i,"pre,code",se.curry(so.eq,o)));var n,r,o,i},zl=function(e,t){return pa(t)&&!1===Ul(e,t)||(n=t,Qo.isElement(n)&&"A"===n.nodeName&&n.hasAttribute("name"))||ql(t);var n},ql=Qo.hasAttribute("data-mce-bookmark"),Wl=Qo.hasAttribute("data-mce-bogus"),Gl=Qo.hasAttributeValue("data-mce-bogus","all"),Kl=function(e){return function(e){var t,n,r=0;if(zl(e,e))return!1;if(!(n=e.firstChild))return!0;t=new p(n,e);do{if(Gl(n))n=t.next(!0);else if(Wl(n))n=t.next();else if(Qo.isBr(n))r++,n=t.next();else{if(zl(e,n))return!1;n=t.next()}}while(n);return r<=1}(e.dom())},$l=Jr.immutable("block","position"),Yl=Jr.immutable("from","to"),Xl=function(e,t){var n=yr.fromDom(e),r=yr.fromDom(t.container());return Dl(n,r).map(function(e){return $l(e,t)})},Zl=function(e,t,n){var r=Xl(e,Xa.fromRangeStart(n)),o=r.bind(function(n){return ps.fromPosition(t,e,n.position()).bind(function(n){return Xl(e,n).map(function(n){return r=e,o=t,i=n,Qo.isBr(i.position().getNode())&&!1===Kl(i.block())?ps.positionIn(!1,i.block().dom()).bind(function(e){return e.isEqual(i.position())?ps.fromPosition(o,r,e).bind(function(e){return Xl(r,e)}):pe.some(i)}).getOr(i):i;var r,o,i})})});return Ra([r,o],Yl).filter(function(e){return r=e,!1===so.eq(r.from().block(),r.to().block())&&(n=e,go.parent(n.from().block()).bind(function(e){return go.parent(n.to().block()).filter(function(t){return so.eq(e,t)})}).isSome())&&(t=e,!1===Qo.isContentEditableFalse(t.from().block())&&!1===Qo.isContentEditableFalse(t.to().block()));var t,n,r})},Jl=function(e,t,n){return n.collapsed?Zl(e,t,n):pe.none()},Ql=function(e,t,n){return so.contains(t,e)?go.parents(e,function(e){return n(e)||so.eq(e,t)}).slice(0,-1):[]},ef=function(e,t){return Ql(e,t,se.constant(!1))},tf=ef,nf=function(e,t){return[e].concat(ef(e,t))},rf=function(e){var t,n,r=(t=e,n=go.children(t),Re.findIndex(n,Io).fold(function(){return n},function(e){return n.slice(0,e)}));return Re.each(r,function(e){ol.remove(e)}),r},of=function(e,t){ps.positionIn(e,t.dom()).each(function(e){var t=e.getNode();Qo.isBr(t)&&ol.remove(yr.fromDom(t))})},af=function(e,t){var n=nf(t,e);return Re.find(n.reverse(),Kl).each(ol.remove)},sf=function(e,t){return so.contains(t,e)?go.parent(e).bind(function(n){return so.eq(n,t)?pe.some(e):(r=t,o=e,i=go.parents(o,function(e){return so.eq(e,r)}),pe.from(i[i.length-2]));var r,o,i}):pe.none()},uf=function(e,t,n){if(Kl(n))return ol.remove(n),Kl(t)&&ul(t),ps.firstPositionIn(t.dom());of(!0,t),of(!1,n);var r=rf(t);return sf(t,n).fold(function(){af(e,t);var o=ps.lastPositionIn(n.dom());return Re.each(r,function(e){ou.append(n,e)}),o},function(o){var i=ps.prevPosition(n.dom(),Xa.before(o.dom()));return Re.each(r,function(e){ou.before(o,e)}),af(e,t),i})},cf=function(e,t,n,r){return t?uf(e,r,n):uf(e,n,r)},lf=function(e,t){var n,r=yr.fromDom(e.getBody());return(n=Jl(r.dom(),t,e.selection.getRng()).bind(function(e){return cf(r,t,e.from().block(),e.to().block())})).each(function(t){e.selection.setRng(t.toRange())}),n.isSome()},ff=function(e,t){var n=yr.fromDom(t),r=se.curry(so.eq,e);return bl.ancestor(n,Ho,r).isSome()},df=function(e,t){var n,r,o=ps.prevPosition(e.dom(),Xa.fromRangeStart(t)).isNone(),i=ps.nextPosition(e.dom(),Xa.fromRangeEnd(t)).isNone();return!(ff(n=e,(r=t).startContainer)||ff(n,r.endContainer))&&o&&i},pf=function(e){var t,n,r,o,i=yr.fromDom(e.getBody()),a=e.selection.getRng();return df(i,a)?((o=e).setContent(""),o.selection.setCursorLocation(),!0):(t=i,n=e.selection,r=n.getRng(),Ra([Dl(t,yr.fromDom(r.startContainer)),Dl(t,yr.fromDom(r.endContainer))],function(e,o){return!1===so.eq(e,o)&&(r.deleteContents(),cf(t,!0,e,o).each(function(e){n.setRng(e.toRange())}),!0)}).getOr(!1))},hf=function(e,t){return!e.selection.isCollapsed()&&pf(e)},mf=function(e){if(!me.isArray(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return Re.each(e,function(r,o){var i=Nr.keys(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],s=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!me.isArray(s))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){var n=arguments.length;if(n!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[o].apply(null,r)},match:function(e){var n=Nr.keys(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!Re.forall(t,function(e){return Re.contains(n,e)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,r)},log:function(e){console.log(e,{constructors:t,constructor:a,params:r})}}}}),n},gf=mf([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),vf=function(e,t,n,r){var o=r.getNode(!1===t);return Dl(yr.fromDom(e),yr.fromDom(n.getNode())).map(function(e){return Kl(e)?gf.remove(e.dom()):gf.moveToElement(o)}).orThunk(function(){return pe.some(gf.moveToElement(o))})},yf=function(e,t,n){return ps.fromPosition(t,e,n).bind(function(r){return c=r.getNode(),Ho(yr.fromDom(c))||Fo(yr.fromDom(c))?pe.none():(o=e,s=r,u=function(e){return Do(yr.fromDom(e))&&!Du(a,s,o)},zu(!(i=t),a=n).fold(function(){return zu(i,s).fold(se.constant(!1),u)},u)?pe.none():t&&Qo.isContentEditableFalse(r.getNode())?vf(e,t,n,r):!1===t&&Qo.isContentEditableFalse(r.getNode(!0))?vf(e,t,n,r):t&&Gu(n)?pe.some(gf.moveToPosition(r)):!1===t&&Wu(n)?pe.some(gf.moveToPosition(r)):pe.none());var o,i,a,s,u,c})},bf=function(e,t,n){return i=t,a=n.getNode(!1===i),s=i?"after":"before",Qo.isElement(a)&&a.getAttribute("data-mce-caret")===s?(r=t,o=n.getNode(!1===t),r&&Qo.isContentEditableFalse(o.nextSibling)?pe.some(gf.moveToElement(o.nextSibling)):!1===r&&Qo.isContentEditableFalse(o.previousSibling)?pe.some(gf.moveToElement(o.previousSibling)):pe.none()).fold(function(){return yf(e,t,n)},pe.some):yf(e,t,n).bind(function(t){return r=e,o=n,t.fold(function(e){return pe.some(gf.remove(e))},function(e){return pe.some(gf.moveToElement(e))},function(e){return Du(o,e,r)?pe.none():pe.some(gf.moveToPosition(e))});var r,o});var r,o,i,a,s},wf=function(e,t){return r=e,o=(n=t).container(),i=n.offset(),!1===Xa.isTextPosition(n)&&o===r.parentNode&&i>Xa.before(r).offset()?Xa(t.container(),t.offset()-1):t;var n,r,o,i},Cf=function(e){return pa(e.previousSibling)?pe.some((t=e.previousSibling,Qo.isText(t)?Xa(t,t.data.length):Xa.after(t))):e.previousSibling?ps.lastPositionIn(e.previousSibling):pe.none();var t},_f=function(e){return pa(e.nextSibling)?pe.some((t=e.nextSibling,Qo.isText(t)?Xa(t,0):Xa.before(t))):e.nextSibling?ps.firstPositionIn(e.nextSibling):pe.none();var t},xf=function(e,t){return Cf(t).orThunk(function(){return _f(t)}).orThunk(function(){return n=e,r=t,o=Xa.before(r.previousSibling?r.previousSibling:r.parentNode),ps.prevPosition(n,o).fold(function(){return ps.nextPosition(n,Xa.after(r))},pe.some);var n,r,o})},Ef=function(e,t){return _f(t).orThunk(function(){return Cf(t)}).orThunk(function(){return n=e,r=t,ps.nextPosition(n,Xa.after(r)).fold(function(){return ps.prevPosition(n,Xa.before(r))},pe.some);var n,r})},Sf=function(e,t,n){return(r=e,o=t,i=n,r?Ef(o,i):xf(o,i)).map(se.curry(wf,n));var r,o,i},Of=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},Tf=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(Sr.name(t))},kf=function(e){if(Kl(e)){var t=yr.fromHtml('<br data-mce-bogus="1">');return ol.empty(e),ou.append(e,t),pe.some(Xa.before(t.dom()))}return pe.none()},Rf=function(e,t,n){var r,o,i,a=Sf(t,e.getBody(),n.dom()),s=bl.ancestor(n,se.curry(Tf,e),(r=e.getBody(),function(e){return e.dom()===r})),u=(o=n,i=a,Ra([go.prevSibling(o),go.nextSibling(o),i],function(e,t,n){var r,i=e.dom(),a=t.dom();return Qo.isText(i)&&Qo.isText(a)?(r=i.data.length,i.appendData(a.data),ol.remove(t),ol.remove(o),n.container()===a?Xa(i,r):n):(ol.remove(o),n)}).orThunk(function(){return ol.remove(o),i}));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):s.bind(kf).fold(function(){Of(e,t,u)},function(n){Of(e,t,pe.some(n))})},Pf=function(e,t){var n,r,o,i,a;return(n=e.getBody(),r=t,o=e.selection.getRng(),i=Vu(r?1:-1,n,o),a=Xa.fromRangeStart(i),!1===r&&Gu(a)?pe.some(gf.remove(a.getNode(!0))):r&&Wu(a)?pe.some(gf.remove(a.getNode())):bf(n,r,a)).map(function(n){return n.fold((a=e,s=t,function(e){return a._selectionOverrides.hideFakeCaret(),Rf(a,s,yr.fromDom(e)),!0}),(o=e,i=t,function(e){var t=i?Xa.before(e):Xa.after(e);return o.selection.setRng(t.toRange()),!0}),(r=e,function(e){return r.selection.setRng(e.toRange()),!0}));var r,o,i,a,s}).getOr(!1)},Nf=function(e,t){var n,r=e.selection.getNode();return!!Qo.isContentEditableFalse(r)&&(n=yr.fromDom(e.getBody()),Re.each(Ns(n,".mce-offscreen-selection"),ol.remove),Rf(e,t,yr.fromDom(e.selection.getNode())),Ml(e),!0)},Af=function(e,t){return e.selection.isCollapsed()?Pf(e,t):Nf(e,t)},If=function(e){var t,n=function(e,t){for(;t&&t!==e;){if(Qo.isContentEditableTrue(t)||Qo.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return Qo.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(Xa.before(t).toRange())),!0},Df=Qo.isText,Mf=function(e){return Df(e)&&e.data[0]===Wi},Lf=function(e){return Df(e)&&e.data[e.data.length-1]===Wi},Bf=function(e){return e.ownerDocument.createTextNode(Wi)},Ff=function(e,t){return e?function(e){if(Df(e.previousSibling))return Lf(e.previousSibling)||e.previousSibling.appendData(Wi),e.previousSibling;if(Df(e))return Mf(e)||e.insertData(0,Wi),e;var t=Bf(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(Df(e.nextSibling))return Mf(e.nextSibling)||e.nextSibling.insertData(0,Wi),e.nextSibling;if(Df(e))return Lf(e)||e.appendData(Wi),e;var t=Bf(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},jf=se.curry(Ff,!0),Vf=se.curry(Ff,!1),Hf=function(e,t){return Qo.isText(e.container())?Ff(t,e.container()):Ff(t,e.getNode())},Uf=function(e,t){var n=t.get();return n&&e.container()===n&&Xi(n)},zf=function(e,t){return t.fold(function(t){as.remove(e.get());var n=jf(t);return e.set(n),pe.some(Xa(n,n.length-1))},function(t){return ps.firstPositionIn(t).map(function(t){if(Uf(t,e))return Xa(e.get(),1);as.remove(e.get());var n=Hf(t,!0);return e.set(n),Xa(n,1)})},function(t){return ps.lastPositionIn(t).map(function(t){if(Uf(t,e))return Xa(e.get(),e.get().length-1);as.remove(e.get());var n=Hf(t,!1);return e.set(n),Xa(n,n.length-1)})},function(t){as.remove(e.get());var n=Vf(t);return e.set(n),pe.some(Xa(n,1))})},qf=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return pe.none()},Wf=mf([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Gf=function(e,t){return Iu(t,e)||e},Kf=function(e,t,n){var r=Il.normalizeForwards(n),o=Gf(t,r.container());return Il.findRootInline(e,o,r).fold(function(){return ps.nextPosition(o,r).bind(se.curry(Il.findRootInline,e,o)).map(function(e){return Wf.before(e)})},pe.none)},$f=function(e,t){return null===Uc(e,t)},Yf=function(e,t,n){return Il.findRootInline(e,t,n).filter(se.curry($f,t))},Xf=function(e,t,n){var r=Il.normalizeBackwards(n);return Yf(e,t,r).bind(function(e){return ps.prevPosition(e,r).isNone()?pe.some(Wf.start(e)):pe.none()})},Zf=function(e,t,n){var r=Il.normalizeForwards(n);return Yf(e,t,r).bind(function(e){return ps.nextPosition(e,r).isNone()?pe.some(Wf.end(e)):pe.none()})},Jf=function(e,t,n){var r=Il.normalizeBackwards(n),o=Gf(t,r.container());return Il.findRootInline(e,o,r).fold(function(){return ps.prevPosition(o,r).bind(se.curry(Il.findRootInline,e,o)).map(function(e){return Wf.after(e)})},pe.none)},Qf=function(e){return!1===Il.isRtl(td(e))},ed=function(e,t,n){return qf([Kf,Xf,Zf,Jf],[e,t,n]).filter(Qf)},td=function(e){return e.fold(se.identity,se.identity,se.identity,se.identity)},nd=function(e){return e.fold(se.constant("before"),se.constant("start"),se.constant("end"),se.constant("after"))},rd=function(e){return e.fold(Wf.before,Wf.before,Wf.after,Wf.after)},od=function(e,t,n,r,o,i){return Ra([Il.findRootInline(t,n,r),Il.findRootInline(t,n,o)],function(t,r){return t!==r&&Il.hasSameParentBlock(n,t,r)?Wf.after(e?t:r):i}).getOr(i)},id=function(e,t){return e.fold(se.constant(!0),function(e){return r=t,!(nd(n=e)===nd(r)&&td(n)===td(r));var n,r})},ad=function(e,t){return e?t.fold(se.compose(pe.some,Wf.start),pe.none,se.compose(pe.some,Wf.after),pe.none):t.fold(pe.none,se.compose(pe.some,Wf.before),pe.none,se.compose(pe.some,Wf.end))},sd=function(e,t,n,r){var o=Il.normalizePosition(e,r),i=ed(t,n,o);return ed(t,n,o).bind(se.curry(ad,e)).orThunk(function(){return o=e,a=t,s=n,u=i,c=r,l=Il.normalizePosition(o,c),ps.fromPosition(o,s,l).map(se.curry(Il.normalizePosition,o)).fold(function(){return u.map(rd)},function(e){return ed(a,s,e).map(se.curry(od,o,a,s,l,e)).filter(se.curry(id,u))}).filter(Qf);var o,a,s,u,c,l})},ud=ed,cd=sd,ld=(se.curry(sd,!1),se.curry(sd,!0),rd),fd=function(e){return e.fold(Wf.start,Wf.start,Wf.end,Wf.end)},dd=function(e){return me.isFunction(e.selection.getSel().modify)},pd=function(e,t,n){var r=e?1:-1;return t.setRng(Xa(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},hd=function(e,t){var n=t.selection.getRng(),r=e?Xa.fromRangeEnd(n):Xa.fromRangeStart(n);return!!dd(t)&&(e&&Qi(r)?pd(!0,t.selection,r):!(e||!ea(r))&&pd(!1,t.selection,r))},md=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},gd=function(e){return!1!==e.settings.inline_boundaries},vd=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},yd=function(e,t,n){return zf(t,n).map(function(t){return md(e,t),n})},bd=function(e,t,n){return function(){return!!gd(t)&&hd(e,t)}},wd={move:function(e,t,n){return function(){return!!gd(e)&&(r=e,o=t,i=n,a=r.getBody(),s=Xa.fromRangeStart(r.selection.getRng()),u=se.curry(Il.isInlineTarget,r),cd(i,u,a,s).bind(function(e){return yd(r,o,e)})).isSome();var r,o,i,a,s,u}},moveNextWord:se.curry(bd,!0),movePrevWord:se.curry(bd,!1),setupSelectedState:function(e){var t=vu(null),n=se.curry(Il.isInlineTarget,e);return e.on("NodeChange",function(r){var o,i,a,s,u;gd(e)&&(o=n,i=e.dom,a=r.parents,s=Re.filter(i.select('*[data-mce-selected="inline-boundary"]'),o),u=Re.filter(a,o),Re.each(Re.difference(s,u),se.curry(vd,!1)),Re.each(Re.difference(u,s),se.curry(vd,!0)),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=Xa.fromRangeStart(e.selection.getRng());Xa.isTextPosition(n)&&!1===Il.isAtZwsp(n)&&(md(e,as.removeAndReposition(t.get(),n)),t.set(null))}}(e,t),function(e,t,n,r){if(t.selection.isCollapsed()){var o=Re.filter(r,e);Re.each(o,function(r){var o=Xa.fromRangeStart(t.selection.getRng());ud(e,t.getBody(),o).bind(function(e){return yd(t,n,e)})})}}(n,e,t,r.parents))}),t},setCaretPosition:md},Cd=function(e,t){return function(n){return zf(t,n).map(function(t){return wd.setCaretPosition(e,t),!0}).getOr(!1)}},_d=function(e,t,n,r){var o=e.getBody(),i=se.curry(Il.isInlineTarget,e);e.undoManager.ignore(function(){var a,s,u;e.selection.setRng((a=n,s=r,(u=document.createRange()).setStart(a.container(),a.offset()),u.setEnd(s.container(),s.offset()),u)),e.execCommand("Delete"),ud(i,o,Xa.fromRangeStart(e.selection.getRng())).map(fd).map(Cd(e,t))}),e.nodeChanged()},xd=function(e,t,n,r){var o,i,a=(o=e.getBody(),i=r.container(),Iu(i,o)||o),s=se.curry(Il.isInlineTarget,e),u=ud(s,a,r);return u.bind(function(e){return n?e.fold(se.constant(pe.some(fd(e))),pe.none,se.constant(pe.some(ld(e))),pe.none):e.fold(pe.none,se.constant(pe.some(ld(e))),pe.none,se.constant(pe.some(fd(e))))}).map(Cd(e,t)).getOrThunk(function(){var o=ps.navigate(n,a,r),i=o.bind(function(e){return ud(s,a,e)});return u.isSome()&&i.isSome()?Il.findRootInline(s,a,r).map(function(t){return r=t,!!Ra([ps.firstPositionIn(r),ps.lastPositionIn(r)],function(e,t){var n=Il.normalizePosition(!0,e),o=Il.normalizePosition(!1,t);return ps.nextPosition(r,n).map(function(e){return e.isEqual(o)}).getOr(!0)}).getOr(!0)&&(Rf(e,n,yr.fromDom(t)),!0);var r}).getOr(!1):i.bind(function(i){return o.map(function(o){return n?_d(e,t,r,o):_d(e,t,o,r),!0})}).getOr(!1)})},Ed=function(e,t,n){if(e.selection.isCollapsed()&&!1!==e.settings.inline_boundaries){var r=Xa.fromRangeStart(e.selection.getRng());return xd(e,t,n,r)}return!1},Sd=Jr.immutable("start","end"),Od=Jr.immutable("rng","table","cells"),Td=mf([{removeTable:["element"]},{emptyCells:["cells"]}]),kd=function(e,t){return Vl(yr.fromDom(e),"td,th",t)},Rd=function(e,t){return Fl(e,"table",t)},Pd=function(e){return!1===so.eq(e.start(),e.end())},Nd=function(e,t){return Rd(e.start(),t).bind(function(n){return Rd(e.end(),t).bind(function(e){return so.eq(n,e)?pe.some(n):pe.none()})})},Ad=function(e){return Ns(e,"td,th")},Id=function(e,t){var n=kd(t.startContainer,e),r=kd(t.endContainer,e);return t.collapsed?pe.none():Ra([n,r],Sd).fold(function(){return n.fold(function(){return r.bind(function(t){return Rd(t,e).bind(function(e){return Re.head(Ad(e)).map(function(e){return Sd(e,t)})})})},function(t){return Rd(t,e).bind(function(e){return Re.last(Ad(e)).map(function(e){return Sd(t,e)})})})},function(t){return Dd(e,t)?pe.none():(r=e,Rd((n=t).start(),r).bind(function(e){return Re.last(Ad(e)).map(function(e){return Sd(n.start(),e)})}));var n,r})},Dd=function(e,t){return Nd(t,e).isSome()},Md=function(e,t){var n,r,o,i,a,s=(n=e,se.curry(so.eq,n));return(r=t,o=s,i=kd(r.startContainer,o),a=kd(r.endContainer,o),Ra([i,a],Sd).filter(Pd).filter(function(e){return Dd(o,e)}).orThunk(function(){return Id(o,r)})).bind(function(e){return Nd(t=e,s).map(function(e){return Od(t,e,Ad(e))});var t})},Ld=function(e,t){return Re.findIndex(e,function(e){return so.eq(e,t)})},Bd=function(e){return(t=e,Ra([Ld(t.cells(),t.rng().start()),Ld(t.cells(),t.rng().end())],function(e,n){return t.cells().slice(e,n+1)})).map(function(t){var n=e.cells();return t.length===n.length?Td.removeTable(e.table()):Td.emptyCells(t)});var t},Fd=function(e,t){return Md(e,t).bind(Bd)},jd=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Vd=jd,Hd=function(e){return Re.bind(e,function(e){var t=_a(e);return t?[yr.fromDom(t)]:[]})},Ud=function(e){return 1<jd(e).length},zd=function(e){return Re.filter(Hd(e),Ho)},qd=function(e){return Ns(e,"td[data-mce-selected],th[data-mce-selected]")},Wd=function(e,t){var n=qd(t),r=zd(e);return 0<n.length?n:r},Gd=Wd,Kd=function(e){return Wd(Vd(e.selection.getSel()),yr.fromDom(e.getBody()))},$d=function(e,t){return Re.each(t,ul),e.selection.setCursorLocation(t[0].dom(),0),!0},Yd=function(e,t){return Rf(e,!1,t),!0},Xd=function(e,t,n,r){return Jd(t,r).fold(function(){return r=e,Fd(t,n).map(function(e){return e.fold(se.curry(Yd,r),se.curry($d,r))});var r},function(t){return Qd(e,t)}).getOr(!1)},Zd=function(e,t){return Re.find(nf(t,e),Ho)},Jd=function(e,t){return Re.find(nf(t,e),function(e){return"caption"===Sr.name(e)})},Qd=function(e,t){return ul(t),e.selection.setCursorLocation(t.dom(),0),pe.some(!0)},ep=function(e,t,n,r,o){return ps.navigate(n,e.getBody(),o).bind(function(i){return u=r,c=n,l=o,f=i,ps.firstPositionIn(u.dom()).bind(function(e){return ps.lastPositionIn(u.dom()).map(function(t){return c?l.isEqual(e)&&f.isEqual(t):l.isEqual(t)&&f.isEqual(e)})}).getOr(!0)?Qd(e,r):(a=r,s=i,Jd(t,yr.fromDom(s.getNode())).map(function(e){return!1===so.eq(e,a)}));var a,s,u,c,l,f}).or(pe.some(!0))},tp=function(e,t,n,r){var o=Xa.fromRangeStart(e.selection.getRng());return Zd(n,r).bind(function(r){return Kl(r)?Qd(e,r):(i=e,a=n,s=t,u=r,c=o,ps.navigate(s,i.getBody(),c).bind(function(e){return Zd(a,yr.fromDom(e.getNode())).map(function(e){return!1===so.eq(e,u)})}));var i,a,s,u,c})},np=function(e,t,n){var r=yr.fromDom(e.getBody());return Jd(r,n).fold(function(){return tp(e,t,r,n)},function(n){return o=e,i=t,a=r,s=n,u=Xa.fromRangeStart(o.selection.getRng()),Kl(s)?Qd(o,s):ep(o,a,i,s,u);var o,i,a,s,u}).getOr(!1)},rp=function(e,t){var n,r,o,i,a,s=yr.fromDom(e.selection.getStart(!0)),u=Kd(e);return e.selection.isCollapsed()&&0===u.length?np(e,t,s):(n=e,r=s,o=yr.fromDom(n.getBody()),i=n.selection.getRng(),0!==(a=Kd(n)).length?$d(n,a):Xd(n,o,i,r))},op=function(e,t){e.getDoc().execCommand(t,!1,null)},ip=function(e){Af(e,!1)||Ed(e,!1)||lf(e,!1)||rp(e)||hf(e)||(op(e,"Delete"),Ml(e))},ap=function(e){Af(e,!0)||Ed(e,!0)||lf(e,!0)||rp(e)||hf(e)||op(e,"ForwardDelete")},sp=function(e){return function(t,n){return pe.from(n).map(yr.fromDom).filter(Sr.isElement).bind(function(n){return(i=e,a=t,s=n.dom(),u=function(e){return Gr(e,i)},bl.closest(yr.fromDom(s),function(e){return u(e).isSome()},function(e){return so.eq(yr.fromDom(a),e)}).bind(u)).or((r=e,o=n.dom(),pe.from(Di.DOM.getStyle(o,r,!0))));var r,o,i,a,s,u}).getOr("")}},up={getFontSize:sp("font-size"),getFontFamily:se.compose(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},sp("font-family")),toPt:function(e,t){return/[0-9.]+px$/.test(e)?(n=72*parseInt(e,10)/96,r=t||0,o=Math.pow(10,r),Math.round(n*o)/o+"pt"):e;var n,r,o}},cp=function(e){return ps.firstPositionIn(e.getBody()).map(function(e){var t=e.container();return Qo.isText(t)?t.parentNode:t})},lp=function(e){return pe.from(e.selection.getRng()).bind(function(t){var n,r;return r=e.getBody(),(n=t).startContainer===r&&0===n.startOffset?pe.none():pe.from(e.selection.getStart(!0))})},fp=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(1<=n&&n<=7){var r=eu(e),o=tu(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},dp=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},pp=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},hp=function(e,t,n){return pp(e,t,function(e){return e.nodeName===n})},mp=function(e){return e&&"TABLE"===e.nodeName},gp=function(e,t,n){for(var r=new p(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(Qo.isBr(t))return!0},vp=function(e,t,n,r,o){var i,a,s,u,c,l,f=e.getRoot(),d=e.schema.getNonEmptyElements();if(s=e.getParent(o.parentNode,e.isBlock)||f,r&&Qo.isBr(o)&&t&&e.isEmpty(s))return pe.some(y(o.parentNode,e.nodeIndex(o)));for(i=new p(o,s);u=i[r?"prev":"next"]();){if("false"===e.getContentEditableParent(u)||(l=f,Zi(c=u)&&!1===pp(c,l,Hc)))return pe.none();if(Qo.isText(u)&&0<u.nodeValue.length)return!1===hp(u,f,"A")?pe.some(y(u,r?u.nodeValue.length:0)):pe.none();if(e.isBlock(u)||d[u.nodeName.toLowerCase()])return pe.none();a=u}return n&&a?pe.some(y(a,0)):pe.none()},yp=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,m=e.getRoot(),g=!1;if(o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"],l=Qo.isElement(o)&&i===o.childNodes.length,u=e.schema.getNonEmptyElements(),c=n,Zi(o))return pe.none();if(Qo.isElement(o)&&i>o.childNodes.length-1&&(c=!1),Qo.isDocument(o)&&(o=m,i=0),o===m){if(c&&(s=o.childNodes[0<i?i-1:0])){if(Zi(s))return pe.none();if(u[s.nodeName]||mp(s))return pe.none()}if(o.hasChildNodes()){if(i=Math.min(!c&&0<i?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=Qo.isText(o)&&l?o.data.length:0,!t&&o===m.lastChild&&mp(o))return pe.none();if(function(e,t){for(;t&&t!==e;){if(Qo.isContentEditableFalse(t))return!0;t=t.parentNode}return!1}(m,o)||Zi(o))return pe.none();if(o.hasChildNodes()&&!1===mp(o)){a=new p(s=o,m);do{if(Qo.isContentEditableFalse(s)||Zi(s)){g=!1;break}if(Qo.isText(s)&&0<s.nodeValue.length){i=c?0:s.nodeValue.length,o=s,g=!0;break}if(u[s.nodeName.toLowerCase()]&&(!(f=s)||!/^(TD|TH|CAPTION)$/.test(f.nodeName))){i=e.nodeIndex(s),o=s.parentNode,c||i++,g=!0;break}}while(s=c?a.next():a.prev())}}}return t&&(Qo.isText(o)&&0===i&&vp(e,l,t,!0,o).each(function(e){o=e.container(),i=e.offset(),g=!0}),Qo.isElement(o)&&((s=o.childNodes[i])||(s=o.childNodes[i-1]),!s||!Qo.isBr(s)||(h="A",(d=s).previousSibling&&d.previousSibling.nodeName===h)||gp(e,s,!1)||gp(e,s,!0)||vp(e,l,t,!0,s).each(function(e){o=e.container(),i=e.offset(),g=!0}))),c&&!t&&Qo.isText(o)&&i===o.nodeValue.length&&vp(e,l,t,!1,o).each(function(e){o=e.container(),i=e.offset(),g=!0}),g?pe.some(y(o,i)):pe.none()},bp=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=y.fromRangeStart(t);return yp(e,n,!0,r).each(function(e){n&&y.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||yp(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),dp(t,r)?pe.none():pe.some(r)},wp=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},Cp=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},_p=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();bp(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var s=a.startOffset,u=a.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var c=s>u.childNodes.length-1;u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=c&&3===u.nodeType?u.nodeValue.length:0}var l=i.getParent(u,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",h=t&&t.ctrlKey;"LI"!==d||h||(l=f),u&&3===u.nodeType&&s>=u.nodeValue.length&&(function(e,t,n){for(var r,o=new p(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||0<r.length)return!0}(e.schema,u,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),a.insertNode(n),wp(i,o,n),Cp(i,o,n,r),e.undoManager.add()},xp=function(e,t){var n=yr.fromTag("br");ou.before(yr.fromDom(t),n),e.undoManager.add()},Ep=function(e,t){Sp(e.getBody(),t)||ou.after(yr.fromDom(t),yr.fromTag("br"));var n=yr.fromTag("br");ou.after(yr.fromDom(t),n),wp(e.dom,e.selection,n.dom()),Cp(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},Sp=function(e,t){return n=Xa.after(t),!!Qo.isBr(n.getNode())||ps.nextPosition(e,Xa.after(t)).map(function(e){return Qo.isBr(e.getNode())}).getOr(!1);var n},Op=function(e){return e&&"A"===e.nodeName&&"href"in e},Tp=function(e){return e.fold(se.constant(!1),Op,Op,se.constant(!1))},kp=function(e,t){t.fold(se.noop,se.curry(xp,e),se.curry(Ep,e),se.noop)},Rp=function(e,t){var n,r,o,i=(n=e,r=se.curry(Il.isInlineTarget,n),o=Xa.fromRangeStart(n.selection.getRng()),ud(r,n.getBody(),o).filter(Tp));i.isSome()?i.each(se.curry(kp,e)):_p(e,t)},Pp=mf([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Np=(Pp.before,Pp.on,Pp.after,function(e){return e.fold(se.identity,se.identity,se.identity)}),Ap=mf([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ip=Jr.immutable("start","soffset","finish","foffset"),Dp={domRange:Ap.domRange,relative:Ap.relative,exact:Ap.exact,exactFromRange:function(e){return Ap.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:Ip,getWin:function(e){var t=e.match({domRange:function(e){return yr.fromDom(e.startContainer)},relative:function(e,t){return Np(e)},exact:function(e,t,n,r){return e}});return go.defaultView(t)}},Mp=gr.detect().browser,Lp=function(e,t){var n=Sr.isText(t)?al(t).length:go.children(t).length+1;return n<e?n:e<0?0:e},Bp=function(e){return Dp.range(e.start(),Lp(e.soffset(),e.start()),e.finish(),Lp(e.foffset(),e.finish()))},Fp=function(e,t){return so.contains(e,t)||so.eq(e,t)},jp=function(e){return function(t){return Fp(e,t.start())&&Fp(e,t.finish())}},Vp=function(e){return!0===e.inline||Mp.isIE()},Hp=function(e){return Dp.range(yr.fromDom(e.startContainer),e.startOffset,yr.fromDom(e.endContainer),e.endOffset)},Up=function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?pe.from(t.getRangeAt(0)):pe.none()).map(Hp)},zp=function(e){var t=go.defaultView(e);return Up(t.dom()).filter(jp(e))},qp=function(e,t){return pe.from(t).filter(jp(e)).map(Bp)},Wp=function(e){var t=document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),pe.some(t)}catch(e){return pe.none()}},Gp=function(e){return(e.bookmark?e.bookmark:pe.none()).bind(se.curry(qp,yr.fromDom(e.getBody()))).bind(Wp)},Kp=function(e){var t=Vp(e)?zp(yr.fromDom(e.getBody())):pe.none();e.bookmark=t.isSome()?t:e.bookmark},$p=function(e){Gp(e).each(function(t){e.selection.setRng(t)})},Yp=Gp,Xp=function(e,t){var n=e.settings,r=e.dom,o=e.selection,i=e.formatter,a=/[a-z%]+$/i.exec(n.indentation)[0],s=parseInt(n.indentation,10),u=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||(n.forced_root_block||r.getParent(o.getNode(),r.isBlock)||i.apply("div"),Re.each(o.getSelectedBlocks(),function(e){return function(e,t,n,r,o,i){if("false"!==e.getContentEditable(i)&&"LI"!==i.nodeName){var a=n?"margin":"padding";if(a="TABLE"===i.nodeName?"margin":a,a+="rtl"===e.getStyle(i,"direction",!0)?"Right":"Left","outdent"===t){var s=Math.max(0,parseInt(i.style[a]||0,10)-r);e.setStyle(i,a,s?s+o:"")}else s=parseInt(i.style[a]||0,10)+r+o,e.setStyle(i,a,s)}}(r,t,u,s,a,e)}))},Zp=ln.each,Jp=ln.extend,Qp=ln.map,eh=ln.inArray,th=ln.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),nh=function(e){var t,n,r=this,o={},i=function(){return!1},a=function(){return!0};t=(e=e||{}).scope||r,n=e.toggleEvent||i;var s=function(e,t,a,s){var u,c,l;if(!1===t&&(t=i),t)for(t={func:t},s&&ln.extend(t,s),l=(c=e.toLowerCase().split(" ")).length;l--;)e=c[l],(u=o[e])||(u=o[e]=[],n(e,!0)),a?u.unshift(t):u.push(t);return r},u=function(e,t){var i,a,s,u,c;if(e)for(i=(u=e.toLowerCase().split(" ")).length;i--;){if(e=u[i],a=o[e],!e){for(s in o)n(s,!1),delete o[s];return r}if(a){if(t)for(c=a.length;c--;)a[c].func===t&&(a=a.slice(0,c).concat(a.slice(c+1)),o[e]=a);else a.length=0;a.length||(n(e,!1),delete o[e])}}else{for(e in o)n(e,!1);o={}}return r};r.fire=function(n,r){var s,c,l,f;if(n=n.toLowerCase(),(r=r||{}).type=n,r.target||(r.target=t),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=a},r.stopPropagation=function(){r.isPropagationStopped=a},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=a},r.isDefaultPrevented=i,r.isPropagationStopped=i,r.isImmediatePropagationStopped=i),e.beforeFire&&e.beforeFire(r),s=o[n])for(c=0,l=s.length;c<l;c++){if((f=s[c]).once&&u(n,f.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===f.func.call(t,r))return r.preventDefault(),r}return r},r.on=s,r.off=u,r.once=function(e,t,n){return s(e,t,n,{once:!0})},r.has=function(e){return e=e.toLowerCase(),!(!o[e]||0===o[e].length)}};nh.isNative=function(e){return!!th[e.toLowerCase()]};var rh,oh,ih,ah=function(e){return e._eventDispatcher||(e._eventDispatcher=new nh({scope:e,toggleEvent:function(t,n){nh.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},sh={fire:function(e,t,n){if(this.removed&&"remove"!==e)return t;if(t=ah(this).fire(e,t,n),!1!==n&&this.parent)for(var r=this.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},on:function(e,t,n){return ah(this).on(e,t,n)},off:function(e,t){return ah(this).off(e,t)},once:function(e,t){return ah(this).once(e,t)},hasEventListeners:function(e){return ah(this).has(e)}},uh=function(e,t){var n=Lr.get(e,t);return void 0===n||""===n?[]:n.split(" ")},ch=uh,lh=function(e,t,n){var r=uh(e,t).concat([n]);Lr.set(e,t,r.join(" "))},fh=function(e,t,n){var r=Re.filter(uh(e,t),function(e){return e!==n});0<r.length?Lr.set(e,t,r.join(" ")):Lr.remove(e,t)},dh=function(e){return ch(e,"class")},ph=function(e,t){return lh(e,"class",t)},hh=function(e,t){return fh(e,"class",t)},mh=dh,gh=ph,vh=hh,yh=function(e,t){Re.contains(dh(e),t)?hh(e,t):ph(e,t)},bh=function(e){return void 0!==e.dom().classList},wh=function(e,t){return bh(e)&&e.dom().classList.contains(t)},Ch={add:function(e,t){bh(e)?e.dom().classList.add(t):gh(e,t)},remove:function(e,t){var n;bh(e)?e.dom().classList.remove(t):vh(e,t),0===(bh(n=e)?n.dom().classList:mh(n)).length&&Lr.remove(n,"class")},toggle:function(e,t){return bh(e)?e.dom().classList.toggle(t):yh(e,t)},toggler:function(e,t){var n,r,o,i,a,s,u=bh(e),c=e.dom().classList;return n=function(){u?c.remove(t):vh(e,t)},r=function(){u?c.add(t):gh(e,t)},o=wh(e,t),i=o||!1,{on:a=function(){r(),i=!0},off:s=function(){n(),i=!1},toggle:function(){(i?s:a)()},isOn:function(){return i}}},has:wh},_h=function(e,t){return e.fire("PreProcess",t)},xh=function(e,t){return e.fire("PostProcess",t)},Eh=function(e){return e.fire("remove")},Sh=function(e,t){return e.fire("SwitchMode",{mode:t})},Oh=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},Th=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},kh=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},Rh=function(e,t){var n,r,o;n=yr.fromDom(e.getBody()),r="mce-content-readonly",o=t,Ch.has(n,r)&&!1===o?Ch.remove(n,r):o&&Ch.add(n,r),t?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",kh(e,"StyleWithCSS",!1),kh(e,"enableInlineTableEditing",!1),kh(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},Ph=function(e){return e.readonly?"readonly":"design"},Nh=Di.DOM,Ah=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=Nh.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},Ih=function(e,t,n){var r;(r=e).hidden||r.readonly?!0===e.readonly&&n.preventDefault():e.fire(t,n)},Dh=function(e,t){var n,r;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=Ah(e,t),e.settings.event_root){if(rh||(rh={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&rh){for(t in rh)e.dom.unbind(Ah(e,t));rh=null}})),rh[t])return;r=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||Nh.isChildOf(r,a))&&Ih(o[i],t,n)}},rh[t]=r,Nh.bind(n,t,r)}else r=function(n){Ih(e,t,n)},Nh.bind(n,t,r),e.delegates[t]=r},Mh={bindPendingEventDelegates:function(){var e=this;ln.each(e._pendingNativeEvents,function(t){Dh(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?Dh(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(Ah(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),r=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(Ah(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&r&&(n.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(n),r.unbind(t.getContainer()))}},Lh=Mh=ln.extend({},sh,Mh),Bh=ln.each,Fh=ln.explode,jh={f9:120,f10:121,f11:122},Vh=ln.makeMap("alt,ctrl,shift,meta,access"),Hh=function(e){var t=void 0!==e?e.dom():document;return pe.from(t.activeElement).map(yr.fromDom)},Uh=function(e){var t=go.owner(e).dom();return e.dom()===t.activeElement},zh=function(e){return Hh(go.owner(e)).filter(function(t){return e.dom().contains(t.dom())})},qh=function(e,t){return(n=t,n.collapsed?pe.from(xa(n.startContainer,n.startOffset)).map(yr.fromDom):pe.none()).bind(function(t){return Vo(t)?pe.some(t):!1===so.contains(e,t)?pe.some(e):pe.none()});var n},Wh=function(e,t){qh(yr.fromDom(e.getBody()),t).bind(function(e){return ps.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},Gh=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Kh=function(e){var t,n=e.getBody();return n&&(t=yr.fromDom(n),Uh(t)||zh(t).isSome())},$h=function(e){return e.inline?Kh(e):(t=e).iframeElement&&Uh(yr.fromDom(t.iframeElement));var t},Yh=function(e){return e.editorManager.setActive(e)},Xh=function(e,t){e.removed||(t?Yh(e):function(e){var t=e.selection,n=e.settings.content_editable,r=e.getBody(),o=t.getRng();e.quirks.refreshContentEditable();var i,a,s=(i=e,a=t.getNode(),i.dom.getParent(a,function(e){return"true"===i.dom.getContentEditable(e)}));if(e.$.contains(r,s))return Gh(s),Wh(e,o),Yh(e);void 0!==e.bookmark&&!1===$h(e)&&Yp(e).each(function(t){e.selection.setRng(t),o=t}),n||(ot.opera||Gh(r),e.getWin().focus()),(ot.gecko||n)&&(Gh(r),Wh(e,o)),Yh(e)}(e))},Zh=$h,Jh=function(e,t){return t.dom()[e]},Qh=function(e,t){return parseInt(Wr(t,e),10)},em=se.curry(Jh,"clientWidth"),tm=se.curry(Jh,"clientHeight"),nm=se.curry(Qh,"margin-top"),rm=se.curry(Qh,"margin-left"),om=function(e,t,n){var r,o,i,a,s,u,c,l,f,d,p=yr.fromDom(e.getBody()),h=e.inline?p:go.documentElement(p),m=(r=e.inline,i=t,a=n,s=(o=h).dom().getBoundingClientRect(),{x:i-(r?s.left+o.dom().clientLeft+rm(o):0),y:a-(r?s.top+o.dom().clientTop+nm(o):0)});return c=m.x,l=m.y,f=em(u=h),d=tm(u),0<=c&&0<=l&&c<=f&&l<=d},im=function(e){var t;return(t=e.inline?e.getBody():e.getContentAreaContainer(),pe.from(t).map(yr.fromDom)).map(function(e){return so.contains(go.owner(e),e)}).getOr(!1)},am=v.PluginManager,sm=function(e,t){var n=function(e,t){for(var n in am.urls)if(am.urls[n]+"/plugin"+t+".js"===e)return n;return null}(t,e.suffix);return n?"Failed to load plugin: "+n+" from url "+t:"Failed to load plugin url: "+t},um=function(e,t){e.notificationManager.open({type:"error",text:t})},cm=function(e,t){e._skinLoaded?um(e,t):e.on("SkinLoaded",function(){um(e,t)})},lm=function(e,t){cm(e,sm(e,t))},fm=function(e,t){cm(e,"Failed to upload image: "+t)},dm=cm,pm=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,arguments):r.log.apply(r,arguments))},hm=v.PluginManager,mm=v.ThemeManager,gm=function(e){return Ie.getOrDie("atob")(e)},vm=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},ym=function(e){return 0===e.indexOf("blob:")?(t=e,new it(function(e,n){var r=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new O;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){200===this.status?e(this.response):r()},o.onerror=r,o.send()}catch(e){r()}})):0===e.indexOf("data:")?(n=e,new it(function(e){var t,r,o;n=vm(n);try{t=gm(n.data)}catch(t){return void e(new k([]))}for(r=new P(t.length),o=0;o<r.length;o++)r[o]=t.charCodeAt(o);e(new k([r],{type:n.type}))})):null;var t,n},bm=function(e){return new it(function(t){var n=new R;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},wm=vm,Cm=0,_m=function(e){return(e||"blobid")+Cm++},xm=function(e,t,n,r){var o,i;0!==t.src.indexOf("blob:")?(o=wm(t.src).data,(i=e.findFirst(function(e){return e.base64()===o}))?n({image:t,blobInfo:i}):ym(t.src).then(function(r){i=e.create(_m(),r,o),e.add(i),n({image:t,blobInfo:i})},function(e){r(e)})):(i=e.getByUri(t.src))?n({image:t,blobInfo:i}):ym(t.src).then(function(r){bm(r).then(function(a){o=wm(a).data,i=e.create(_m(),r,o),e.add(i),n({image:t,blobInfo:i})})},function(e){r(e)})},Em=function(e){return e?e.getElementsByTagName("img"):[]},Sm=0,Om={uuid:function(e){return e+Sm+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t}},Tm=function(e,t){return e.hasOwnProperty(t.nodeName)},km=function(e,t){if(Qo.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Tm(e,t.nextSibling)))return!0}return!1},Rm=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=e.settings,p=e.dom,h=e.selection,m=e.schema,g=m.getBlockElements(),v=h.getStart(),y=e.getBody();if(f=d.forced_root_block,v&&Qo.isElement(v)&&f&&(l=y.nodeName.toLowerCase(),m.isValidChild(l,f.toLowerCase())&&(b=g,w=y,C=v,!Re.exists(tf(yr.fromDom(C),yr.fromDom(w)),function(e){return Tm(b,e.dom())})))){var b,w,C,_,x;for(n=(t=h.getRng()).startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,c=Zh(e),v=y.firstChild;v;)if(_=g,x=v,Qo.isText(x)||Qo.isElement(x)&&!Tm(_,x)&&!Jc(x)){if(km(g,v)){v=(s=v).nextSibling,p.remove(s);continue}a||(a=p.create(f,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),u=!0),v=(s=v).nextSibling,a.appendChild(s)}else a=null,v=v.nextSibling;u&&c&&(t.setStart(n,r),t.setEnd(o,i),h.setRng(t),e.nodeChanged())}},Pm=function(e){e.settings.forced_root_block&&e.on("NodeChange",se.curry(Rm,e))},Nm=function(e){return go.firstChild(e).fold(se.constant([e]),function(t){return[e].concat(Nm(t))})},Am=function(e){return go.lastChild(e).fold(se.constant([e]),function(t){return"br"===Sr.name(t)?go.prevSibling(t).map(function(t){return[e].concat(Am(t))}).getOr([]):[e].concat(Am(t))})},Im=function(e,t){return Ra([(i=t,a=i.startContainer,s=i.startOffset,Qo.isText(a)?0===s?pe.some(yr.fromDom(a)):pe.none():pe.from(a.childNodes[s]).map(yr.fromDom)),(n=t,r=n.endContainer,o=n.endOffset,Qo.isText(r)?o===r.data.length?pe.some(yr.fromDom(r)):pe.none():pe.from(r.childNodes[o-1]).map(yr.fromDom))],function(t,n){var r=Re.find(Nm(e),se.curry(so.eq,t)),o=Re.find(Am(e),se.curry(so.eq,n));return r.isSome()&&o.isSome()}).getOr(!1);var n,r,o,i,a,s},Dm=function(e,t,n,r){var o=n,i=new p(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==ln.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(ot.ie&&ot.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Mm=function(e){var t=e.selection.getSel();return t&&0<t.rangeCount},Lm=function(e){var t,n,r,o;return o=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}},Bm=function(e,t){return n=(s=e).inline?Lm(s.getBody()):{left:0,top:0},a=(i=e).getBody(),r=i.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(o=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Lm(e.getContentAreaContainer()),r=(i=(o=e).getBody(),a=o.getDoc().documentElement,s={left:i.scrollLeft,top:i.scrollTop},u={left:i.scrollLeft||a.scrollLeft,top:i.scrollTop||a.scrollTop},o.inline?s:u);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}var o,i,a,s,u;return{left:t.pageX,top:t.pageY}}(e,t)).left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o,i,a,s},Fm=Qo.isContentEditableFalse,jm=Qo.isContentEditableTrue,Vm=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},Hm=function(e,t){return function(n){if(0===n.button){var r=on.find(t.dom.getParents(n.target),ka.or(Fm,jm));if(s=t.getBody(),Fm(u=r)&&u!==s){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?i.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?i.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i}(t,r,e.width,e.height)}}var s,u}},Um=function(e,t){return function(n){if(e.dragging&&(l=(s=t).selection,f=l.getSel().getRangeAt(0).startContainer,u=3===f.nodeType?f.parentNode:f,c=e.element,u!==c&&!s.dom.isChildOf(u,c)&&!Fm(u))){var r=(i=e.element,(a=i.cloneNode(!0)).removeAttribute("data-mce-selected"),a),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact(function(){Vm(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}var i,a,s,u,c,l,f;zm(e)}},zm=function(e){e.dragging=!1,e.element=null,Vm(e.ghost)},qm=function(e){var t,n,r,o,i,a,s,u,c,l,f,d={};t=Di.DOM,a=document,n=Hm(d,e),s=d,u=e,c=ct.throttle(function(e,t){u._selectionOverrides.hideFakeCaret(),u.selection.placeCaretAt(e,t)},0),r=function(e){var t,n,r,o,i,a,l,f,d,p,h,m,g=Math.max(Math.abs(e.screenX-s.screenX),Math.abs(e.screenY-s.screenY));if(s.element&&!s.dragging&&10<g){if(u.fire("dragstart",{target:s.element}).isDefaultPrevented())return;s.dragging=!0,u.focus()}if(s.dragging){var v=(h=s,{pageX:(m=Bm(u,e)).pageX-h.relX,pageY:m.pageY+5});d=s.ghost,p=u.getBody(),d.parentNode!==p&&p.appendChild(d),t=s.ghost,n=v,r=s.width,o=s.height,i=s.maxX,a=s.maxY,f=l=0,t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+r>i&&(l=n.pageX+r-i),n.pageY+o>a&&(f=n.pageY+o-a),t.style.width=r-l+"px",t.style.height=o-f+"px",c(e.clientX,e.clientY)}},o=Um(d,e),l=d,i=function(){l.dragging&&f.fire("dragend"),zm(l)},(f=e).on("mousedown",n),e.on("mousemove",r),e.on("mouseup",o),t.bind(a,"mousemove",r),t.bind(a,"mouseup",i),e.on("remove",function(){t.unbind(a,"mousemove",r),t.unbind(a,"mouseup",i)})},Wm=function(e){var t;qm(e),(t=e).on("drop",function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(Fm(n)||Fm(t.dom.getContentEditableParent(n)))&&e.preventDefault()})},Gm=function(e){return on.reduce(e,function(e,t){return e.concat(function(e){var t=function(t){return on.map(t,function(t){return(t=va(t)).node=e,t})};if(Qo.isElement(e))return t(e.getClientRects());if(Qo.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}}(t))},[])};(ih=oh||(oh={}))[ih.Up=-1]="Up",ih[ih.Down=1]="Down";var Km=function(e,t,n,r,o,i){var a,s,u=0,c=[],l=function(r){var i,a,l;for(l=Gm([r]),-1===e&&(l=l.reverse()),i=0;i<l.length;i++)if(a=l[i],!n(a,s)){if(0<c.length&&t(a,on.last(c))&&u++,a.line=u,o(a))return!0;c.push(a)}};return(s=on.last(i.getClientRects()))&&(l(a=i.getNode()),function(e,t,n,r){for(;r=Au(r,e,ma,t);)if(n(r))return}(e,r,l,a)),c},$m=se.curry(Km,oh.Up,wa,Ca),Ym=se.curry(Km,oh.Down,Ca,wa),Xm=function(e){return function(t){return n=e,t.line>n;var n}},Zm=function(e){return function(t){return n=e,t.line===n;var n}},Jm=Qo.isContentEditableFalse,Qm=Au,eg=function(e,t){return Math.abs(e.left-t)},tg=function(e,t){return Math.abs(e.right-t)},ng=function(e,t){return e>=t.left&&e<=t.right},rg=function(e,t){return on.reduce(e,function(e,n){var r,o;return r=Math.min(eg(e,t),tg(e,t)),o=Math.min(eg(n,t),tg(n,t)),ng(t,n)?n:ng(t,e)?e:o===r&&Jm(n.node)?n:o<r?n:e})},og=function(e,t,n,r){for(;r=Qm(r,e,ma,t);)if(n(r))return},ig=function(e,t,n){var r,o,i,a,s,u,c,l,f=Gm((o=e,on.filter(on.toArray(o.getElementsByTagName("*")),Cu))),d=on.filter(f,function(e){return n>=e.top&&n<=e.bottom});return(r=rg(d,t))&&(r=rg((s=e,l=function(e,t){var n;return n=on.filter(Gm([t]),function(t){return!e(t,u)}),c=c.concat(n),0===n.length},(c=[]).push(u=r),og(oh.Up,s,se.curry(l,wa),u.node),og(oh.Down,s,se.curry(l,Ca),u.node),c),t))&&Cu(r.node)?(a=t,{node:(i=r).node,before:eg(i,a)<tg(i,a)}):null},ag=function(e,t,n){return!n.collapsed&&Re.foldl(n.getClientRects(),function(n,r){return n||(a=t,(i=e)>=(o=r).left&&i<=o.right&&a>=o.top&&a<=o.bottom);var o,i,a},!1)},sg=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){var r=arguments;null===n&&(n=setTimeout(function(){e.apply(null,r),r=n=null},t))}}},ug=function(e){var t=sg(function(){if(!e.removed&&e.selection.getRng().collapsed){var t=bs(e,e.selection.getRng(),!1);e.selection.setRng(t)}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},cg={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return ot.mac?e.metaKey:e.ctrlKey&&!e.altKey}},lg=Qo.isContentEditableTrue,fg=Qo.isContentEditableFalse,dg=Gu,pg=Wu,hg=function(e,t){for(var n=e.getBody();t&&t!==n;){if(lg(t)||fg(t))return t;t=t.parentNode}return null},mg=function(e){var t,n,r,o=e.getBody(),i=wu(e.getBody(),function(t){return e.dom.isBlock(t)},function(){return Zh(e)}),a="sel-"+e.dom.uniqueId(),s=function(t){t&&e.selection.setRng(t)},u=function(){return e.selection.getRng()},c=function(t,n,r,o){return void 0===o&&(o=!0),e.fire("ShowCaret",{target:n,direction:t,before:r}).isDefaultPrevented()?null:(o&&e.selection.scrollIntoView(n,-1===t),i.show(r,n))},l=function(e,t){return t=Vu(e,o,t),-1===e?Xa.fromRangeStart(t):Xa.fromRangeEnd(t)},f=function(e){return Zi(e)||na(e)||ra(e)},d=function(e){return f(e.startContainer)||f(e.endContainer)},p=function(n,r){var o,i,s,u,f,p,h,g,v,y,b=e.$,w=e.dom;if(!n)return null;if(n.collapsed){if(!d(n))if(!1===r){if(g=l(-1,n),Cu(g.getNode(!0)))return c(-1,g.getNode(!0),!1,!1);if(Cu(g.getNode()))return c(-1,g.getNode(),!g.isAtEnd(),!1)}else{if(g=l(1,n),Cu(g.getNode()))return c(1,g.getNode(),!g.isAtEnd(),!1);if(Cu(g.getNode(!0)))return c(1,g.getNode(!0),!1,!1)}return null}return u=n.startContainer,f=n.startOffset,p=n.endOffset,3===u.nodeType&&0===f&&fg(u.parentNode)&&(u=u.parentNode,f=w.nodeIndex(u),u=u.parentNode),1!==u.nodeType?null:(p===f+1&&(o=u.childNodes[f]),fg(o)?(v=y=o.cloneNode(!0),(h=e.fire("ObjectSelected",{target:o,targetClone:v})).isDefaultPrevented()?null:(i=jl(yr.fromDom(e.getBody()),"#"+a).fold(function(){return b([])},function(e){return b([e.dom()])}),v=h.targetClone,0===i.length&&(i=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",a)).appendTo(e.getBody()),n=e.dom.createRng(),v===y&&ot.ie?(i.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(v),n.setStartAfter(i[0].firstChild.firstChild),n.setEndAfter(v)):(i.empty().append("\xa0").append(v).append("\xa0"),n.setStart(i[0].firstChild,1),n.setEnd(i[0].lastChild,0)),i.css({top:w.getPos(o,e.getBody()).y}),i[0].focus(),(s=e.selection.getSel()).removeAllRanges(),s.addRange(n),Re.each(Ns(yr.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){Lr.remove(e,"data-mce-selected")}),o.setAttribute("data-mce-selected","1"),t=o,m(),n)):null)},h=function(){t&&t.removeAttribute("data-mce-selected"),jl(yr.fromDom(e.getBody()),"#"+a).each(ol.remove),t=null},m=function(){i.hide()};return ot.ceFalse&&(function(){e.on("mouseup",function(t){var n=u();n.collapsed&&om(e,t.clientX,t.clientY)&&s(ys(e,n,!1))}),e.on("click",function(t){var n;(n=hg(e,t.target))&&(fg(n)&&(t.preventDefault(),e.focus()),lg(n)&&e.dom.isChildOf(n,e.selection.getNode())&&h())}),e.on("blur NewBlock",function(){h()}),e.on("ResizeWindow FullscreenStateChanged",function(){return i.reposition()});var n,r,l=function(t,n){var r,o,i=e.dom.getParent(t,e.dom.isBlock),a=e.dom.getParent(n,e.dom.isBlock);return!(!i||!e.dom.isChildOf(i,a)||!1!==fg(hg(e,i)))||i&&(r=i,o=a,!(e.dom.getParent(r,e.dom.isBlock)===e.dom.getParent(o,e.dom.isBlock)))&&function(e){var t=lc(e);if(!e.firstChild)return!1;var n=Xa.before(e.firstChild),r=t.next(n);return r&&!pg(r)&&!dg(r)}(i)};r=!1,(n=e).on("touchstart",function(){r=!1}),n.on("touchmove",function(){r=!0}),n.on("touchend",function(e){var t=hg(n,e.target);fg(t)&&(r||(e.preventDefault(),p(vs(n,t))))}),e.on("mousedown",function(t){var n,r=t.target;if((r===o||"HTML"===r.nodeName||e.dom.isChildOf(r,o))&&!1!==om(e,t.clientX,t.clientY))if(n=hg(e,r))fg(n)?(t.preventDefault(),p(vs(e,n))):(h(),lg(n)&&t.shiftKey||ag(t.clientX,t.clientY,e.selection.getRng())||(m(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===Cu(r)){h(),m();var i=ig(o,t.clientX,t.clientY);if(i&&!l(t.target,i.node)){t.preventDefault();var a=c(1,i.node,i.before,!1);e.getBody().focus(),s(a)}}}),e.on("keypress",function(t){cg.modifierPressed(t)||(t.keyCode,fg(e.selection.getNode())&&t.preventDefault())}),e.on("getSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);(n=n.cloneRange()).selectNode(t),e.range=n}}),e.on("setSelectionRange",function(e){var t;(t=p(e.range,e.forward))&&(e.range=t)}),e.on("AfterSetSelectionRange",function(t){var n,r=t.range;d(r)||m(),n=r.startContainer.parentNode,e.dom.hasClass(n,"mce-offscreen-selection")||h()}),e.on("copy",function(t){var n,r=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!ot.ie){var o=(n=e.dom.get(a))?n.getElementsByTagName("*")[0]:n;o&&(t.preventDefault(),r.clearData(),r.setData("text/html",o.outerHTML),r.setData("text/plain",o.outerText))}}),Wm(e),ug(e)}(),n=e.contentStyles,r=".mce-content-body",n.push(i.getCss()),n.push(r+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+r+" *[contentEditable=false] {cursor: default;}"+r+" *[contentEditable=true] {cursor: text;}")),{showCaret:c,showBlockCaretContainer:function(t){t.hasAttribute("data-mce-caret")&&(oa(t),s(u()),e.selection.scrollIntoView(t[0]))},hideFakeCaret:m,destroy:function(){i.destroy(),t=null}}},gg=function(e,t,n){var r,o,i,a,s=1;for(a=e.getShortEndedElements(),(i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;o=i.exec(t);){if(r=i.lastIndex,"/"===o[1])s--;else if(!o[1]){if(o[2]in a)continue;s++}if(0===s)break}return r};(I||(I={})).findEndTag=gg;var vg,yg,bg=I,wg=function(e,t){var n,r,o,i,a,s,u,c,l=t,f=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,d=e.schema;for(s=e.getTempAttrs(),u=l,c=new RegExp(["\\s?("+s.join("|")+')="[^"]+"'].join("|"),"gi"),l=u.replace(c,""),a=d.getShortEndedElements();i=f.exec(l);)r=f.lastIndex,o=i[0].length,n=a[i[1]]?r:bg.findEndTag(d,l,r),l=l.substring(0,r-o)+l.substring(n),f.lastIndex=r-o;return Gi(l)},Cg={trimExternal:wg,trimInternal:wg},_g=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(n,r,o,a,u){var c=s(n,r,o,a);if(null===c||c.start===r&&c.diag===r-a||c.end===n&&c.diag===n-o)for(var l=n,f=o;l<r||f<a;)l<r&&f<a&&e[l]===t[f]?(u.push([0,e[l]]),++l,++f):a-o<r-n?(u.push([2,e[l]]),++l):(u.push([1,t[f]]),++f);else{i(n,c.start,o,c.start-c.diag,u);for(var d=c.start;d<c.end;++d)u.push([0,e[d]]);i(c.end,r,c.end-c.diag,a,u)}},a=function(n,r,o,i){for(var a=n;a-r<i&&a<o&&e[a]===t[a-r];)++a;return{start:n,end:a,diag:r}},s=function(n,i,s,u){var c=i-n,l=u-s;if(0===c||0===l)return null;var f,d,p,h,m,g=c-l,v=l+c,y=(v%2==0?v:v+1)/2;for(r[1+y]=n,o[1+y]=i+1,f=0;f<=y;++f){for(d=-f;d<=f;d+=2){for(p=d+y,d===-f||d!==f&&r[p-1]<r[p+1]?r[p]=r[p+1]:r[p]=r[p-1]+1,m=(h=r[p])-n+s-d;h<i&&m<u&&e[h]===t[m];)r[p]=++h,++m;if(g%2!=0&&g-f<=d&&d<=g+f&&o[p-g]<=r[p])return a(o[p-g],d+n-s,i,u)}for(d=g-f;d<=g+f;d+=2){for(p=d+y-g,d===g-f||d!==g+f&&o[p+1]<=o[p-1]?o[p]=o[p+1]-1:o[p]=o[p-1],m=(h=o[p]-1)-n+s-d;n<=h&&s<=m&&e[h]===t[m];)o[p]=h--,m--;if(g%2==0&&-f<=d&&d<=f&&o[p]<=r[p+g])return a(o[p],d+n-s,i,u)}}},u=[];return i(0,e.length,0,t.length,u),u},xg=function(e){return Qo.isElement(e)?e.outerHTML:Qo.isText(e)?hi.encodeRaw(e.data,!1):Qo.isComment(e)?"\x3c!--"+e.data+"--\x3e":""},Eg=function(e,t,n){var r=function(e){var t,n,r;for(r=document.createElement("div"),t=document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},Sg=function(e){return on.filter(on.map(e.childNodes,xg),function(e){return 0<e.length})},Og=function(e,t){var n,r,o,i=on.map(t.childNodes,xg);return n=_g(i,e),r=t,o=0,on.each(n,function(e){0===e[0]?o++:1===e[0]?(Eg(r,e[1],o),o++):2===e[0]&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(r,o)}),t},Tg=function(e,t){var n=(t||document).createElement("div");return n.innerHTML=e,go.children(yr.fromDom(n))},kg=function(e){return e.dom().innerHTML},Rg=kg,Pg=function(e,t){var n=go.owner(e).dom(),r=yr.fromDom(n.createDocumentFragment()),o=Tg(t,n);nl(r,o),ol.empty(e),ou.append(e,r)},Ng=vu(pe.none()),Ag=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},Ig=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Dg=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Mg=function(e){var t=yr.fromTag("body",Ng.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument("undo");return Ng.set(pe.some(e)),e}));return Pg(t,Dg(e)),Re.each(Ns(t,"*[data-mce-bogus]"),ol.unwrap),Rg(t)},Lg=function(e){var t,n,r;return t=Sg(e.getBody()),-1!==(n=(r=Re.bind(t,function(t){var n=Cg.trimInternal(e.serializer,t);return 0<n.length?[n]:[]})).join("")).indexOf("</iframe>")?Ag(r):Ig(n)},Bg=function(e,t,n){"fragmented"===t.type?Og(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Fg=function(e,t){return!(!e||!t)&&(r=t,Dg(e)===Dg(r)||(n=t,Mg(e)===Mg(n)));var n,r},jg=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Vg=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},Hg=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Ug={isInlineBlock:jg,moveStart:function(e,t,n){var r,o,i,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!jg(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(a<(i=s.childNodes).length?r=new p(s=i[a],e.getParent(s,e.isBlock)):(r=new p(s=i[i.length-1],e.getParent(s,e.isBlock))).next(!0),o=r.current();o;o=r.next())if(3===o.nodeType&&!Vg(o))return n.setStart(o,0),void t.setRng(n)},getNonWhiteSpaceSibling:function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!Vg(e))return e},isTextBlock:function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},isValid:function(e,t,n){return e.schema.isValidChild(t,n)},isWhiteSpaceNode:Vg,replaceVars:function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},isEq:function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},normalizeStyleValue:Hg,getStyle:function(e,t,n){return Hg(e,e.getStyle(t,n),n)},getTextDecoration:function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},getParents:function(e,t,n){return e.getParents(t,n,e.getRoot())}},zg=Jc,qg=Ug.getParents,Wg=Ug.isWhiteSpaceNode,Gg=Ug.isTextBlock,Kg=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},$g=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Yg=function(e,t,n,r){var o,i,a=n.nodeValue;return void 0===r&&(r=e?a.length:0),e?(o=a.lastIndexOf(" ",r),-1===(o=(i=a.lastIndexOf("\xa0",r))<o?o:i)||t||o++):(o=a.indexOf(" ",r),i=a.indexOf("\xa0",r),o=-1!==o&&(-1===i||o<i)?o:i),o},Xg=function(e,t,n,r,o,i){var a,s,u,c;if(3===n.nodeType){if(-1!==(u=Yg(o,i,n,r)))return{container:n,offset:u};c=n}for(a=new p(n,e.getParent(n,e.isBlock)||t);s=a[o?"prev":"next"]();)if(3===s.nodeType){if(-1!==(u=Yg(o,i,c=s)))return{container:s,offset:u}}else if(e.isBlock(s))break;if(c)return{container:c,offset:r=o?0:c.length}},Zg=function(e,t,n,r,o){var i,a,s,u;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),i=qg(e,r),a=0;a<i.length;a++)for(s=0;s<t.length;s++)if(!("collapsed"in(u=t[s])&&u.collapsed!==n.collapsed)&&e.is(i[a],u.selector))return i[a];return r},Jg=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var s=i.getParent(n,"LI,TD,TH");o=i.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==a&&Gg(e,t)},s)}if(o&&t[0].wrapper&&(o=qg(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!Ug.isEq(o,"br")););return o||n},Qg=function(e,t,n,r,o,i,a){var s,u,c,l,f,d;if(s=u=a?n:o,l=a?"previousSibling":"nextSibling",f=e.getRoot(),3===s.nodeType&&!Wg(s)&&(a?0<r:i<s.nodeValue.length))return s;for(;;){if(!t[0].block_expand&&e.isBlock(u))return u;for(c=u[l];c;c=c[l])if(!zg(c)&&!Wg(c)&&("BR"!==(d=c).nodeName||!d.getAttribute("data-mce-bogus")||d.nextSibling))return u;if(u===f||u.parentNode===f){s=u;break}u=u.parentNode}return s},ev=function(e,t,n,r){var o,i=t.startContainer,a=t.startOffset,s=t.endContainer,u=t.endOffset,c=e.dom;return 1===i.nodeType&&i.hasChildNodes()&&3===(i=xa(i,a)).nodeType&&(a=0),1===s.nodeType&&s.hasChildNodes()&&3===(s=xa(s,t.collapsed?u:u-1)).nodeType&&(u=s.nodeValue.length),i=$g(c,i),s=$g(c,s),(zg(i.parentNode)||zg(i))&&3===(i=(i=zg(i)?i:i.parentNode).nextSibling||i).nodeType&&(a=0),(zg(s.parentNode)||zg(s))&&3===(s=(s=zg(s)?s:s.parentNode).previousSibling||s).nodeType&&(u=s.length),n[0].inline&&(t.collapsed&&((o=Xg(c,e.getBody(),i,a,!0,r))&&(i=o.container,a=o.offset),(o=Xg(c,e.getBody(),s,u,!1,r))&&(s=o.container,u=o.offset)),s=r?s:function(e,t){var n=Kg(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Kg(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(e=n.node).splitText(n.offset-1)}return e}(s,u)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===i.nodeType&&0!==a||(i=Qg(c,n,i,a,s,u,!0)),n[0].inline&&3===s.nodeType&&u!==s.nodeValue.length||(s=Qg(c,n,i,a,s,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(i=Zg(c,n,t,i,"previousSibling"),s=Zg(c,n,t,s,"nextSibling")),(n[0].block||n[0].selector)&&(i=Jg(e,n,i,"previousSibling"),s=Jg(e,n,s,"nextSibling"),n[0].block&&(c.isBlock(i)||(i=Qg(c,n,i,a,s,u,!0)),c.isBlock(s)||(s=Qg(c,n,i,a,s,u,!1)))),1===i.nodeType&&(a=c.nodeIndex(i),i=i.parentNode),1===s.nodeType&&(u=c.nodeIndex(s)+1,s=s.parentNode),{startContainer:i,startOffset:a,endContainer:s,endOffset:u}},tv=Ug.isEq,nv=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},rv=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!nv(e,t,n)||t.parentNode===o||!!av(e,t,n,r,!0)}),av(e,t,n,r))},ov=function(e,t,n){return!!tv(t,n.inline)||!!tv(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},iv=function(e,t,n,r,o,i){var a,s,u,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):Ug.getStyle(e,t,a),o&&!s&&!n.exact)return;if((!o||n.exact)&&!tv(s,Ug.normalizeStyleValue(e,Ug.replaceVars(c[a],i),a)))return}}else for(u=0;u<c.length;u++)if("attributes"===r?e.getAttrib(t,c[u]):Ug.getStyle(e,t,c[u]))return n;return n},av=function(e,t,n,r,o){var i,a,s,u,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(i=c[a],ov(e.dom,t,i)&&iv(l,t,i,"attributes",o,r)&&iv(l,t,i,"styles",o,r)){if(u=i.classes)for(s=0;s<u.length;s++)if(!e.dom.hasClass(t,u[s]))return;return i}},sv={matchNode:av,matchName:ov,match:function(e,t,n,r){var o;return r?rv(e,r,t,n):(r=e.selection.getNode(),!!rv(e,r,t,n)||!((o=e.selection.getStart())===r||!rv(e,o,t,n)))},matchAll:function(e,t,n){var r,o=[],i={};return r=e.selection.getStart(),e.dom.getParent(r,function(r){var a,s;for(a=0;a<t.length;a++)s=t[a],!i[s]&&av(e,r,s,n)&&(i[s]=!0,o.push(s))},e.dom.getRoot()),o},canApply:function(e,t){var n,r,o,i,a,s=e.formatter.get(t),u=e.dom;if(s)for(n=e.selection.getStart(),r=Ug.getParents(u,n),i=s.length-1;0<=i;i--){if(!(a=s[i].selector)||s[i].defaultBlock)return!0;for(o=r.length-1;0<=o;o--)if(u.is(r[o],a))return!0}return!1},matchesUnInheritedFormatSelector:nv},uv=function(e,t){return e.splitText(t)},cv=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&Qo.isText(t)?0<n&&n<t.nodeValue.length&&(t=(r=uv(t,n)).previousSibling,n<o?(t=r=uv(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(Qo.isText(t)&&0<n&&n<t.nodeValue.length&&(t=uv(t,n),n=0),Qo.isText(r)&&0<o&&o<r.nodeValue.length&&(o=(r=uv(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},lv=Wi,fv="_mce_caret",dv=function(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==lv||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length},pv=function(e){var t;if(e)for(e=(t=new p(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null},hv=function(e){var t=yr.fromTag("span");return Lr.setAll(t,{id:fv,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ou.append(t,yr.fromText(lv)),t},mv=function(e,t,n,r){var o,i,a,s;o=t.getRng(!0),i=e.getParent(n,e.isBlock),dv(n)?(!1!==r&&(o.setStartBefore(n),o.setEndBefore(n)),e.remove(n)):((s=pv(n))&&s.nodeValue.charAt(0)===lv&&s.deleteData(0,1),a=s,o.startContainer===a&&0<o.startOffset&&o.setStart(a,o.startOffset-1),o.endContainer===a&&0<o.endOffset&&o.setEnd(a,o.endOffset-1),e.remove(n,!0)),i&&e.isEmpty(i)&&ul(yr.fromDom(i)),t.setRng(o)},gv=function(e,t,n,r,o){if(r)mv(t,n,r,o);else if(!(r=Uc(e,n.getStart())))for(;r=t.get(fv);)mv(t,n,r,!1)},vv=function(e,t,n){var r=e.dom,o=r.getParent(n,ka.curry(Ug.isTextBlock,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(sl(yr.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},yv=function(e,t){return e.appendChild(t),t},bv=function(e,t){var n=Re.foldr(e,function(e,t){return yv(e,t.cloneNode(!1))},t);return yv(n,n.ownerDocument.createTextNode(lv))},wv=function(e){var t=e.dom,n=e.selection,r=e.getBody();e.on("mouseup keydown",function(e){var o,i,a,s;o=r,i=t,a=n,s=e.keyCode,gv(o,i,a,null,!1),8===s&&a.isCollapsed()&&a.getStart().innerHTML===lv&&gv(o,i,a,Uc(o,a.getStart())),37!==s&&39!==s||gv(o,i,a,Uc(o,a.getStart()))})},Cv=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Sr.name(t))&&!Hc(t.dom())&&!Qo.isBogus(t.dom())},_v={},xv=on.filter,Ev=on.each;yg=function(e){var t,n,r=e.selection.getRng();t=Qo.matchNodeNames("pre"),r.collapsed||(n=e.selection.getSelectedBlocks(),Ev(xv(xv(n,t),function(e){return t(e.previousSibling)&&-1!==on.indexOf(n,e.previousSibling)}),function(e){var t,n;t=e.previousSibling,Rn(n=e).remove(),Rn(t).append("<br><br>").append(n.childNodes)}))},_v[vg="pre"]||(_v[vg]=[]),_v[vg].push(yg);var Sv=function(e,t){Ev(_v[e],function(e){e(t)})},Ov=ln.each,Tv=function(e,t,n){var r,o,i,a,s,u,c,l=t.startContainer,f=t.startOffset,d=t.endContainer,p=t.endOffset;if(0<(c=e.select("td[data-mce-selected],th[data-mce-selected]")).length)Ov(c,function(e){n([e])});else{var h,m,g,v=function(e){var t;return 3===(t=e[0]).nodeType&&t===l&&f>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===p&&0<e.length&&t===d&&3===t.nodeType&&e.splice(e.length-1,1),e},y=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},b=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},w=function(e,t,r){var o=r?"nextSibling":"previousSibling";for(s=(a=e).parentNode;a&&a!==t;a=s)s=a.parentNode,(u=y(a===e?a:a[o],o)).length&&(r||u.reverse(),n(v(u)))};if(1===l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[f]),1===d.nodeType&&d.hasChildNodes()&&(m=p,g=(h=d).childNodes,--m>g.length-1?m=g.length-1:m<0&&(m=0),d=g[m]||h),l===d)return n(v([l]));for(r=e.findCommonAncestor(l,d),a=l;a;a=a.parentNode){if(a===d)return w(l,r,!0);if(a===r)break}for(a=d;a;a=a.parentNode){if(a===l)return w(d,r);if(a===r)break}o=b(l,r)||l,i=b(d,r)||d,w(l,o,!0),(u=y(o===l?o:o.nextSibling,"nextSibling",i===d?i.nextSibling:i)).length&&n(v(u)),w(d,i)}},kv=/^(src|href|style)$/,Rv=ln.each,Pv=Ug.isEq,Nv=function(e){return/^(TH|TD)$/.test(e.nodeName)},Av=function(e,t,n){var r,o,i;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],Qo.isElement(r)&&(i=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[i<o?i:o]),Qo.isText(r)&&n&&o>=r.nodeValue.length&&(r=new p(r,e.getBody()).next()||r),Qo.isText(r)&&!n&&0===o&&(r=new p(r,e.getBody()).prev()||r),r},Iv=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},Dv=function(e,t,n,r){return!(t=Ug.getNonWhiteSpaceSibling(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},Mv=function(e,t,n,r,o){var i,a,s,u,c,l,f,d,p,h,m,g,v,y,b=e.dom;if(c=b,!(Pv(l=r,(f=t).inline)||Pv(l,f.block)||(f.selector?Qo.isElement(l)&&c.is(l,f.selector):void 0)||(u=r,t.links&&"A"===u.tagName)))return!1;if("all"!==t.remove)for(Rv(t.styles,function(e,i){e=Ug.normalizeStyleValue(b,Ug.replaceVars(e,n),i),"number"==typeof i&&(i=e,o=0),(t.remove_similar||!o||Pv(Ug.getStyle(b,o,i),e))&&b.setStyle(r,i,""),s=1}),s&&""===b.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),Rv(t.attributes,function(e,t){var i;if(e=Ug.replaceVars(e,n),"number"==typeof t&&(t=e,o=0),!o||Pv(b.getAttrib(o,t),e)){if("class"===t&&(e=b.getAttrib(r,t))&&(i="",Rv(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)}),i))return void b.setAttrib(r,t,i);"class"===t&&r.removeAttribute("className"),kv.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)}}),Rv(t.classes,function(e){e=Ug.replaceVars(e,n),o&&!b.hasClass(o,e)||b.removeClass(r,e)}),a=b.getAttribs(r),i=0;i<a.length;i++){var w=a[i].nodeName;if(0!==w.indexOf("_")&&0!==w.indexOf("data-"))return!1}return"none"!==t.remove?(d=e,h=t,g=(p=r).parentNode,v=d.dom,y=d.settings.forced_root_block,h.block&&(y?g===v.getRoot()&&(h.list_block&&Pv(p,h.list_block)||Rv(ln.grep(p.childNodes),function(e){Ug.isValid(d,y,e.nodeName.toLowerCase())?m?m.appendChild(e):(m=Iv(v,e,y),v.setAttribs(m,d.settings.forced_root_block_attrs)):m=0})):v.isBlock(p)&&!v.isBlock(g)&&(Dv(v,p,!1)||Dv(v,p.firstChild,!0,1)||p.insertBefore(v.create("br"),p.firstChild),Dv(v,p,!0)||Dv(v,p.lastChild,!1,1)||p.appendChild(v.create("br")))),h.selector&&h.inline&&!Pv(h.inline,p)||v.remove(p,1),!0):void 0},Lv=Mv,Bv=function(e,t,n,r,o){var i,a,s=e.formatter.get(t),u=s[0],c=!0,l=e.dom,f=e.selection,d=function(r){var i,a,c,l,f,d,p=(i=e,a=r,c=t,l=n,f=o,Rv(Ug.getParents(i.dom,a.parentNode).reverse(),function(e){var t;d||"_start"===e.id||"_end"===e.id||(t=sv.matchNode(i,e,c,l,f))&&!1!==t.split&&(d=e)}),d);return function(e,t,n,r,o,i,a,s){var u,c,l,f,d,p,h=e.dom;if(n){for(p=n.parentNode,u=r.parentNode;u&&u!==p;u=u.parentNode){for(c=h.clone(u,!1),d=0;d<t.length;d++)if(Mv(e,t[d],s,c,c)){c=0;break}c&&(l&&c.appendChild(l),f||(f=c),l=c)}a.mixed&&h.isBlock(n)||(r=h.split(n,r)),l&&(o.parentNode.insertBefore(l,o),f.appendChild(o))}return r}(e,s,p,r,r,0,u,n)},p=function(t){var r,o,i,a,f;if(Qo.isElement(t)&&l.getContentEditable(t)&&(a=c,c="true"===l.getContentEditable(t),f=!0),r=ln.grep(t.childNodes),c&&!f)for(o=0,i=s.length;o<i&&!Mv(e,s[o],n,t,t);o++);if(u.deep&&r.length){for(o=0,i=r.length;o<i;o++)p(r[o]);f&&(c=a)}},h=function(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return Jc(n)&&(n=n[e?"firstChild":"lastChild"]),Qo.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},m=function(t){var n,r,o=t.commonAncestorContainer;if(t=ev(e,t,s,!0),u.split){if((n=Av(e,t,!0))!==(r=Av(e,t))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&Nv(r)&&r.firstChild&&(r=r.firstChild||r),l.isChildOf(n,r)&&n!==r&&!l.isBlock(r)&&!Nv(n)&&!Nv(r))return n=Iv(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),d(n),void(n=h(!0));n=Iv(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=Iv(l,r,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(r),n=h(!0),r=h()}else n=r=d(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=l.nodeIndex(n),t.endContainer=r.parentNode?r.parentNode:r,t.endOffset=l.nodeIndex(r)+1}Tv(l,t,function(t){Rv(t,function(t){p(t),Qo.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===Ug.getTextDecoration(l,t.parentNode)&&Mv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(r)r.nodeType?((a=l.createRng()).setStartBefore(r),a.setEndAfter(r),m(a)):m(r);else if("false"!==l.getContentEditable(f.getNode()))f.isCollapsed()&&u.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length?function(e,t,n,r){var o,i,a,s,u,c,l,f=e.dom,d=e.selection,p=[],h=d.getRng();for(o=h.startContainer,i=h.startOffset,3===(u=o).nodeType&&(i!==o.nodeValue.length&&(s=!0),u=u.parentNode);u;){if(sv.matchNode(e,u,t,n,r)){c=u;break}u.nextSibling&&(s=!0),p.push(u),u=u.parentNode}if(c)if(s){a=d.getBookmark(),h.collapse(!0);var m=ev(e,h,e.formatter.get(t),!0);m=cv(m),e.formatter.remove(t,n,m),d.moveToBookmark(a)}else{l=Uc(e.getBody(),c);var g=hv(!1).dom(),v=bv(p,g);vv(e,g,l||c),mv(f,d,l,!1),d.setCursorLocation(v,1),f.isEmpty(c)&&f.remove(c)}}(e,t,n,o):(i=jc.getPersistentBookmark(e.selection,!0),m(f.getRng()),f.moveToBookmark(i),u.inline&&sv.match(e,t,n,f.getStart())&&Ug.moveStart(l,f,f.getRng()),e.nodeChanged());else{r=f.getNode();for(var g=0,v=s.length;g<v&&(!s[g].ceFalseOverride||!Mv(e,s[g],n,r,r));g++);}},Fv=ln.each,jv=function(e){return e&&1===e.nodeType&&!Jc(e)&&!Hc(e)&&!Qo.isBogus(e)},Vv=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!Jc(n))return n}return e},Hv=function(e,t,n){var r,o,i=new el(e);if(t&&n&&(t=Vv(t,"previousSibling"),n=Vv(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)r=(o=r).nextSibling,t.appendChild(o);return e.remove(n),ln.each(ln.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},Uv=function(e,t,n){Fv(e.childNodes,function(e){jv(e)&&(t(e)&&n(e),e.hasChildNodes()&&Uv(e,t,n))})},zv=function(e,t){return se.curry(function(t,n){return!(!n||!Ug.getStyle(e,n,t))},t)},qv=function(e,t,n){return se.curry(function(t,n,r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),Wv(e,r)},t,n)},Wv=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Gv=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=Ug.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},Kv=function(e,t,n,r){Fv(t,function(t){Fv(e.dom.select(t.inline,r),function(r){jv(r)&&Lv(e,t,n,r,t.exact?r:null)}),function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";Fv(e.select(r,n),function(n){jv(n)&&Fv(t.styles,function(t,r){e.setStyle(n,r,"")})})}}(e.dom,t,r)})},$v=function(e,t,n,r){(t.styles.color||t.styles.textDecoration)&&(ln.walk(r,se.curry(Gv,e),"childNodes"),Gv(e,r))},Yv=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&Uv(r,zv(e,"fontSize"),qv(e,"backgroundColor",Ug.replaceVars(t.styles.backgroundColor,n)))},Xv=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(Uv(r,zv(e,"fontSize"),qv(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},Zv=function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=Hv(e,Ug.getNonWhiteSpaceSibling(r),r),r=Hv(e,r,Ug.getNonWhiteSpaceSibling(r,!0)))},Jv=function(e,t,n,r,o){sv.matchNode(e,o.parentNode,n,r)&&Lv(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,function(i){if(sv.matchNode(e,i,n,r))return Lv(e,t,r,o),!0})},Qv=ln.each,ey=function(e,t,n,r){var o,i,a=e.formatter.get(t),s=a[0],u=!r&&e.selection.isCollapsed(),c=e.dom,l=e.selection,f=function(e,t){if(t=t||s,e){if(t.onformat&&t.onformat(e,t,n,r),Qv(t.styles,function(t,r){c.setStyle(e,r,Ug.replaceVars(t,n))}),t.styles){var o=c.getAttrib(e,"style");o&&e.setAttribute("data-mce-style",o)}Qv(t.attributes,function(t,r){c.setAttrib(e,r,Ug.replaceVars(t,n))}),Qv(t.classes,function(t){t=Ug.replaceVars(t,n),c.hasClass(e,t)||c.addClass(e,t)})}},d=function(e,t){var n=!1;return!!s.selector&&(Qv(e,function(e){if(!("collapsed"in e&&e.collapsed!==u))return c.is(t,e.selector)&&!Hc(t)?(f(t,e),!(n=!0)):void 0}),n)},p=function(r,o,i,u){var c,l,p=[],h=!0;c=s.inline||s.block,l=r.create(c),f(l),Tv(r,o,function(o){var i,m=function(o){var g,v,y,b;if(b=h,g=o.nodeName.toLowerCase(),v=o.parentNode.nodeName.toLowerCase(),1===o.nodeType&&r.getContentEditable(o)&&(b=h,h="true"===r.getContentEditable(o),y=!0),Ug.isEq(g,"br"))return i=0,void(s.block&&r.remove(o));if(s.wrapper&&sv.matchNode(e,o,t,n))i=0;else{if(h&&!y&&s.block&&!s.wrapper&&Ug.isTextBlock(e,g)&&Ug.isValid(e,v,c))return o=r.rename(o,c),f(o),p.push(o),void(i=0);if(s.selector){var w=d(a,o);if(!s.inline||w)return void(i=0)}!h||y||!Ug.isValid(e,c,g)||!Ug.isValid(e,v,c)||!u&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||Hc(o)||s.inline&&r.isBlock(o)?(i=0,Qv(ln.grep(o.childNodes),m),y&&(h=b),i=0):(i||(i=r.clone(l,!1),o.parentNode.insertBefore(i,o),p.push(i)),i.appendChild(o))}};Qv(o,m)}),!0===s.links&&Qv(p,function(e){var t=function(e){"A"===e.nodeName&&f(e,s),Qv(ln.grep(e.childNodes),t)};t(e)}),Qv(p,function(o){var i,u,c,l,d;u=0,Qv(o.childNodes,function(e){Ug.isWhiteSpaceNode(e)||Jc(e)||u++}),i=u,!(1<p.length)&&r.isBlock(o)||0!==i?(s.inline||s.wrapper)&&(s.exact||1!==i||((l=function(e){var t=!1;return Qv(e.childNodes,function(e){if((n=e)&&1===n.nodeType&&!Jc(n)&&!Hc(n)&&!Qo.isBogus(n))return t=e,!1;var n}),t}(c=o))&&!Jc(l)&&sv.matchName(r,l,s)&&(d=r.clone(l,!1),f(d),r.replace(d,c,!0),r.remove(l,1)),o=d||c),Kv(e,a,n,o),Jv(e,s,t,n,o),Yv(r,s,n,o),Xv(r,s,0,o),Zv(r,s,0,o)):r.remove(o,1)})};if("false"!==c.getContentEditable(l.getNode())){if(s){if(r)r.nodeType?d(a,r)||((i=c.createRng()).setStartBefore(r),i.setEndAfter(r),p(c,ev(e,i,a),0,!0)):p(c,r,0,!0);else if(u&&s.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length)!function(e,t,n){var r,o,i,a,s,u,c=e.selection;a=(r=c.getRng(!0)).startOffset,u=r.startContainer.nodeValue,(o=Uc(e.getBody(),c.getStart()))&&(i=pv(o));var l,f,d=/[^\s\u00a0\u00ad\u200b\ufeff]/;u&&0<a&&a<u.length&&d.test(u.charAt(a))&&d.test(u.charAt(a-1))?(s=c.getBookmark(),r.collapse(!0),r=ev(e,r,e.formatter.get(t)),r=cv(r),e.formatter.apply(t,n,r),c.moveToBookmark(s)):(o&&i.nodeValue===lv||(l=e.getDoc(),f=hv(!0).dom(),i=(o=l.importNode(f,!0)).firstChild,r.insertNode(o),a=1),e.formatter.apply(t,n,o),c.setCursorLocation(i,a))}(e,t,n);else{var h=e.selection.getNode();e.settings.forced_root_block||!a[0].defaultBlock||c.getParent(h,c.isBlock)||ey(e,a[0].defaultBlock),e.selection.setRng(dl(e.selection.getRng())),o=jc.getPersistentBookmark(e.selection,!0),p(c,ev(e,l.getRng(),a)),s.styles&&$v(c,s,0,h),l.moveToBookmark(o),Ug.moveStart(c,l,l.getRng()),e.nodeChanged()}Sv(t,e)}}else{r=l.getNode();for(var m=0,g=a.length;m<g;m++)if(a[m].ceFalseOverride&&c.is(r,a[m].selector))return void f(r,a[m])}},ty={applyFormat:ey},ny=ln.each,ry=function(e,t,n,r,o){var i,a,s,u,c,l,f,d;null===t.get()&&(a=e,s={},(i=t).set({}),a.on("NodeChange",function(e){var t=Ug.getParents(a.dom,e.element),n={};t=ln.grep(t,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),ny(i.get(),function(e,r){ny(t,function(o){return a.formatter.matchNode(o,r,{},e.similar)?(s[r]||(ny(e,function(e){e(!0,{node:o,format:r,parents:t})}),s[r]=e),n[r]=e,!1):!sv.matchesUnInheritedFormatSelector(a,o,r)&&void 0})}),ny(s,function(r,o){n[o]||(delete s[o],ny(r,function(n){n(!1,{node:e.element,format:o,parents:t})}))})})),c=n,l=r,f=o,d=(u=t).get(),ny(c.split(","),function(e){d[e]||(d[e]=[],d[e].similar=f),d[e].push(l)}),u.set(d)},oy={get:function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){ln.each(r,function(n,r){e.setAttrib(t,r,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ln.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t}},iy=ln.each,ay=Di.DOM,sy=function(e,t){var n,r,o,i=t&&t.schema||h({}),a=function(e){var t,n,o;return r="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=ay.create(r.name),n=t,(o=r).classes.length&&ay.addClass(n,o.classes.join(" ")),ay.setAttribs(n,o.attrs),t},s=function(e,t,n){var r,o,u,c,l,f,d,p,h=0<t.length&&t[0],m=h&&h.name;if(l=m,f="string"!=typeof(c=e)?c.nodeName.toLowerCase():c,d=i.getElementRule(f),u=!(!(p=d&&d.parentsRequired)||!p.length)&&(l&&-1!==ln.inArray(p,l)?l:p[0]))m===u?(o=t[0],t=t.slice(1)):o=u;else if(h)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=a(o)).appendChild(e),n&&(r||(r=ay.create("div")).appendChild(e),ln.each(n,function(t){var n=a(t);r.insertBefore(n,e)})),s(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=a(r),(o=ay.create("div")).appendChild(s(n,e.slice(1),r.siblings)),o):""},uy=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=ln.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==ln.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},cy=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ln.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=ln.map(e.split(/(?:~\+|~|\+)/),uy),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},ly=function(e,t){var n,r,o,i,a,s,u="";if(!1===(s=e.settings.preview_styles))return"";"string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var c=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(s=t.preview)?"":(n=t.block||t.inline||"span",(i=cy(t.selector)).length?(i[0].name||(i[0].name=n),n=t.selector,r=sy(i,e)):r=sy([n],e),o=ay.select(n,r)[0]||r.firstChild,iy(t.styles,function(e,t){(e=c(e))&&ay.setStyle(o,t,e)}),iy(t.attributes,function(e,t){(e=c(e))&&ay.setAttrib(o,t,e)}),iy(t.classes,function(e){e=c(e),ay.hasClass(o,e)||ay.addClass(o,e)}),e.fire("PreviewFormats"),ay.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),a=ay.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,iy(s.split(" "),function(t){var n=ay.getStyle(o,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=ay.getStyle(e.getBody(),t,!0),"#ffffff"===ay.toHex(n).toLowerCase())||"color"===t&&"#000000"===ay.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*a+"px"}"border"===t&&n&&(u+="padding:0 2px;"),u+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),ay.remove(r),u)},fy=function(e,t,n,r,o){var i=t.get(n);!sv.match(e,n,r,o)||"toggle"in i[0]&&!i[0].toggle?ty.applyFormat(e,n,r,o):Bv(e,n,r,o)},dy=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},py=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)i.hasOwnProperty(a)&&(r[a]=e(r[a],i[a]))}return r}},hy=py(function(e,t){return me.isObject(e)&&me.isObject(t)?hy(e,t):t}),my=py(function(e,t){return t}),gy={deepMerge:hy,merge:my},vy={register:function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,r){for(var o,i,a=e.length,s="data-mce-"+r,u=t.url_converter,c=t.url_converter_scope;a--;)void 0!==(i=(o=e[a]).attributes.map[s])?(o.attr(r,0<i.length?i:null),o.attr(s,null)):(i=o.attributes.map[r],"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):u&&(i=u.call(c,i,r,o.name)),o.attr(r,0<i.length?i:null))}),e.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)"bookmark"!==(r=e[o]).attributes.map["data-mce-type"]||n.cleanup||r.remove()}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=hi.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var r,o,i,a=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)o=(r=e[a]).firstChild?r.firstChild.value:"","script"===n?((i=r.attr("type"))&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&0<o.length&&(r.firstChild.value="// <![CDATA[\n"+s(o)+"\n// ]]>")):"xhtml"===t.element_format&&0<o.length&&(r.firstChild.value="\x3c!--\n"+s(o)+"\n--\x3e")}),e.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){Re.each(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},trimTrailingBr:function(e){var t,n,r=function(e){return e&&"br"===e.name};r(t=e.lastChild)&&r(n=t.prev)&&(t.remove(),n.remove())}},yy={process:function(e,t,n){return f=n,(l=e)&&l.hasEventListeners("PreProcess")&&!f.no_events?(o=t,i=n,c=(r=e).dom,o=o.cloneNode(!0),(a=document.implementation).createHTMLDocument&&(s=a.createHTMLDocument(""),ln.each("BODY"===o.nodeName?o.childNodes:[o],function(e){s.body.appendChild(s.importNode(e,!0))}),o="BODY"!==o.nodeName?s.body.firstChild:s.body,u=c.doc,c.doc=s),_h(r,gy.merge(i,{node:o})),u&&(c.doc=u),o):t;var r,o,i,a,s,u,c,l,f}},by=function(e,t,n){e.addNodeFilter("font",function(e){Re.each(e,function(e){var r,o,i=t.parse(e.attr("style")),a=e.attr("color"),s=e.attr("face"),u=e.attr("size");a&&(i.color=a),s&&(i["font-family"]=s),u&&(i["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(i)),r=e,o=["color","face","size"],Re.each(o,function(e){r.attr(e,null)})})})},wy=function(e,t){var n,r=m();t.convert_fonts_to_spans&&by(e,r,ln.explode(t.font_size_legacy_values)),n=r,e.addNodeFilter("strike",function(e){Re.each(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})},Cy={register:function(e,t){t.inline_styles&&wy(e,t)}},_y=/^[ \t\r\n]*$/,xy={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Ey=function(e,t,n){var r,o,i=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[i])return e[i];if(e!==t){if(r=e[a])return r;for(o=e.parent;o&&o!==t;o=o.parent)if(r=o[a])return r}},Sy=function(){function e(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r,o;if(r=new e(t,xy[t]||1),n)for(o in n)r.attr(o,n[o]);return r},e.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},e.prototype.attr=function(e,t){var n,r;if("string"!=typeof e){for(r in e)this.attr(r,e[r]);return this}if(n=this.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),this;return this}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}return n.map[e]}},e.prototype.clone=function(){var t,n,r,o,i,a=new e(this.name,this.type);if(r=this.attributes){for((i=[]).map={},t=0,n=r.length;t<n;t++)"id"!==(o=r[t]).name&&(i[i.length]={name:o.name,value:o.value},i.map[o.name]=o.value);a.attributes=i}return a.value=this.value,a.shortEnded=this.shortEnded,a},e.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},e.prototype.unwrap=function(){var e,t;for(e=this.firstChild;e;)t=e.next,this.insert(e,this,!0),e=t;this.remove()},e.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},e.prototype.append=function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},e.prototype.insert=function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},e.prototype.getAll=function(e){var t,n=[];for(t=this.firstChild;t;t=Ey(t,this))t.name===e&&n.push(t);return n},e.prototype.empty=function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=Ey(n,this))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},e.prototype.isEmpty=function(e,t,n){var r,o,i=this.firstChild;if(t=t||{},i)do{if(1===i.type){if(i.attributes.map["data-mce-bogus"])continue;if(e[i.name])return!1;for(r=i.attributes.length;r--;)if("name"===(o=i.attributes[r].name)||0===o.indexOf("data-mce-bookmark"))return!1}if(8===i.type)return!1;if(3===i.type&&!_y.test(i.value))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&_y.test(i.value))return!1;if(n&&n(i))return!1}while(i=Ey(i,this));return!0},e.prototype.walk=function(e){return Ey(this,null,e)},e}(),Oy=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new Sy("br",1)).shortEnded=!0:r.empty().append(new Sy("#text",3)).value="\xa0"},Ty=function(e){return ky(e,"#text")&&"\xa0"===e.firstChild.value},ky=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Ry=function(e,t,n,r){return r.isEmpty(t,n,function(t){return n=t,(r=e.getElementRule(n.name))&&r.paddEmpty;var n,r})},Py=function(e,t){return e&&(t[e.name]||"br"===e.name)},Ny=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,o){var i,a,s,u,c,l,f,d,p=e.length,h=ln.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(h.body=1,i=0;i<p;i++)if(s=(a=e[i]).parent,h[a.parent.name]&&a===s.lastChild){for(c=a.prev;c;){if("span"!==(l=c.name)||"bookmark"!==c.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}c=c.prev}a&&(a.remove(),Ry(n,m,g,s)&&(f=n.getElementRule(s.name))&&(f.removeEmpty?s.remove():f.paddEmpty&&Oy(t,o,h,s)))}else{for(u=a;s&&s.firstChild===u&&s.lastChild===u&&!h[(u=s).name];)s=s.parent;u===s&&!0!==t.padd_empty_with_br&&((d=new Sy("#text",3)).value="\xa0",a.replace(d))}}),e.addAttributeFilter("href",function(e){var n,r,o,i=e.length;if(!t.allow_unsafe_link_target)for(;i--;)"a"===(n=e[i]).name&&"_blank"===n.attr("target")&&n.attr("rel",(r=n.attr("rel"),o=r?ln.trim(r):"",/\b(noopener)\b/g.test(o)?o:o.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")))}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href"))for(r=o.parent,t=o.lastChild;n=t.prev,r.insert(t,o),t=n;);}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if("ul"===(n=(t=e[r]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new Sy("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,r,o,i,a,s,u,c=e.length,l=n.getValidClasses();c--;){for(r=(t=e[c]).attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],u=!1,(s=l["*"])&&s[i]&&(u=!0),s=l[t.name],!u&&s&&s[i]&&(u=!0),u&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}})},Ay=ln.makeMap,Iy=ln.each,Dy=ln.explode,My=ln.extend,Ly=function(e,t,n){-1===ln.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},By=function(e,t,n){var r=Gi(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Uo(yr.fromDom(t))?r:ln.trim(r)},Fy=function(e,t,n){var r=n.selection?gy.merge({forced_root_block:!1},n):n,o=e.parse(t,r);return vy.trimTrailingBr(o),o},jy=function(e,t,n,r,o){var i,a,s,u,c=(i=r,w(t,n).serialize(i));return a=e,u=c,!(s=o).no_events&&a?xh(a,gy.merge(s,{content:u})).content:u};(F||(F={})).isBookmarkNode=Jc;var Vy=F,Hy=Qo.isContentEditableFalse,Uy=Qo.isContentEditableTrue,zy=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b=t.dom,w=ln.each,C=t.getDoc(),_=document,x=Math.abs,E=Math.round,S=t.getBody();i={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var O=".mce-content-body";t.contentStyles.push(O+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+O+" .mce-resizehandle:hover {background: #000}"+O+" img[data-mce-selected],"+O+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+O+" .mce-clonedresizable {position: absolute;"+(ot.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+O+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var T=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},k=function(e){var n,r,o=e.target;n=e,r=t.selection.getRng(),!T(n.target)||ag(n.clientX,n.clientY,r)||e.isDefaultPrevented()||(e.preventDefault(),t.selection.select(o))},R=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},P=function(e){var n=t.settings.object_resizing;return!1!==n&&!ot.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&oo.is(yr.fromDom(e),n))},N=function(e){var i,w,C,_;i=e.screenX-s,w=e.screenY-u,m=i*a[2]+f,g=w*a[3]+d,m=m<5?5:m,g=g<5?5:g,(T(n)&&!1!==t.settings.resize_img_proportional?!cg.modifierPressed(e):cg.modifierPressed(e)||T(n)&&a[2]*a[3]!=0)&&(x(i)>x(w)?(g=E(m*p),m=E(g/p)):(m=E(g/p),g=E(m*p))),b.setStyles(R(r),{width:m,height:g}),C=0<(C=a.startPos.x+i)?C:0,_=0<(_=a.startPos.y+w)?_:0,b.setStyles(o,{left:C,top:_,display:"block"}),o.innerHTML=m+" &times; "+g,a[2]<0&&r.clientWidth<=m&&b.setStyle(r,"left",c+(f-m)),a[3]<0&&r.clientHeight<=g&&b.setStyle(r,"top",l+(d-g)),(i=S.scrollWidth-v)+(w=S.scrollHeight-y)!=0&&b.setStyles(o,{left:C-i,top:_-w}),h||(Oh(t,n,f,d),h=!0)},A=function(){h=!1;var e=function(e,r){r&&(n.style[e]||!t.schema.isValid(n.nodeName.toLowerCase(),e)?b.setStyle(R(n),e,r):b.setAttrib(R(n),e,r))};e("width",m),e("height",g),b.unbind(C,"mousemove",N),b.unbind(C,"mouseup",A),_!==C&&(b.unbind(_,"mousemove",N),b.unbind(_,"mouseup",A)),b.remove(r),b.remove(o),I(n),Th(t,n,m,g),b.setAttrib(n,"style",b.getAttrib(n,"style")),t.nodeChanged()},I=function(e){var h,x,E,O,T;D(),B(),h=b.getPos(e,S),c=h.x,l=h.y,T=e.getBoundingClientRect(),x=T.width||T.right-T.left,E=T.height||T.bottom-T.top,n!==e&&(n=e,m=g=0),O=t.fire("ObjectSelected",{target:e}),P(e)&&!O.isDefaultPrevented()?w(i,function(e,t){var i;(i=b.get("mceResizeHandle"+t))&&b.remove(i),i=b.add(S,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===ot.ie&&(i.contentEditable=!1),b.bind(i,"mousedown",function(t){var i;t.stopImmediatePropagation(),t.preventDefault(),s=(i=t).screenX,u=i.screenY,f=R(n).clientWidth,d=R(n).clientHeight,p=d/f,(a=e).startPos={x:x*e[0]+c,y:E*e[1]+l},v=S.scrollWidth,y=S.scrollHeight,r=n.cloneNode(!0),b.addClass(r,"mce-clonedresizable"),b.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,b.setStyles(r,{left:c,top:l,margin:0}),r.removeAttribute("data-mce-selected"),S.appendChild(r),b.bind(C,"mousemove",N),b.bind(C,"mouseup",A),_!==C&&(b.bind(_,"mousemove",N),b.bind(_,"mouseup",A)),o=b.add(S,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+d)}),e.elm=i,b.setStyles(i,{left:x*e[0]+c-i.offsetWidth/2,top:E*e[1]+l-i.offsetHeight/2})}):D(),n.setAttribute("data-mce-selected","1")},D=function(){var e,t;for(e in B(),n&&n.removeAttribute("data-mce-selected"),i)(t=b.get("mceResizeHandle"+e))&&(b.unbind(t),b.remove(t))},M=function(n){var r,o=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};h||t.removed||(w(b.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),r="mousedown"===n.type?n.target:e.getNode(),o(r=b.$(r).closest("table,img,figure.image,hr")[0],S)&&(F(),o(e.getStart(!0),r)&&o(e.getEnd(!0),r))?I(r):D())},L=function(e){return Hy(function(e,t){for(;t&&t!==e;){if(Uy(t)||Hy(t))return t;t=t.parentNode}return null}(t.getBody(),e))},B=function(){for(var e in i){var t=i[e];t.elm&&(b.unbind(t.elm),delete t.elm)}},F=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return t.on("init",function(){F(),ot.ie&&11<=ot.ie&&(t.on("mousedown click",function(e){var n=e.target,r=n.nodeName;h||!/^(TABLE|IMG|HR)$/.test(r)||L(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())}),t.dom.bind(S,"mscontrolselect",function(e){var n=function(e){ct.setEditorTimeout(t,function(){t.selection.select(e)})};if(L(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))}));var e=ct.throttle(function(e){t.composing||M(e)});t.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),t.on("keyup compositionend",function(t){n&&"TABLE"===n.nodeName&&e(t)}),t.on("hide blur",D),t.on("contextmenu",k)}),t.on("remove",B),{isResizable:P,showResizeRect:I,hideResizeRect:D,updateResizeRect:M,destroy:function(){n=r=null}}},qy=function(e){return Qo.isContentEditableTrue(e)||Qo.isContentEditableFalse(e)},Wy=function(e,t,n){var r,o,i,a,s,u=n;if(u.caretPositionFromPoint)(o=u.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(u.body.createTextRange){r=u.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=function(e,t,n){var r,o,i;if(r=n.elementFromPoint(e,t),o=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),0<(i=(i=ln.toArray(o.getClientRects())).sort(function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-(n=Math.abs(Math.max(n.top-t,n.bottom-t)))})).length){t=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(e){}}return null}(e,t,n)}return i=r,a=n.body,s=i&&i.parentElement?i.parentElement():null,Qo.isContentEditableFalse(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(s,a,qy))?null:i}return r},Gy=function(e,t){return Re.map(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},Ky=function(e,t){return yr.fromDom(e.dom().cloneNode(t))},$y=function(e){return Ky(e,!0)},Yy=function(e){return Ky(e,!1)},Xy=$y,Zy=function(e,t){var n=(t||document).createDocumentFragment();return Re.each(e,function(e){n.appendChild(e.dom())}),yr.fromDom(n)},Jy=Jr.immutable("element","width","rows"),Qy=Jr.immutable("element","cells"),eb=Jr.immutable("x","y"),tb=function(e,t){var n=parseInt(Lr.get(e,t),10);return isNaN(n)?1:n},nb=function(e){return Re.foldl(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},rb=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(so.eq(o[i],t))return pe.some(eb(i,r));return pe.none()},ob=function(e,t,n,r,o){for(var i=[],a=e.rows(),s=n;s<=o;s++){var u=a[s].cells(),c=t<r?u.slice(t,r+1):u.slice(r,t+1);i.push(Qy(a[s].element(),c))}return i},ib=function(e){var t=Jy(Yy(e),0,[]);return Re.each(Ns(e,"tr"),function(e,n){Re.each(Ns(e,"td,th"),function(r,o){!function(e,t,n,r,o){for(var i=tb(o,"rowspan"),a=tb(o,"colspan"),s=e.rows(),u=n;u<n+i;u++){s[u]||(s[u]=Qy(Xy(r),[]));for(var c=t;c<t+a;c++)s[u].cells()[c]=u===n&&c===t?o:Yy(o)}}(t,function(e,t,n){for(;r=t,o=n,i=void 0,((i=e.rows())[o]?i[o].cells():[])[r];)t++;var r,o,i;return t}(t,o,n),n,e,r)})}),Jy(t.element(),nb(t.rows()),t.rows())},ab=function(e){return i=t=e,n=Re.map(i.rows(),function(e){var t=Re.map(e.cells(),function(e){var t=Xy(e);return Lr.remove(t,"colspan"),Lr.remove(t,"rowspan"),t}),n=Yy(e.element());return nl(n,t),n}),r=Yy(t.element()),o=yr.fromTag("tbody"),nl(o,n),ou.append(r,o),r;var t,n,r,o,i},sb=function(e,t,n){return rb(e,t).bind(function(t){return rb(e,n).map(function(n){return r=e,i=n,a=(o=t).x(),s=o.y(),u=i.x(),c=i.y(),l=s<c?ob(r,a,s,u,c):ob(r,a,c,u,s),Jy(r.element(),nb(l),l);var r,o,i,a,s,u,c,l})})},ub=function(e,t){return Re.find(e,function(e){return"li"===Sr.name(e)&&Im(e,t)}).fold(se.constant([]),function(t){return(n=e,Re.find(n,function(e){return"ul"===Sr.name(e)||"ol"===Sr.name(e)})).map(function(e){return[yr.fromTag("li"),yr.fromTag(Sr.name(e))]}).getOr([]);var n})},cb=function(e,t){var n,r=yr.fromDom(t.commonAncestorContainer),o=nf(r,e),i=Re.filter(o,function(e){return Do(e)||Ao(e)}),a=ub(o,t),s=i.concat(a.length?a:Fo(n=r)?go.parent(n).filter(Bo).fold(se.constant([]),function(e){return[n,e]}):Bo(n)?[n]:[]);return Re.map(s,Yy)},lb=function(){return Zy([])},fb=function(e,t){return n=yr.fromDom(t.cloneContents()),r=cb(e,t),o=Re.foldl(r,function(e,t){return ou.append(t,e),t},n),0<r.length?Zy([o]):o;var n,r,o},db=function(e,t){return(n=e,r=t[0],Fl(r,"table",se.curry(so.eq,n))).bind(function(e){var n=t[0],r=t[t.length-1],o=ib(e);return sb(o,n,r).map(function(e){return Zy([ab(e)])})}).getOrThunk(lb);var n,r},pb=function(e,t){var n,r,o=Gd(t,e);return 0<o.length?db(e,o):(n=e,0<(r=t).length&&r[0].collapsed?lb():fb(n,r[0]))},hb=function(e,t){var n,r=e.selection.getRng(),o=e.dom.create("body"),i=e.selection.getSel(),a=Gy(e,Vd(i));if((t=t||{}).get=!0,t.format=t.format||"html",t.selection=!0,(t=e.fire("BeforeGetContent",t)).isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return e.selection.isCollapsed()?"":Gi(r.text||(i.toString?i.toString():""));r.cloneContents?(n=t.contextual?pb(yr.fromDom(e.getBody()),a).dom():r.cloneContents())&&o.appendChild(n):void 0!==r.item||void 0!==r.htmlText?(o.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),o.removeChild(o.firstChild)):o.innerHTML=r.toString(),t.getInner=!0;var s=e.selection.serializer.serialize(o,t);return"tree"===t.format?s:(t.content=e.selection.isCollapsed()?"":s,e.fire("GetContent",t),t.content)},mb=function(e,t,n){var r,o,i,a=e.selection.getRng(),s=e.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=t,n.no_events||!(n=e.fire("BeforeSetContent",n)).isDefaultPrevented()){if(t=n.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer===s&&a.endContainer===s?s.body.innerHTML=t:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(o=s.createDocumentFragment(),i=s.createElement("div"),o.appendChild(i),i.outerHTML=t,a.insertNode(o))),r=e.dom.get("__caret"),(a=s.createRange()).setStartBefore(r),a.setEndBefore(r),e.selection.setRng(a),e.dom.remove("__caret");try{e.selection.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=e.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t);n.no_events||e.fire("SetContent",n)}else e.fire("SetContent",n)},gb=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return pe.from(i).map(yr.fromDom).map(function(e){return r&&t.collapsed?e:go.child(e,o(e,a)).getOr(e)}).bind(function(e){return Sr.isElement(e)?pe.some(e):go.parent(e)}).map(function(e){return e.dom()}).getOr(e)},vb=function(e,t,n){return gb(e,t,!0,n,function(e,t){return Math.min(go.childNodesCount(e),t)})},yb=function(e,t,n){return gb(e,t,!1,n,function(e,t){return 0<t?t-1:t})},bb=function(e,t){for(var n=e;e&&Qo.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},wb=ln.each,Cb=function(e){return!!e.select},_b=function(e){return!(!e||!e.ownerDocument)&&so.contains(yr.fromDom(e.ownerDocument),yr.fromDom(e))},xb=function(e,t,n,r){var o,i,a,s,u,c=function(e,t){return mb(r,e,t)},l=function(e){var t=d();t.collapse(!!e),h(t)},f=function(){return t.getSelection?t.getSelection():t.document.selection},d=function(){var n,o,i,u,c=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!t)return null;if(null==(u=t.document))return null;if(void 0!==r.bookmark&&!1===Zh(r)){var l=Yp(r);if(l.isSome())return l.map(function(e){return Gy(r,[e])[0]}).getOr(u.createRange())}try{(n=f())&&(o=0<n.rangeCount?n.getRangeAt(0):n.createRange?n.createRange():u.createRange())}catch(e){}return(o=Gy(r,[o])[0])||(o=u.createRange?u.createRange():u.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(i=e.getRoot(),o.setStart(i,0),o.setEnd(i,0)),a&&s&&(0===c(o.START_TO_START,o,a)&&0===c(o.END_TO_END,o,a)?o=s:s=a=null),o},h=function(e,t){var n,o;if((i=e)&&(Cb(i)||_b(i.startContainer)&&_b(i.endContainer))){var i,u=Cb(e)?e:null;if(u){s=null;try{u.select()}catch(e){}}else{if(n=f(),e=r.fire("SetSelectionRange",{range:e,forward:t}).range,n){s=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),a=0<n.rangeCount?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||ot.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(o=e.startContainer.childNodes[e.startOffset])&&"IMG"===o.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(o,0,o,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},m=function(){var t,n,r=f();return!(r&&r.anchorNode&&r.focusNode)||((t=e.createRng()).setStart(r.anchorNode,r.anchorOffset),t.collapse(!0),(n=e.createRng()).setStart(r.focusNode,r.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},g={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:l,setCursorLocation:function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),h(o),l(!1)):(Dm(e,o,r.getBody(),!0),h(o))},getContent:function(e){return hb(r,e)},setContent:c,getBookmark:function(e,t){return o.getBookmark(e,t)},moveToBookmark:function(e){return o.moveToBookmark(e)},select:function(t,n){var r,o,i;return(r=e,o=t,i=n,pe.from(o).map(function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),i&&(Dm(r,n,e,!0),Dm(r,n,e,!1)),n})).each(h),t},isCollapsed:function(){var e=d(),t=f();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:m,setNode:function(t){return c(e.getOuterHTML(t)),t},getNode:function(){return e=r.getBody(),(t=d())?(o=t.startContainer,i=t.endContainer,a=t.startOffset,s=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(o===i&&s-a<2&&o.hasChildNodes()&&(n=o.childNodes[a]),3===o.nodeType&&3===i.nodeType&&(o=o.length===a?bb(o.nextSibling,!0):o.parentNode,i=0===s?bb(i.previousSibling,!1):i.parentNode,o&&o===i))?o:n&&3===n.nodeType?n.parentNode:n):e;var e,t,n,o,i,a,s},getSel:f,setRng:h,getRng:d,getStart:function(e){return vb(r.getBody(),d(),e)},getEnd:function(e){return yb(r.getBody(),d(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,r){var o,i,a=[];if(i=e.getRoot(),n=e.getParent(n||vb(i,t,!1),e.isBlock),r=e.getParent(r||yb(i,t,!1),e.isBlock),n&&n!==i&&a.push(n),n&&r&&n!==r)for(var s=new p(o=n,i);(o=s.next())&&o!==r;)e.isBlock(o)&&a.push(o);return r&&n!==r&&r!==i&&a.push(r),a}(e,d(),t,n)},normalize:function(){var t=d(),n=f();if(!Ud(n)&&Mm(r)){var o=bp(e,t);return o.each(function(e){h(e,m())}),o.getOr(t)}return t},selectorChanged:function(t,n){var o;return u||(u={},o={},r.on("NodeChange",function(t){var n=t.element,r=e.getParents(n,null,e.getRoot()),i={};wb(u,function(t,n){wb(r,function(a){if(e.is(a,n))return o[n]||(wb(t,function(e){e(!0,{node:a,selector:n,parents:r})}),o[n]=t),i[n]=t,!1})}),wb(o,function(e,t){i[t]||(delete o[t],wb(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),u[t]||(u[t]=[]),u[t].push(n),g},getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){return Fs(r,e,t)},placeCaretAt:function(e,t){return h(Wy(e,t,r.getDoc()))},getBoundingClientRect:function(){var e=d();return e.collapsed?Xa.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=a=s=null,i.destroy()}};return o=Vy(g),i=zy(g,r),g.bookmarkManager=o,g.controlSelection=i,g},Eb=Qo.isContentEditableFalse,Sb=_a,Ob=Gu,Tb=Wu,kb=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Rb=function(e,t,n,r){var o,i,a,s,u,c,l=e===ws.Forwards,f=l?Tb:Ob;return!r.collapsed&&(o=Sb(r),Eb(o))?gs(e,t,o,e===ws.Backwards,!0):(s=Yi(r.startContainer),f(i=qu(e,t.getBody(),r))?vs(t,i.getNode(!l)):(i=n(i))?f(i)?gs(e,t,i.getNode(!l),l,!0):f(a=n(i))&&(!(c=Du(u=i,a))&&Qo.isBr(u.getNode())||c)?gs(e,t,a.getNode(!l),l,!0):s?bs(t,i.toRange(),!0):null:s?r:null)},Pb=function(e,t,n,r){var o,i,a,s,u,c,l,f,d;if(d=Sb(r),o=qu(e,t.getBody(),r),i=n(t.getBody(),Xm(1),o),a=on.filter(i,Zm(1)),u=on.last(o.getClientRects()),(Tb(o)||Ku(o))&&(d=o.getNode()),(Ob(o)||$u(o))&&(d=o.getNode(!0)),!u)return null;if(c=u.left,(s=rg(a,c))&&Eb(s.node))return l=Math.abs(c-s.left),f=Math.abs(c-s.right),gs(e,t,s.node,l<f,!0);if(d){var p=function(e,t,n,r){var o,i,a,s,u,c,l=lc(t),f=[],d=0,p=function(e){return on.last(e.getClientRects())};1===e?(o=l.next,i=Ca,a=wa,s=Xa.after(r)):(o=l.prev,i=wa,a=Ca,s=Xa.before(r)),c=p(s);do{if(s.isVisible()&&!a(u=p(s),c)){if(0<f.length&&i(u,on.last(f))&&d++,(u=va(u)).position=s,u.line=d,n(u))return f;f.push(u)}}while(s=o(s));return f}(e,t.getBody(),Xm(1),d);if(s=rg(on.filter(p,Zm(1)),c))return bs(t,s.position.toRange(),!0);if(s=on.last(on.filter(p,Zm(0))))return bs(t,s.position.toRange(),!0)}},Nb=function(e,t,n){var r,o,i,a,s=lc(e.getBody()),u=ka.curry(kb,s.next),c=ka.curry(kb,s.prev);if(n.collapsed&&e.settings.forced_root_block){if(!(r=e.dom.getParent(n.startContainer,"PRE")))return;(1===t?u(Xa.fromRangeStart(n)):c(Xa.fromRangeStart(n)))||(a=(i=e).dom.create(i.settings.forced_root_block),(!ot.ie||11<=ot.ie)&&(a.innerHTML='<br data-mce-bogus="1">'),o=a,1===t?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse())}},Ab=function(e,t){return function(){var n,r,o,i,a,s,u,c,l,f=(r=t,i=lc((n=e).getBody()),a=ka.curry(kb,i.next),s=ka.curry(kb,i.prev),u=r?ws.Forwards:ws.Backwards,c=r?a:s,l=n.selection.getRng(),(o=Rb(u,n,c,l))?o:(o=Nb(n,u,l))||null);return!!f&&(e.selection.setRng(f),!0)}},Ib=function(e,t){return function(){var n,r,o,i,a,s,u=(i=(r=t)?1:-1,a=r?Ym:$m,s=(n=e).selection.getRng(),(o=Pb(i,n,a,s))?o:(o=Nb(n,i,s))||null);return!!u&&(e.selection.setRng(u),!0)}},Db=function(e,t){return Re.bind((n=e,Re.map(n,function(e){return gy.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:se.noop},e)})),function(e){return n=e,(r=t).keyCode===n.keyCode&&r.shiftKey===n.shiftKey&&r.altKey===n.altKey&&r.ctrlKey===n.ctrlKey&&r.metaKey===n.metaKey?[e]:[];var n,r});var n},Mb=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}},Lb=function(e,t){return Re.find(Db(e,t),function(e){return e.action()})},Bb=function(e,t){e.on("keydown",function(n){var r,o,i,a;!1===n.isDefaultPrevented()&&(r=e,o=t,i=n,a=gr.detect().os,Lb([{keyCode:cg.RIGHT,action:Ab(r,!0)},{keyCode:cg.LEFT,action:Ab(r,!1)},{keyCode:cg.UP,action:Ib(r,!1)},{keyCode:cg.DOWN,action:Ib(r,!0)},{keyCode:cg.RIGHT,action:mu(r,!0)},{keyCode:cg.LEFT,action:mu(r,!1)},{keyCode:cg.UP,action:gu(r,!1)},{keyCode:cg.DOWN,action:gu(r,!0)},{keyCode:cg.RIGHT,action:wd.move(r,o,!0)},{keyCode:cg.LEFT,action:wd.move(r,o,!1)},{keyCode:cg.RIGHT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:wd.moveNextWord(r,o)},{keyCode:cg.LEFT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:wd.movePrevWord(r,o)}],i).each(function(e){i.preventDefault()}))})},Fb=function(e){return 1===go.children(e).length},jb=function(e,t,n,r){var o,i,a,s,u=se.curry(Cv,t),c=Re.map(Re.filter(r,u),function(e){return e.dom()});if(0===c.length)Rf(t,e,n);else{var l=(o=n.dom(),i=c,a=hv(!1),s=bv(i,a.dom()),ou.before(yr.fromDom(o),a),ol.remove(yr.fromDom(o)),Xa(s,0));t.selection.setRng(l.toRange())}},Vb=function(e,t){var n,r=yr.fromDom(e.getBody()),o=yr.fromDom(e.selection.getStart()),i=Re.filter((n=nf(o,r),Re.findIndex(n,Io).fold(se.constant(n),function(e){return n.slice(0,e)})),Fb);return Re.last(i).map(function(n){var r=Xa.fromRangeStart(e.selection.getRng());return!!Ll(t,r,n.dom())&&(jb(t,e,n,i),!0)}).getOr(!1)},Hb=function(e,t){return!!e.selection.isCollapsed()&&Vb(e,t)},Ub=function(e,t){e.on("keydown",function(n){var r,o,i;!1===n.isDefaultPrevented()&&(r=e,o=t,i=n,Lb([{keyCode:cg.BACKSPACE,action:Mb(Af,r,!1)},{keyCode:cg.DELETE,action:Mb(Af,r,!0)},{keyCode:cg.BACKSPACE,action:Mb(Ed,r,o,!1)},{keyCode:cg.DELETE,action:Mb(Ed,r,o,!0)},{keyCode:cg.BACKSPACE,action:Mb(hf,r,!1)},{keyCode:cg.DELETE,action:Mb(hf,r,!0)},{keyCode:cg.BACKSPACE,action:Mb(lf,r,!1)},{keyCode:cg.DELETE,action:Mb(lf,r,!0)},{keyCode:cg.BACKSPACE,action:Mb(rp,r,!1)},{keyCode:cg.DELETE,action:Mb(rp,r,!0)},{keyCode:cg.BACKSPACE,action:Mb(Hb,r,!1)},{keyCode:cg.DELETE,action:Mb(Hb,r,!0)}],i).each(function(e){i.preventDefault()}))}),e.on("keyup",function(t){var n,r;!1===t.isDefaultPrevented()&&(n=e,r=t,Lb([{keyCode:cg.BACKSPACE,action:Mb(If,n)},{keyCode:cg.DELETE,action:Mb(If,n)}],r))})},zb=function(e){return pe.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},qb=function(e,t){var n,r,o,i=t,a=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var u=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(a.doc.createTextNode("\xa0"),t.firstChild)}if(o=a.createRng(),t.normalize(),t.hasChildNodes()){for(n=new p(t,t);r=n.current();){if(Qo.isText(r)){o.setStart(r,0),o.setEnd(r,0);break}if(s[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}i=r,r=n.next()}r||(o.setStart(i,0),o.setEnd(i,0))}else Qo.isBr(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),a.remove(void 0),e.selection.scrollIntoView(t)}},Wb=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},Gb=zb,Kb=function(e){return zb(e).fold(se.constant(""),function(e){return e.nodeName.toUpperCase()})},$b=function(e){return zb(e).filter(function(e){return Fo(yr.fromDom(e))}).isSome()},Yb=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},Xb=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},Zb=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},Jb=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!Qo.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},Qb=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var s;Xb(s=n)&&Xb(s.parentNode)&&(o="LI");var u,c,l=o?t(o):i.create("BR");if(Jb(n,r,!0)&&Jb(n,r,!1))Yb(n,"LI")?i.insertAfter(l,Zb(n)):i.replace(l,n);else if(Jb(n,r,!0))Yb(n,"LI")?(i.insertAfter(l,Zb(n)),l.appendChild(i.doc.createTextNode(" ")),l.appendChild(n)):n.parentNode.insertBefore(l,n);else if(Jb(n,r,!1))i.insertAfter(l,Zb(n));else{n=Zb(n);var f=a.cloneRange();f.setStartAfter(r),f.setEndAfter(n);var d=f.extractContents();"LI"===o&&(c="LI",(u=d).firstChild&&u.firstChild.nodeName===c)?(l=d.firstChild,i.insertAfter(d,n)):(i.insertAfter(d,n),i.insertAfter(l,n))}i.remove(r),qb(e,l)}},ew=function(e){e.innerHTML='<br data-mce-bogus="1">'},tw=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},nw=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},rw=function(e,t,n){return!1===Qo.isText(t)?n:e?1===n&&t.data.charAt(n-1)===Wi?0:n:n===t.data.length-1&&t.data.charAt(n)===Wi?t.data.length:n},ow=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},iw=function(e,t){var n=$s(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,Ys(e))},aw=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,h,m,g,v,y,b,w,C=e.dom,_=e.schema,x=_.getNonEmptyElements(),E=e.selection.getRng(),S=function(t){var n,i,s,u=o,c=_.getTextInlineElements();if(t||"TABLE"===f||"HR"===f?(n=C.create(t||h),iw(e,n)):n=a.cloneNode(!1),s=n,!1===Js(e))C.setAttrib(n,"style",null),C.setAttrib(n,"class",null);else do{if(c[u.nodeName]){if(Hc(u))continue;i=u.cloneNode(!1),C.setAttrib(i,"id",""),n.hasChildNodes()?i.appendChild(n.firstChild):s=i,n.appendChild(i)}}while((u=u.parentNode)&&u!==r);return ew(s),n},O=function(e){var t,n,r,s;if(s=rw(e,o,i),Qo.isText(o)&&(e?0<s:s<o.nodeValue.length))return!1;if(o.parentNode===a&&m&&!e)return!0;if(e&&Qo.isElement(o)&&o===a.firstChild)return!0;if(tw(o,"TABLE")||tw(o,"HR"))return m&&!e||!m&&e;for(t=new p(o,a),Qo.isText(o)&&(e&&0===s?t.prev():e||s!==o.nodeValue.length||t.next());n=t.current();){if(Qo.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),x[r]&&"br"!==r))return!1}else if(Qo.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},T=function(){u=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?S(h):S(),Qs(e)&&nw(C,l)&&C.isEmpty(a)?u=C.split(l,a):C.insertAfter(u,a),qb(e,u)};bp(C,E).each(function(e){E.setStart(e.startContainer,e.startOffset),E.setEnd(e.endContainer,e.endOffset)}),o=E.startContainer,i=E.startOffset,h=$s(e),s=t.shiftKey,Qo.isElement(o)&&o.hasChildNodes()&&(m=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,i=m&&Qo.isText(o)?o.nodeValue.length:0),(r=ow(C,o))&&((h&&!s||!h&&s)&&(o=function(e,t,n,r,o){var i,a,s,u,c,l,f,d=t||"P",p=e.dom,h=ow(p,r);if(!(a=p.getParent(r,p.isBlock))||!nw(p,a)){if(l=(a=a||h)===e.getBody()||(f=a)&&/^(TD|TH|CAPTION)$/.test(f.nodeName)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=p.create(d),iw(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==a;)u=u.parentNode;for(;u&&!p.isBlock(u);)u=(s=u).previousSibling;if(s&&e.schema.isValidChild(l,d.toLowerCase())){for(i=p.create(d),iw(e,i),s.parentNode.insertBefore(i,s),u=s;u&&!p.isBlock(u);)c=u.nextSibling,i.appendChild(u),u=c;n.setStart(r,o),n.setEnd(r,o)}}return r}(e,h,E,o,i)),a=C.getParent(o,C.isBlock),l=a?C.getParent(a.parentNode,C.isBlock):null,f=a?a.nodeName.toUpperCase():"","LI"!==(d=l?l.nodeName.toUpperCase():"")||t.ctrlKey||(l=(a=l).parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&C.isEmpty(a)?Qb(e,S,l,a,h):h&&a===e.getBody()||(h=h||"P",Yi(a)?(u=oa(a),C.isEmpty(a)&&ew(a),qb(e,u)):O()?T():O(!0)?(u=a.parentNode.insertBefore(S(),a),qb(e,tw(a,"HR")?u:a)):((n=(b=E,w=b.cloneRange(),w.setStart(b.startContainer,rw(!0,b.startContainer,b.startOffset)),w.setEnd(b.endContainer,rw(!1,b.endContainer,b.endOffset)),w).cloneRange()).setEndAfter(a),function(e){for(;Qo.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(c=n.extractContents()),u=c.firstChild,C.insertAfter(c,a),function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;Qo.isElement(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):(a=o)&&"A"===a.nodeName&&0===ln.trim(Gi(a.innerText||a.textContent)).length&&e.remove(o);var a}}(C,x,u),g=C,(v=a).normalize(),(y=v.lastChild)&&!/^(left|right)$/gi.test(g.getStyle(y,"float",!0))||g.add(v,"br"),C.isEmpty(a)&&ew(a),u.normalize(),C.isEmpty(u)?(C.remove(u),T()):qb(e,u)),C.setAttrib(u,"id",""),e.fire("NewBlock",{newBlock:u})))},sw=function(e,t){return Gb(e).filter(function(e){return 0<t.length&&oo.is(yr.fromDom(e),t)}).isSome()},uw=function(e){return sw(e,Xs(e))},cw=function(e){return sw(e,Zs(e))},lw=mf([{br:[]},{block:[]},{none:[]}]),fw=function(e,t){return cw(e)},dw=function(e){return function(t,n){return""===$s(t)===e}},pw=function(e){return function(t,n){return $b(t)===e}},hw=function(e,t){return function(n,r){return Kb(n)===e.toUpperCase()===t}},mw=function(e){return hw("pre",e)},gw=function(e){return function(t,n){return Ks(t)===e}},vw=function(e,t){return uw(e)},yw=function(e,t){return t},bw=function(e){var t=$s(e),n=Wb(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},ww=function(e,t){return function(n,r){return Re.foldl(e,function(e,t){return e&&t(n,r)},!0)?pe.some(t):pe.none()}},Cw=function(e,t){return qf([ww([fw],lw.none()),ww([hw("summary",!0)],lw.br()),ww([mw(!0),gw(!1),yw],lw.br()),ww([mw(!0),gw(!1)],lw.block()),ww([mw(!0),gw(!0),yw],lw.block()),ww([mw(!0),gw(!0)],lw.br()),ww([pw(!0),yw],lw.br()),ww([pw(!0)],lw.block()),ww([dw(!0),yw,bw],lw.block()),ww([dw(!0)],lw.br()),ww([vw],lw.br()),ww([dw(!1),yw],lw.br()),ww([bw],lw.block())],[e,t.shiftKey]).getOr(lw.none())},_w=function(e,t){Cw(e,t).fold(function(){Rp(e,t)},function(){aw(e,t)},se.noop)},xw=function(e){e.on("keydown",function(t){var n,r,o;t.keyCode===cg.ENTER&&(n=e,(r=t).isDefaultPrevented()||(r.preventDefault(),(o=n.undoManager).typing&&(o.typing=!1,o.add()),n.undoManager.transact(function(){!1===n.selection.isCollapsed()&&n.execCommand("Delete"),_w(n,r)})))})},Ew=function(e,t,n){return s=t,!(!Sw(n)||!Qo.isText(s.container())||(r=e,i=(o=t).container(),a=o.offset(),i.insertData(a,"\xa0"),r.selection.setCursorLocation(i,a+1),0));var r,o,i,a,s},Sw=function(e){return e.fold(se.constant(!1),se.constant(!0),se.constant(!0),se.constant(!1))},Ow=function(e){return!!e.selection.isCollapsed()&&(t=e,n=se.curry(Il.isInlineTarget,t),r=Xa.fromRangeStart(t.selection.getRng()),ud(n,t.getBody(),r).map(se.curry(Ew,t,r)).getOr(!1));var t,n,r},Tw=function(e){e.on("keydown",function(t){var n,r;!1===t.isDefaultPrevented()&&(n=e,r=t,Lb([{keyCode:cg.SPACEBAR,action:Mb(Ow,n)}],r).each(function(e){r.preventDefault()}))})},kw=function(e,t){var n;t.hasAttribute("data-mce-caret")&&(oa(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))},Rw=function(e,t){var n,r=(n=e,jl(yr.fromDom(n.getBody()),"*[data-mce-caret]").fold(se.constant(null),function(e){return e.dom()}));if(r)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void kw(e,r)):void(Ji(r)&&(kw(e,r),e.undoManager.add()))},Pw=function(e){e.on("keyup compositionstart",se.curry(Rw,e))},Nw=function(e){var t=wd.setupSelectedState(e);Pw(e),Bb(e,t),Ub(e,t),xw(e),Tw(e)},Aw=function(e){return Qo.isElement(e)&&Lo(yr.fromDom(e))},Iw=function(e){e.on("click",function(t){3===t.detail&&function(e){var t=e.selection.getRng(),n=y.fromRangeStart(t),r=y.fromRangeEnd(t);if(y.isElementPosition(n)){var o=n.container();Aw(o)&&ps.firstPositionIn(o).each(function(e){return t.setStart(e.container(),e.offset())})}y.isElementPosition(r)&&(o=n.container(),Aw(o)&&ps.lastPositionIn(o).each(function(e){return t.setEnd(e.container(),e.offset())})),e.selection.setRng(dl(t))}(e)})},Dw=function(e){var t,n;(t=e).on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}),(n=e).parser.addNodeFilter("details",function(e){Re.each(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),n.serializer.addNodeFilter("details",function(e){Re.each(e,function(e){var t=e.attr("data-mce-open");e.attr("open",me.isString(t)?t:null),e.attr("data-mce-open",null)})})},Mw=Di.DOM,Lw=function(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&ct.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()},100)},Bw=function(e,t){var n,r,o,i,a,s,u,c,l,f=e.settings,d=e.getElement(),p=e.getDoc();f.inline||(e.getElement().style.visibility=e.orgVisibility),t||f.content_editable||(p.open(),p.write(e.iframeHTML),p.close()),f.content_editable&&(e.on("remove",function(){var e=this.getBody();Mw.removeClass(e,"mce-content-body"),Mw.removeClass(e,"mce-edit-focus"),Mw.setAttrib(e,"contentEditable",null)}),Mw.addClass(d,"mce-content-body"),e.contentDocument=p=f.content_document||document,e.contentWindow=f.content_window||window,e.bodyElement=d,f.content_document=f.content_window=null,f.root_name=d.nodeName.toLowerCase()),(n=e.getBody()).disabled=!0,e.readonly=f.readonly,e.readonly||(e.inline&&"static"===Mw.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=e.getParam("content_editable_state",!0)),n.disabled=!1,e.editorUpload=N(e),e.schema=h(f),e.dom=Di(p,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:f.force_hex_style_colors,class_filter:f.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:f.content_editable,schema:e.schema,onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=((i=L((o=e).settings,o.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,i,a=e.length,s=o.dom;a--;)if(r=(n=e[a]).attr(t),i="data-mce-"+t,!n.attributes.map[i]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===t?((r=s.serializeStyle(s.parseStyle(r),n.name)).length||(r=null),n.attr(i,r),n.attr(t,r)):"tabindex"===t?(n.attr(i,r),n.attr(t,null)):n.attr(i,o.convertURL(r,t,n.name))}}),i.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)0!==(n=(t=e[r]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),i.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),i.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=o.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(r)&&0===t.getAll("br").length&&(t.append(new Sy("br",1)).shortEnded=!0)}),i),e.serializer=B(f,e),e.selection=xb(e.dom,e.getWin(),e.serializer,e),e.formatter=M(e),e.undoManager=D(e),e._nodeChangeDispatcher=new A(e),e._selectionOverrides=mg(e),Dw(e),Iw(e),Nw(e),Pm(e),e.fire("PreInit"),f.browser_spellcheck||f.gecko_spellcheck||(p.body.spellcheck=!1,Mw.setAttrib(n,"spellcheck","false")),e.quirks=j(e),e.fire("PostRender"),f.directionality&&(n.dir=f.directionality),f.nowrap&&(n.style.whiteSpace="nowrap"),f.protect&&e.on("BeforeSetContent",function(e){ln.each(f.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),0<e.contentStyles.length&&(r="",ln.each(e.contentStyles,function(e){r+=e+"\r\n"}),e.dom.addStyle(r)),(a=e,a.inline?Mw.styleSheetLoader:a.dom.styleSheetLoader).loadAll(e.contentCSS,function(t){Lw(e)},function(t){Lw(e)}),f.content_style&&(s=e,u=f.content_style,c=yr.fromDom(s.getDoc().head),l=yr.fromTag("style"),Lr.set(l,"type","text/css"),ou.append(l,yr.fromText(u)),ou.append(c,l))},Fw=Di.DOM,jw=function(e,t){var n,r,o,i,a,s,u,c=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),l=(n=e.id,r=c,o=t.height,i=Hs(e),u=yr.fromTag("iframe"),Lr.setAll(u,i),Lr.setAll(u,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),qr(u,{width:"100%",height:(a=o,(s="number"==typeof a?a+"px":a)||""),display:"block"}),u).dom();l.onload=function(){l.onload=null,e.fire("load")};var f,d,p,h,m=function(e,t){if(document.domain!==window.location.hostname&&ot.ie&&ot.ie<12){var n=Om.uuid("mce");e[n]=function(){Bw(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return Fw.setAttrib(t,"src",r),!0}return!1}(e,l);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=l,e.iframeHTML=(h=Us(f=e)+"<html><head>",zs(f)!==f.documentBaseUrl&&(h+='<base href="'+f.documentBaseURI.getURI()+'" />'),h+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',d=qs(f),p=Ws(f),Gs(f)&&(h+='<meta http-equiv="Content-Security-Policy" content="'+Gs(f)+'" />'),h+='</head><body id="'+d+'" class="mce-content-body '+p+'" data-id="'+f.id+'"><br></body></html>'),Fw.add(t.iframeContainer,l),m},Vw=function(e,t){var n=jw(e,t);t.editorContainer&&(Fw.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Fw.isHidden(t.editorContainer)),e.getElement().style.display="none",Fw.setAttrib(e.id,"aria-hidden","true"),n||Bw(e)},Hw=Di.DOM,Uw=function(e,t,n){var r,o,i=hm.get(n);if(r=hm.urls[n]||e.documentBaseUrl.replace(/\/$/,""),n=ln.trim(n),i&&-1===ln.inArray(t,n)){if(ln.each(hm.dependencies(n),function(n){Uw(e,t,n)}),e.plugins[n])return;o=new i(e,r,e.$),(e.plugins[n]=o).init&&(o.init(e,r),t.push(n))}},zw=function(e){return e.replace(/^\-/,"")},qw=function(e){return{editorContainer:e,iframeContainer:e}},Ww=function(e){var t,n,r=e.getElement();return e.inline?qw(null):(t=r,n=Hw.create("div"),Hw.insertAfter(n,t),qw(n))},Gw=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=e.settings,p=e.getElement();return e.orgDisplay=p.style.display,me.isString(d.theme)?(l=(o=e).settings,f=o.getElement(),i=l.width||Hw.getStyle(f,"width")||"100%",a=l.height||Hw.getStyle(f,"height")||f.offsetHeight,s=l.min_height||100,(u=/^[0-9\.]+(|px)$/i).test(""+i)&&(i=Math.max(parseInt(i,10),100)),u.test(""+a)&&(a=Math.max(parseInt(a,10),s)),c=o.theme.renderUI({targetNode:f,width:i,height:a,deltaWidth:l.delta_width,deltaHeight:l.delta_height}),l.content_editable||(a=(c.iframeHeight||a)+("number"==typeof a?c.deltaHeight||0:""))<s&&(a=s),c.height=a,c):me.isFunction(d.theme)?(r=(t=e).getElement(),(n=t.settings.theme(t,r)).editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:r.offsetHeight,n):Ww(e)},Kw=function(e){var t,n,r,o,i,a,s=e.settings,u=e.getElement();return e.rtl=s.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(s.language),s.aria_label=s.aria_label||Hw.getAttrib(u,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),o=(n=e).settings.theme,me.isString(o)?(n.settings.theme=zw(o),r=mm.get(o),n.theme=new r(n,mm.urls[o]),n.theme.init&&n.theme.init(n,mm.urls[o]||n.documentBaseUrl.replace(/\/$/,""),n.$)):n.theme={},i=e,a=[],ln.each(i.settings.plugins.split(/[ ,]/),function(e){Uw(i,a,zw(e))}),t=Gw(e),e.editorContainer=t.editorContainer?t.editorContainer:null,s.content_css&&ln.each(ln.explode(s.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))}),s.content_editable?Bw(e):Vw(e,t)},$w=Di.DOM,Yw=function(e){return"-"===e.charAt(0)},Xw=function(e,t){var n=ji.ScriptLoader;!function(e,t,n,r){var o=t.settings,i=o.theme;if(me.isString(i)){if(!Yw(i)&&!mm.urls.hasOwnProperty(i)){var a=o.theme_url;a?mm.load(i,t.documentBaseURI.toAbsolute(a)):mm.load(i,"themes/"+i+"/theme"+n+".js")}e.loadQueue(function(){mm.waitFor(i,r)})}else r()}(n,e,t,function(){var r,o,i,a,s;r=n,(i=(o=e).settings).language&&"en"!==i.language&&!i.language_url&&(i.language_url=o.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&!o.editorManager.i18n.data[i.language]&&r.add(i.language_url),a=e.settings,s=t,ln.isArray(a.plugins)&&(a.plugins=a.plugins.join(" ")),ln.each(a.external_plugins,function(e,t){hm.load(t,e),a.plugins+=" "+t}),ln.each(a.plugins.split(/[ ,]/),function(e){if((e=ln.trim(e))&&!hm.urls[e])if(Yw(e)){e=e.substr(1,e.length);var t=hm.dependencies(e);ln.each(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+s+".js"};e=hm.createUrl(t,e),hm.load(e.resource,e)})}else hm.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+s+".js"})}),n.loadQueue(function(){e.removed||Kw(e)},e,function(t){lm(e,t[0]),e.removed||Kw(e)})})},Zw=function(e){var t=e.settings,n=e.id,r=function(){$w.unbind(window,"ready",r),e.render()};if(yt.Event.domLoaded){if(e.getElement()&&ot.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var o=e.getElement().form||$w.getParent(n,"form");o&&(e.formElement=o,t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&($w.insertAfter($w.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},$w.bind(o,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!t.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),o._mceOldSubmit(o)})),e.windowManager=S(e),e.notificationManager=E(e),"xml"===t.encoding&&e.on("GetContent",function(e){e.save&&(e.content=$w.encode(e.content))}),t.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Xw(e,e.suffix)}}else $w.bind(window,"ready",r)},Jw=function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r},Qw=ln.each,eC=ln.trim,tC="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),nC={ftp:21,http:80,https:443,mailto:25},rC=function(e,t){var n,r,o=this;if(e=eC(e),n=(t=o.settings=t||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))o.source=e;else{var i=0===e.indexOf("//");0!==e.indexOf("/")||i||(e=(n&&n.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(r=t.base_uri?t.base_uri.path:new rC(document.location.href).directory,""==t.base_uri.protocol?e="//mce_host"+o.toAbsPath(r,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(n&&n.protocol||"http")+"://mce_host"+o.toAbsPath(r,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),Qw(tC,function(t,n){var r=e[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),o[t]=r}),n&&(o.protocol||(o.protocol=n.protocol),o.userInfo||(o.userInfo=n.userInfo),o.port||"mce_host"!==o.host||(o.port=n.port),o.host&&"mce_host"!==o.host||(o.host=n.host),o.source=""),i&&(o.protocol="")}};rC.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t;if("./"===e)return e;if("mce_host"!==(e=new rC(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),r=e.getURI();return n===r||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===r?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new rC(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=nC[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,o,i=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(r=0,o=e.length;r<o;r++)if(r>=n.length||e[r]!==n[r]){i=r+1;break}if(e.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=e.length||e[r]!==n[r]){i=r+1;break}if(1===i)return t;for(r=0,o=e.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=n.length;r<o;r++)a+=r!==i-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var n,r,o,i=0,a=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),Qw(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<i?i--:a.push(t[n]):i++);return 0!==(o=(n=e.length-i)<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},rC.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},rC.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var oC=function(e,t,n){var r,o,i,a,s;if(t.format=t.format?t.format:"html",t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)r=ln.trim(Cg.trimExternal(e.serializer,n.innerHTML));else if("text"===t.format)r=Gi(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);i=(o=e).serializer.serialize(n,t),a=$s(o),s=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+a+">[\r\n]*|<br \\/>[\r\n]*)$"),r=i.replace(s,"")}return"text"===t.format||Uo(yr.fromDom(n))?t.content=r:t.content=ln.trim(r),t.no_events||e.fire("GetContent",t),t.content},iC=function(e,t){t(e),e.firstChild&&iC(e.firstChild,t),e.next&&iC(e.next,t)},aC=function(e,t,n){var r=function(e,t,n){var r={},o={},i=[];for(var a in n.firstChild&&iC(n.firstChild,function(n){Re.each(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),Re.each(t,function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})})}),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var s in o)o.hasOwnProperty(s)&&i.push(o[s]);return i}(e,t,n);Re.each(r,function(e){Re.each(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},sC=function(e){return e instanceof Sy},uC=function(e,t){var n;e.dom.setHTML(e.getBody(),t),Zh(n=e)&&ps.firstPositionIn(n.getBody()).each(function(e){var t=e.getNode(),r=Qo.isTable(t)?ps.firstPositionIn(t).getOr(e):e;n.selection.setRng(r.toRange())})},cC=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=sC(t)?"":t,sC(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),pe.from(e.getBody()).fold(se.constant(t),function(r){return sC(t)?function(e,t,n,r){aC(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=w({validate:e.validate},e.schema).serialize(n);return r.content=Uo(yr.fromDom(t))?o:ln.trim(o),uC(e,r.content),r.no_events||e.fire("SetContent",r),n}(e,r,t,n):(o=e,i=r,s=n,0===(a=t).length||/^\s+$/.test(a)?(c='<br data-mce-bogus="1">',"TABLE"===i.nodeName?a="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(i.nodeName)&&(a="<li>"+c+"</li>"),(u=$s(o))&&o.schema.isValidChild(i.nodeName.toLowerCase(),u.toLowerCase())?(a=c,a=o.dom.createHTML(u,o.settings.forced_root_block_attrs,a)):a||(a='<br data-mce-bogus="1">'),uC(o,a),o.fire("SetContent",s)):("raw"!==s.format&&(a=w({validate:o.validate},o.schema).serialize(o.parser.parse(a,{isRootContent:!0,insert:!0}))),s.content=Uo(yr.fromDom(i))?a:ln.trim(a),uC(o,s.content),s.no_events||o.fire("SetContent",s)),s.content);var o,i,a,s,u,c})},lC=Di.DOM,fC=function(e){return pe.from(e).each(function(e){return e.destroy()})},dC=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save(),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&lC.remove(o.nextSibling),!e.inline&&r&&(i=e,lC.setStyle(i.id,"display",i.orgDisplay)),Eh(e),e.editorManager.remove(e),lC.remove(e.getContainer()),fC(t),fC(n),e.destroy()}var i},pC=function(e,t){var n,r,o,i=e.selection,a=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),fC(i),fC(a)),(r=(n=e).formElement)&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),lC.unbind(r,"submit reset",n.formEventDelegate)),(o=e).contentAreaContainer=o.formElement=o.container=o.editorContainer=null,o.bodyElement=o.contentDocument=o.contentWindow=null,o.iframeElement=o.targetElm=null,o.selection&&(o.selection=o.selection.win=o.selection.dom=o.selection.dom.doc=null),e.destroyed=!0):e.remove())},hC=Di.DOM,mC=ln.extend,gC=ln.each,vC=ln.resolve,yC=ot.ie,bC=function(e,t,n){var r,o,i,a,s,u,c,l=this,f=l.documentBaseUrl=n.documentBaseURL,d=n.baseURI;r=l,o=e,i=f,a=n.defaultSettings,s=t,c={id:o,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:i,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:(u=r).convertURL,url_converter_scope:u,ie7_compat:!0},t=Tl(Cl,c,a,s),l.settings=t,v.language=t.language||"en",v.languageLoad=t.language_load,v.baseURL=n.baseURL,l.id=e,l.setDirty(!1),l.plugins={},l.documentBaseURI=new rC(t.document_base_url,{base_uri:d}),l.baseURI=d,l.contentCSS=[],l.contentStyles=[],l.shortcuts=new x(l),l.loadedCSS={},l.editorCommands=new _(l),l.suffix=n.suffix,l.editorManager=n,l.inline=t.inline,l.buttons={},l.menuItems={},t.cache_suffix&&(ot.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(ot.overrideViewPort=!1),n.fire("SetupEditor",{editor:l}),l.execCallback("setup",l),l.$=Rn.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})};mC(bC.prototype={render:function(){Zw(this)},focus:function(e){Xh(this,e)},hasFocus:function(){return Zh(this)},execCallback:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this.settings[e];if(o)return this.callbackLookup&&(r=this.callbackLookup[e])&&(o=r.func,r=r.scope),"string"==typeof o&&(r=(r=o.replace(/\.\w+$/,""))?vC(r):0,o=vC(o),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:o,scope:r}),o.apply(r||this,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&ln.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return Pl(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&void 0===t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),n.buttons=n.buttons,t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return Jw(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems,n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:Om.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(hC.show(this.getContainer()),hC.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(yC&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(hC.hide(e.getContainer()),hC.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=t:(r.inline||(o.innerHTML=t),(n=hC.getParent(r.id,"form"))&&gC(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},setContent:function(e,t){return cC(this,e,t)},getContent:function(e){return t=this,void 0===(n=e)&&(n={}),pe.from(t.getBody()).fold(se.constant("tree"===n.format?new Sy("body",11):""),function(e){return oC(t,n,e)});var t,n},insertContent:function(e,t){t&&(e=mC({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){var t,n;(n=e)!==Ph(t=this)&&(t.initialized?Rh(t,"readonly"===n):t.on("init",function(){Rh(t,"readonly"===n)}),Sh(t,n))},getContainer:function(){return this.container||(this.container=hC.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=hC.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),gC(o.select("table,a",e),function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",void((i=o.getAttrib(e,"border"))&&"0"!==i||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href")||(i=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){dC(this)},destroy:function(e){pC(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},Lh);var wC,CC,_C,xC={isEditorUIElement:function(e){return-1!==e.className.toString().indexOf("mce-")}},EC=function(e,t){var n,r;gr.detect().browser.isIE()?(r=e).on("focusout",function(){Kp(r)}):(n=t,e.on("mouseup touchend",function(e){n.throttle()})),e.on("keyup nodechange",function(t){var n;"nodechange"===(n=t).type&&n.selectionChange||Kp(e)})},SC=function(e){var t,n,r,o=sg(function(){Kp(e)},0);e.inline&&(t=e,n=o,r=function(){n.throttle()},Di.DOM.bind(document,"mouseup",r),t.on("remove",function(){Di.DOM.unbind(document,"mouseup",r)})),e.on("init",function(){EC(e,o)}),e.on("remove",function(){o.cancel()})},OC=Di.DOM,TC=function(e){return xC.isEditorUIElement(e)},kC=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==OC.getParent(t,function(t){return TC(t)||!!n&&e.dom.is(t,n)})},RC=function(e,t){var n=t.editor;SC(n),n.on("focusin",function(){var t=e.focusedEditor;t!==this&&(t&&t.fire("blur",{focusedEditor:this}),e.setActive(this),(e.focusedEditor=this).fire("focus",{blurredEditor:t}),this.focus(!0))}),n.on("focusout",function(){var t=this;ct.setEditorTimeout(t,function(){var n=e.focusedEditor;kC(t,function(){try{return document.activeElement}catch(e){return document.body}}())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),wC||(wC=function(t){var n,r=e.activeEditor;n=t.target,r&&n.ownerDocument===document&&(n===document.body||kC(r,n)||e.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},OC.bind(document,"focusin",wC))},PC=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(OC.unbind(document,"focusin",wC),wC=null)},NC=function(e){e.on("AddEditor",se.curry(RC,e)),e.on("RemoveEditor",se.curry(PC,e))},AC={},IC="en",DC={setCode:function(e){e&&(IC=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return IC},rtl:!1,add:function(e,t){var n=AC[e];for(var r in n||(AC[e]=n={}),t)n[r]=t[r];this.setCode(e)},translate:function(e){var t=AC[IC]||{},n=function(e){return ln.is(e,"function")?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||ln.is(e,"undefined")},o=function(e){return e=n(e),ln.hasOwn(t,e)?n(t[e]):e};if(r(e))return"";if(ln.is(e,"object")&&ln.hasOwn(e,"raw"))return n(e.raw);if(ln.is(e,"array")){var i=e.slice(1);e=o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return ln.hasOwn(i,t)?n(i[t]):e})}return o(e).replace(/{context:\w+}$/,"")},data:AC},MC=Di.DOM,LC=ln.explode,BC=ln.each,FC=ln.extend,jC=0,VC=!1,HC=[],UC=[],zC=function(e){BC(_C.get(),function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)})},qC=function(e){e!==VC&&(e?Rn(window).on("resize scroll",zC):Rn(window).off("resize scroll",zC),VC=e)},WC=function(e){var t=UC;delete HC[e.id];for(var n=0;n<HC.length;n++)if(HC[n]===e){HC.splice(n,1);break}return UC=Re.filter(UC,function(t){return e!==t}),_C.activeEditor===e&&(_C.activeEditor=0<UC.length?UC[0]:null),_C.focusedEditor===e&&(_C.focusedEditor=null),t.length!==UC.length};FC(_C={defaultSettings:{},$:Rn,majorVersion:"4",minorVersion:"7.13",releaseDate:"2018-05-16",editors:HC,i18n:DC,activeEditor:null,settings:{},setup:function(){var e,t,n,r,o="";if(t=rC.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,o=n.suffix;else{for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var s=(r=i[a].src).substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!==s.indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!==(r=document.currentScript.src).indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/")))}this.baseURL=new rC(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new rC(this.baseURL),this.suffix=o,NC(this)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new rC(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new rC(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n);var r=(this.defaultSettings=e).plugin_base_urls;for(var o in r)v.PluginManager.urls[o]=r[o]},init:function(e){var t,n,r=this;n=ln.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var o=function(e){var t=e.id;return t||(t=(t=e.name)&&!MC.get(t)?e.name:MC.uniqueId(),e.setAttribute("id",t)),t},i=function(e,t){return t.constructor===RegExp?t.test(e.className):MC.hasClass(e,t)},a=function(e){t=e},s=function(){var t,u=0,c=[],l=function(e,n,o){var i=new bC(e,n,r);c.push(i),i.on("init",function(){++u===t.length&&a(c)}),i.targetElm=i.targetElm||o,i.render()};MC.unbind(window,"ready",s),function(t){var n=e[t];n&&n.apply(r,Array.prototype.slice.call(arguments,2))}("onpageload"),t=Rn.unique(function(e){var t,n=[];if(ot.ie&&ot.ie<11)return pm("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return BC(e.types,function(e){n=n.concat(MC.select(e.selector))}),n;if(e.selector)return MC.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":0<(t=e.elements||"").length&&BC(LC(t),function(e){var t;(t=MC.get(e))?n.push(t):BC(document.forms,function(t){BC(t.elements,function(t){t.name===e&&(e="mce_editor_"+jC++,MC.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":BC(MC.select("textarea"),function(t){e.editor_deselector&&i(t,e.editor_deselector)||e.editor_selector&&!i(t,e.editor_selector)||n.push(t)})}return n}(e)),e.types?BC(e.types,function(n){ln.each(t,function(t){return!MC.is(t,n.selector)||(l(o(t),FC({},e,n),t),!1)})}):(ln.each(t,function(e){var t;(t=r.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(WC(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}),0===(t=ln.grep(t,function(e){return!r.get(e.id)})).length?a([]):BC(t,function(t){var r;r=t,e.inline&&r.tagName.toLowerCase()in n?pm("Could not initialize inline editor on invalid inline target element",t):l(o(t),e,t)}))};return r.settings=e,MC.bind(window,"ready",s),new it(function(e){t?e(t):a=function(t){e(t)}})},get:function(e){return 0===arguments.length?UC.slice(0):me.isString(e)?Re.find(UC,function(t){return t.id===e}).getOr(null):me.isNumber(e)&&UC[e]?UC[e]:null},add:function(e){var t=this;return HC[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(HC[e.id]=e),HC.push(e),UC.push(e)),qC(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),CC||(CC=function(){t.fire("BeforeUnload")},MC.bind(window,"beforeunload",CC))),e},createEditor:function(e,t){return this.add(new bC(e,t,this))},remove:function(e){var t,n,r=this;if(e)return me.isString(e)?(e=e.selector||e,void BC(MC.select(e),function(e){(n=r.get(e.id))&&r.remove(n)})):(n=e,me.isNull(r.get(n.id))?null:(WC(n)&&r.fire("RemoveEditor",{editor:n}),0===UC.length&&MC.unbind(window,"beforeunload",CC),n.remove(),qC(0<UC.length),n));for(t=UC.length-1;0<=t;t--)r.remove(UC[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new bC(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){BC(UC,function(e){e.save()})},addI18n:function(e,t){DC.add(e,t)},translate:function(e){return DC.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},sh),_C.setup();var GC,KC=_C;(GC=V||(V={})).compareRanges=dp,GC.getCaretRangeFromPoint=Wy,GC.getSelectedNode=_a,GC.getNode=xa;var $C,YC,XC=V,ZC=Math.min,JC=Math.max,QC=Math.round,e_=function(e,t,n){var r,o,i,a,s,u;return r=t.x,o=t.y,i=e.w,a=e.h,s=t.w,u=t.h,"b"===(n=(n||"").split(""))[0]&&(o+=u),"r"===n[1]&&(r+=s),"c"===n[0]&&(o+=QC(u/2)),"c"===n[1]&&(r+=QC(s/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=QC(a/2)),"c"===n[4]&&(r-=QC(i/2)),t_(r,o,i,a)},t_=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},n_={inflate:function(e,t,n){return t_(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:e_,findBestRelativePosition:function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if((o=e_(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n,r,o,i;return n=JC(e.x,t.x),r=JC(e.y,t.y),o=ZC(e.x+e.w,t.x+t.w),i=ZC(e.y+e.h,t.y+t.h),o-n<0||i-r<0?null:t_(n,r,o-n,i-r)},clamp:function(e,t,n){var r,o,i,a,s,u,c,l,f,d;return s=e.x,u=e.y,c=e.x+e.w,l=e.y+e.h,f=t.x+t.w,d=t.y+t.h,r=JC(0,t.x-s),o=JC(0,t.y-u),i=JC(0,c-f),a=JC(0,l-d),s+=r,u+=o,n&&(c+=r,l+=o,s-=i,u-=a),t_(s,u,(c-=i)-s,(l-=a)-u)},create:t_,fromClientRect:function(e){return t_(e.left,e.top,e.width,e.height)}},r_={},o_={add:function(e,t){r_[e.toLowerCase()]=t},has:function(e){return!!r_[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=r_.hasOwnProperty(t)?r_[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=r_[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}},i_=ln.each,a_=ln.extend,s_=function(){};s_.extend=$C=function(e){var t,n,r,o=this.prototype,i=function(){var e,t,n;if(!YC&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)},a=function(){return this};for(n in YC=!0,t=new this,YC=!1,e.Mixins&&(i_(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),o.Mixins&&(e.Mixins=o.Mixins.concat(e.Mixins))),e.Methods&&i_(e.Methods.split(","),function(t){e[t]=a}),e.Properties&&i_(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}}),e.Statics&&i_(e.Statics,function(e,t){i[t]=e}),e.Defaults&&o.Defaults&&(e.Defaults=a_({},o.Defaults,e.Defaults)),e)"function"==typeof(r=e[n])&&o[n]?t[n]=function(e,t){return function(){var n,r=this._super;return this._super=o[e],n=t.apply(this,arguments),this._super=r,n}}(n,r):t[n]=r;return i.prototype=t,(i.constructor=i).extend=$C,i};var u_=Math.min,c_=Math.max,l_=Math.round,f_=function(e,t){var n,r,o,i;if(t=t||'"',null===e)return"null";if("string"==(o=typeof e))return r="\bb\tt\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,o){return'"'===t&&"'"===e?e:(n=r.indexOf(o))+1?"\\"+r.charAt(n+1):(e=o.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+t;if("object"===o){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,r="[";n<e.length;n++)r+=(0<n?",":"")+f_(e[n],t);return r+"]"}for(i in r="{",e)e.hasOwnProperty(i)&&(r+="function"!=typeof e[i]?(1<r.length?","+t:t)+i+t+":"+f_(e[i],t):"");return r+"}"}return""+e},d_={serialize:f_,parse:function(e){try{return JSON.parse(e)}catch(e){}}},p_={callbacks:{},count:0,send:function(e){var t=this,n=Di.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},h_={send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",h_.fire("beforeInitialize",{settings:e}),t=new O){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&ln.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=h_.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();setTimeout(r,10)}}};ln.extend(h_,sh);var m_=ln.extend,g_=function(e){this.settings=m_({},e),this.count=0};g_.sendRPC=function(e){return(new g_).send(e)},g_.prototype={send:function(e){var t=e.error,n=e.success;(e=m_(this.settings,e)).success=function(r,o){void 0===(r=d_.parse(r))&&(r={error:"JSON Parse error."}),r.error?t.call(e.error_scope||e.scope,r.error,o):n.call(e.success_scope||e.scope,r.result)},e.error=function(n,r){t&&t.call(e.error_scope||e.scope,n,r)},e.data=d_.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",h_.send(e)}};var v_,y_=window.localStorage,b_=KC,w_={geom:{Rect:n_},util:{Promise:it,Delay:ct,Tools:ln,VK:cg,URI:rC,Class:s_,EventDispatcher:nh,Observable:sh,I18n:DC,XHR:h_,JSON:d_,JSONRequest:g_,JSONP:p_,LocalStorage:y_,Color:function(e){var t={},n=0,r=0,o=0,i=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&function(e,t,i){var a,s,u,c;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=c_(0,u_(t,1)),i=c_(0,u_(i,1)),0!==t){switch(a=e/60,u=(s=i*t)*(1-Math.abs(a%2-1)),c=i-s,Math.floor(a)){case 0:n=s,r=u,o=0;break;case 1:n=u,r=s,o=0;break;case 2:n=0,r=s,o=u;break;case 3:n=0,r=u,o=s;break;case 4:n=u,r=0,o=s;break;case 5:n=s,r=0,o=u;break;default:n=r=o=0}n=l_(255*(n+c)),r=l_(255*(r+c)),o=l_(255*(o+c))}else n=r=o=l_(255*i)}(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:255<n?255:n,r=r<0?0:255<r?255:r,o=o<0?0:255<o?255:o,t};return e&&i(e),t.toRgb=function(){return{r:n,g:r,b:o}},t.toHsv=function(){return e=n,t=r,i=o,s=0,(u=u_(e/=255,u_(t/=255,i/=255)))===(c=c_(e,c_(t,i)))?{h:0,s:0,v:100*(s=u)}:(a=(c-u)/c,{h:l_(60*((e===u?3:i===u?1:5)-(e===u?t-i:i===u?e-t:i-e)/((s=c)-u))),s:l_(100*a),v:l_(100*s)});var e,t,i,a,s,u,c},t.toHex=function(){var e=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+e(n)+e(r)+e(o)},t.parse=i,t}},dom:{EventUtils:yt,Sizzle:en,DomQuery:Rn,TreeWalker:p,DOMUtils:Di,ScriptLoader:ji,RangeUtils:XC,Serializer:B,ControlSelection:zy,BookmarkManager:Vy,Selection:xb,Event:yt.Event},html:{Styles:m,Entities:hi,Node:Sy,Schema:h,SaxParser:bg,DomParser:L,Writer:b,Serializer:w},ui:{Factory:o_},Env:ot,AddOnManager:v,Formatter:M,UndoManager:D,EditorCommands:_,WindowManager:S,NotificationManager:E,EditorObservable:Lh,Shortcuts:x,Editor:bC,FocusManager:xC,EditorManager:KC,DOM:Di.DOM,ScriptLoader:ji.ScriptLoader,PluginManager:v.PluginManager,ThemeManager:v.ThemeManager,trim:ln.trim,isArray:ln.isArray,is:ln.is,toArray:ln.toArray,makeMap:ln.makeMap,each:ln.each,map:ln.map,grep:ln.grep,inArray:ln.inArray,extend:ln.extend,create:ln.create,walk:ln.walk,createNS:ln.createNS,resolve:ln.resolve,explode:ln.explode,_addCacheSuffix:ln._addCacheSuffix,isOpera:ot.opera,isWebKit:ot.webkit,isIE:ot.ie,isGecko:ot.gecko,isMac:ot.mac},C_=b_=ln.extend(b_,w_);v_=C_,window.tinymce=v_,window.tinyMCE=v_,function(t){try{e.exports=t}catch(e){}}(C_)}()},OWbQ:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("NSJx"),i=n("lhZu"),a=n("mUVF"),s=n("mihg"),u=n("TA58"),c=n("wZOE"),l=n("wCVK"),f=n("2B7B"),d=n("bKpL"),p=n("GDiU"),h=n("DP67"),m=function(e){function t(t,n){e.call(this,null),this.ish=t,this.scheduler=n}return r(t,e),t.create=function(e,n){if(null!=e){if("function"==typeof e[h.observable])return e instanceof d.Observable&&!n?e:new t(e,n);if(o.isArray(e))return new c.ArrayObservable(e,n);if(a.isPromise(e))return new s.PromiseObservable(e,n);if("function"==typeof e[f.iterator]||"string"==typeof e)return new u.IteratorObservable(e,n);if(i.isArrayLike(e))return new l.ArrayLikeObservable(e,n)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,n=this.scheduler;return null==n?t[h.observable]().subscribe(e):t[h.observable]().subscribe(new p.ObserveOnSubscriber(e,n,0))},t}(d.Observable);t.FromObservable=m},OpZN:function(e,t){!function(){!function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),r=function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},o=function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},i=function(e){return e.link_list},a=function(e){return"string"==typeof e.default_link_target},s=function(e){return e.default_link_target},u=function(e){return e.target_list},c=function(e,t){e.settings.target_list=t},l=function(e){return!1!==u(e)},f=function(e){return e.rel_list},d=function(e){return void 0!==f(e)},p=function(e){return e.link_class_list},h=function(e){return void 0!==p(e)},m=function(e){return!1!==e.link_title},g=function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target},v={assumeExternalTargets:r,hasContextToolbar:o,getLinkList:i,hasDefaultLinkTarget:a,getDefaultLinkTarget:s,getTargetList:u,setTargetList:c,shouldShowTargetList:l,getRelList:f,hasRelList:d,getLinkClassList:p,hasLinkClassList:h,shouldShowLinkTitle:m,allowUnsafeLinkTarget:g},y=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),b=tinymce.util.Tools.resolve("tinymce.Env"),w=function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)},C=function(e){if(!b.ie||b.ie>10){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),w(t,n)}else{var r=window.open("","_blank");if(r){r.opener=null;var o=r.document;o.open(),o.write('<meta http-equiv="refresh" content="0; url='+y.DOM.encode(e)+'">'),o.close()}}},_={open:C},x=tinymce.util.Tools.resolve("tinymce.util.Tools"),E=function(e,t){var n=["noopener"],r=e?e.split(/\s+/):[],o=function(e){return e.filter(function(e){return-1===x.inArray(n,e)})};return r=t?function(e){return e=o(e),e.length?e.concat(n):n}(r):o(r),r.length?function(e){return x.trim(e.sort().join(" "))}(r):null},S=function(e){return e.replace(/\uFEFF/g,"")},O=function(e,t){return t=t||e.selection.getNode(),N(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},T=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return S(n)},k=function(e){return e&&"A"===e.nodeName&&e.href},R=function(e){return x.grep(e,k).length>0},P=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},N=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},A=function(e,t){return function(n){e.undoManager.transact(function(){var r=e.selection.getNode(),o=O(e,r),i={href:n.href,target:n.target?n.target:null,rel:n.rel?n.rel:null,class:n.class?n.class:null,title:n.title?n.title:null};v.hasRelList(e.settings)||!1!==v.allowUnsafeLinkTarget(e.settings)||(i.rel=E(i.rel,"_blank"===i.target)),n.href===t.href&&(t.attach(),t={}),o?(e.focus(),n.hasOwnProperty("text")&&("innerText"in o?o.innerText=n.text:o.textContent=n.text),e.dom.setAttribs(o,i),e.selection.select(o),e.undoManager.add()):N(r)?M(e,r,i):n.hasOwnProperty("text")?e.insertContent(e.dom.createHTML("a",i,e.dom.encode(n.text))):e.execCommand("mceInsertLink",!1,i)})}},I=function(e){return function(){e.undoManager.transact(function(){var t=e.selection.getNode();N(t)?D(e,t):e.execCommand("unlink")})}},D=function(e,t){var n,r;(r=e.dom.select("img",t)[0])&&(n=e.dom.getParents(r,"a[href]",t)[0])&&(n.parentNode.insertBefore(r,n),e.dom.remove(n))},M=function(e,t,n){var r,o;(o=e.dom.select("img",t)[0])&&(r=e.dom.create("a",n),o.parentNode.insertBefore(r,o),r.appendChild(o))},L={link:A,unlink:I,isLink:k,hasLinks:R,isOnlyTextSelected:P,getAnchorElement:O,getAnchorText:T,toggleTargetRules:E},B=tinymce.util.Tools.resolve("tinymce.util.Delay"),F=tinymce.util.Tools.resolve("tinymce.util.XHR"),j={},V=function(e,t){var n=v.getLinkList(e.settings);"string"==typeof n?F.send({url:n,success:function(n){t(e,JSON.parse(n))}}):"function"==typeof n?n(function(n){t(e,n)}):t(e,n)},H=function(e,t,n){var r=function(e,n){return n=n||[],x.each(e,function(e){var o={text:e.text||e.title};e.menu?o.menu=r(e.menu):(o.value=e.value,t&&t(o)),n.push(o)}),n};return r(e,n||[])},U=function(e,t,n){var r=e.selection.getRng();B.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(r),n(t)})})},z=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,p={},h=e.selection,m=e.dom,g=function(e){var t=o.find("#text");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),o.find("#href").value(e.control.value())},y=function(){r||!i||p.text||this.parent().parent().find("#text")[0].value(this.value())},b=function(t){var n=t.meta||{};s&&s.value(e.convertURL(this.value(),"href")),x.each(t.meta,function(e,t){var n=o.find("#"+t);"text"===t?0===r.length&&(n.value(e),p.text=e):n.value(e)}),n.attach&&(j={href:this.value(),attach:n.attach}),n.text||y.call(this)},w=function(e){e.meta=o.toJSON()};i=L.isOnlyTextSelected(h.getContent()),n=L.getAnchorElement(e),p.text=r=L.getAnchorText(e.selection,n),p.href=n?m.getAttrib(n,"href"):"",n?p.target=m.getAttrib(n,"target"):v.hasDefaultLinkTarget(e.settings)&&(p.target=v.getDefaultLinkTarget(e.settings)),(d=m.getAttrib(n,"rel"))&&(p.rel=d),(d=m.getAttrib(n,"class"))&&(p.class=d),(d=m.getAttrib(n,"title"))&&(p.title=d),i&&(a={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){p.text=this.value()}}),t&&(s={type:"listbox",label:"Link list",values:H(t,function(t){t.value=e.convertURL(t.value||t.url,"href")},[{text:"None",value:""}]),onselect:g,value:e.convertURL(p.href,"href"),onPostRender:function(){s=this}}),v.shouldShowTargetList(e.settings)&&(void 0===v.getTargetList(e.settings)&&v.setTargetList(e,[{text:"None",value:""},{text:"New window",value:"_blank"}]),c={name:"target",type:"listbox",label:"Target",values:H(v.getTargetList(e.settings))}),v.hasRelList(e.settings)&&(u={name:"rel",type:"listbox",label:"Rel",values:H(v.getRelList(e.settings),function(t){!1===v.allowUnsafeLinkTarget(e.settings)&&(t.value=L.toggleTargetRules(t.value,"_blank"===p.target))})}),v.hasLinkClassList(e.settings)&&(l={name:"class",type:"listbox",label:"Class",values:H(v.getLinkClassList(e.settings),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})})})}),v.shouldShowLinkTitle(e.settings)&&(f={name:"title",type:"textbox",label:"Title",value:p.title}),o=e.windowManager.open({title:"Insert link",data:p,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:b,onkeyup:y,onpaste:y,onbeforecall:w},a,f,function(t){var n=[];if(x.each(e.dom.select("a:not([href])"),function(e){var r=e.name||e.id;r&&n.push({text:r,value:"#"+r,selected:-1!==t.indexOf("#"+r)})}),n.length)return n.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:n,onselect:g}}(p.href),s,u,c,l],onSubmit:function(t){var n=v.assumeExternalTargets(e.settings),o=L.link(e,j),a=L.unlink(e),s=x.extend({},p,t.data),u=s.href;return u?(i&&s.text!==r||delete s.text,u.indexOf("@")>0&&-1===u.indexOf("//")&&-1===u.indexOf("mailto:")?void U(e,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(s.href="mailto:"+u),o(s)}):!0===n&&!/^\w+:/i.test(u)||!1===n&&/^\s*www[\.|\d\.]/i.test(u)?void U(e,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(s.href="http://"+u),o(s)}):void o(s)):void a()}})},q=function(e){V(e,z)},W={open:q},G=function(e,t){return e.dom.getParent(t,"a[href]")},K=function(e){return G(e,e.selection.getStart())},$=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},Y=function(e){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()},X=function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey},Z=function(e,t){if(t){var n=$(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else _.open(t.href)}},J=function(e){return function(){W.open(e)}},Q=function(e){return function(){Z(e,K(e))}},ee=function(e){return function(t){var n,r,o;return!!(v.hasContextToolbar(e.settings)&&!Y(e)&&L.isLink(t)&&(n=e.selection,r=n.getRng(),o=r.startContainer,3===o.nodeType&&n.isCollapsed()&&r.startOffset>0&&r.startOffset<o.data.length))}},te=function(e){e.on("click",function(t){var r=G(e,t.target);r&&n.metaKeyPressed(t)&&(t.preventDefault(),Z(e,r))}),e.on("keydown",function(t){var n=K(e);n&&13===t.keyCode&&X(t)&&(t.preventDefault(),Z(e,n))})},ne=function(e){return function(){var t=this;e.on("nodechange",function(n){t.active(!e.readonly&&!!L.getAnchorElement(e,n.element))})}},re=function(e){return function(){var t=this,n=function(e){L.hasLinks(e.parents)?t.show():t.hide()};L.hasLinks(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",n),t.on("remove",function(){e.off("nodechange",n)})}},oe={openDialog:J,gotoSelectedLink:Q,leftClickedOnAHref:ee,setupGotoLinks:te,toggleActiveState:ne,toggleViewLinkState:re},ie=function(e){e.addCommand("mceLink",oe.openDialog(e))},ae={register:ie},se=function(e){e.addShortcut("Meta+K","",oe.openDialog(e))},ue={setup:se},ce=function(e){e.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:oe.openDialog(e),onpostrender:oe.toggleActiveState(e)}),e.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:L.unlink(e),onpostrender:oe.toggleActiveState(e)}),e.addContextToolbar&&e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:oe.gotoSelectedLink(e)})},le=function(e){e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:oe.gotoSelectedLink(e),onPostRender:oe.toggleViewLinkState(e),prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:oe.openDialog(e),stateSelector:"a[href]",context:"insert",prependToContext:!0}),e.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onclick:L.unlink(e),stateSelector:"a[href]"})},fe=function(e){e.addContextToolbar&&e.addContextToolbar(oe.leftClickedOnAHref(e),"openlink | link unlink")},de={setupButtons:ce,setupMenuItems:le,setupContextToolbars:fe};t.add("link",function(e){de.setupButtons(e),de.setupMenuItems(e),de.setupContextToolbars(e),oe.setupGotoLinks(e),ae.register(e),ue.setup(e)})}()}()},P02W:function(e,t,n){"use strict";function r(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new i(r,t));var a=Object.create(n,o.connectableObservableDescriptor);return a.source=n,a.subjectFactory=r,a}}var o=n("xKl2");t.multicast=r;var i=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(e);return o.add(t.subscribe(r)),o},e}();t.MulticastOperator=i},P8Mj:function(e,t){!function(){!function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),r=function(e){return e.getParam("code_dialog_width",600)},o=function(e){return e.getParam("code_dialog_height",Math.min(n.DOM.getViewPort().h-200,500))},i={getMinWidth:r,getMinHeight:o},a=function(e,t){e.focus(),e.undoManager.transact(function(){e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},s=function(e){return e.getContent({source_view:!0})},u={setContent:a,getContent:s},c=function(e){var t=i.getMinWidth(e),n=i.getMinHeight(e);e.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:t,minHeight:n,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(t){u.setContent(e,t.data.code)}}).find("#code").value(u.getContent(e))},l={open:c},f=function(e){e.addCommand("mceCodeEditor",function(){l.open(e)})},d={register:f},p=function(e){e.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){l.open(e)}}),e.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){l.open(e)}})},h={register:p};t.add("code",function(e){return d.register(e),h.register(e),{}})}()}()},PbxL:function(e,t,n){"use strict";function r(e){return void 0===e&&(e=null),function(t){return t.lift(new a(e))}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("T14+");t.defaultIfEmpty=r;var a=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.defaultValue))},e}(),s=function(e){function t(t,n){e.call(this,t),this.defaultValue=n,this.isEmpty=!0}return o(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i.Subscriber)},PgGZ:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e.prototype.transform=function(e,t){return void 0===t?e:e.filter(function(e){for(var n in e)if(null!==e[n]&&e[n].toString().toLowerCase().includes(t.toLowerCase()))return!0;return!1})},e}()},QU9E:function(e,t,n){"use strict";var r=n("mihg");t.fromPromise=r.PromiseObservable.create},RdI5:function(e,t,n){"use strict";function r(){try{return i.apply(this,arguments)}catch(e){return a.errorObject.e=e,a.errorObject}}function o(e){return i=e,r}var i,a=n("XRvs");t.tryCatch=o},RpuY:function(e,t,n){"use strict";var r=n("bKpL"),o=n("cPhF");r.Observable.prototype.mergeMap=o.mergeMap,r.Observable.prototype.flatMap=o.mergeMap},Sshh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("/oeL"),o=n("yEhY"),i=n("G1/N"),a=function(){function e(e,t){this._flashMessagesService=e,this._cdRef=t,this._defaults={text:"default message",cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return e.prototype.ngOnInit=function(){},e.prototype.show=function(e,t){var n=this;void 0===t&&(t={});var r={timeout:2500,cssClass:""};for(var i in t)r[i]=t[i];var a=new o.FlashMessage(e,r.cssClass);this.messages.push(a),this._cdRef.detectChanges(),window.setTimeout(function(){n._remove(a),n._cdRef.detectChanges()},r.timeout)},e.prototype.grayOut=function(e){void 0===e&&(e=!1),this._grayOut=e},e.prototype._remove=function(e){this.messages=this.messages.filter(function(t){return t.id!==e.id})},e}();a.decorators=[{type:r.Component,args:[{selector:"flash-messages",template:'\n      <div id="flashMessages" class="flash-messages {{classes}}">\n          <div id="grayOutDiv" *ngIf=\'_grayOut && messages.length\'></div>\n          <div class="alert flash-message {{message.cssClass}}" *ngFor=\'let message of messages\'>\n              <p>{{message.text}}</p>\n          </div> \n      </div>\n  '}]}],a.ctorParameters=function(){return[{type:i.FlashMessagesService},{type:r.ChangeDetectorRef}]},t.FlashMessagesComponent=a},"T14+":function(e,t,n){"use strict";function r(e){return e instanceof c||"syncErrorThrowable"in e&&e[u.rxSubscriber]}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("fclq"),a=n("xFbG"),s=n("LiYJ"),u=n("dkwD"),c=function(e){function t(t,n,o){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!t){this.destination=s.empty;break}if("object"==typeof t){if(r(t)){var i=t[u.rxSubscriber]();this.syncErrorThrowable=i.syncErrorThrowable,this.destination=i,i.add(this)}else this.syncErrorThrowable=!0,this.destination=new l(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,n,o)}}return o(t,e),t.prototype[u.rxSubscriber]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this,t=e._parent,n=e._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=n,this},t}(a.Subscription);t.Subscriber=c;var l=function(e){function t(t,n,r,o){e.call(this),this._parentSubscriber=t;var a,u=this;i.isFunction(n)?a=n:n&&(a=n.next,r=n.error,o=n.complete,n!==s.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=a,this._error=r,this._complete=o}return o(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c)},TA58:function(e,t,n){"use strict";function r(e){var t=e[l.iterator];if(!t&&"string"==typeof e)return new d(e);if(!t&&void 0!==e.length)return new p(e);if(!t)throw new TypeError("object is not iterable");return e[l.iterator]()}function o(e){var t=+e.length;return isNaN(t)?0:0!==t&&i(t)?(t=a(t)*Math.floor(Math.abs(t)),t<=0?0:t>h?h:t):t}function i(e){return"number"==typeof e&&u.root.isFinite(e)}function a(e){var t=+e;return 0===t?t:isNaN(t)?t:t<0?-1:1}var s=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},u=n("zijX"),c=n("bKpL"),l=n("2B7B"),f=function(e){function t(t,n){if(e.call(this),this.scheduler=n,null==t)throw new Error("iterator cannot be null.");this.iterator=r(t)}return s(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.index,n=e.hasError,r=e.iterator,o=e.subscriber;if(n)return void o.error(e.error);var i=r.next();return i.done?void o.complete():(o.next(i.value),e.index=t+1,o.closed?void("function"==typeof r.return&&r.return()):void this.schedule(e))},t.prototype._subscribe=function(e){var n=this,r=n.iterator,o=n.scheduler;if(o)return o.schedule(t.dispatch,0,{index:0,iterator:r,subscriber:e});for(;;){var i=r.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed){"function"==typeof r.return&&r.return();break}}},t}(c.Observable);t.IteratorObservable=f;var d=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length),this.str=e,this.idx=t,this.len=n}return e.prototype[l.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),p=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=o(e)),this.arr=e,this.idx=t,this.len=n}return e.prototype[l.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),h=Math.pow(2,53)-1},THYR:function(e,t,n){"use strict";function r(e,t){return o.every(e,t)(this)}var o=n("GiTH");t.every=r},TIdC:function(e,t,n){"use strict";function r(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),o.mergeAll(e)(this)}var o=n("8rcZ");t.mergeAll=r},TQn8:function(e,t,n){"use strict";function r(e,t){return o.concatMap(e,t)(this)}var o=n("+FJ1");t.concatMap=r},TpsG:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.EmptyError=o},Tq0x:function(e,t,n){"use strict";function r(e,t){return arguments.length>=2?o.reduce(e,t)(this):o.reduce(e)(this)}var o=n("JwCl");t.reduce=r},V8QN:function(e,t,n){"use strict";var r=function(){function e(){}return e.getMimeClass=function(e){var t="application";return-1!==this.mime_psd.indexOf(e.type)?t="image":e.type.match("image.*")?t="image":e.type.match("video.*")?t="video":e.type.match("audio.*")?t="audio":"application/pdf"===e.type?t="pdf":-1!==this.mime_compress.indexOf(e.type)?t="compress":-1!==this.mime_doc.indexOf(e.type)?t="doc":-1!==this.mime_xsl.indexOf(e.type)?t="xls":-1!==this.mime_ppt.indexOf(e.type)&&(t="ppt"),"application"===t&&(t=this.fileTypeDetection(e.name)),t},e.fileTypeDetection=function(e){var t={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},n=e.split(".");if(n.length<2)return"application";var r=n[n.length-1].toLowerCase();return void 0===t[r]?"application":t[r]},e}();r.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],r.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],r.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],r.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],r.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream"],t.FileType=r},VsKd:function(e,t,n){"use strict";var r=n("bKpL"),o=n("23I1");r.Observable.defer=o.defer},W4CS:function(e,t,n){"use strict";function r(e,t){void 0===e&&(e=h.DEFAULT_TOKEN_NAME);var n=t||localStorage.getItem(e),r=new b;return null!=n&&!r.isTokenExpired(n)}function o(e){return[{provide:y,deps:[f.Http,f.RequestOptions],useFactory:function(t,n){return new y(new g(e),t,n)}}]}function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r,o,a=i(e),s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var u in r)w.call(r,u)&&(a[u]=r[u]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(r);for(var c=0;c<o.length;c++)C.call(r,o[c])&&(a[o[c]]=r[o[c]])}}return a}var s=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},f=n("CPp0"),d=n("/oeL"),p=n("bKpL");n("7u+W"),n("VsKd"),n("RpuY");var h=function(){function e(){}return e}();h.DEFAULT_TOKEN_NAME="token",h.DEFAULT_HEADER_NAME="Authorization",h.HEADER_PREFIX_BEARER="Bearer ",t.AuthConfigConsts=h;var m={headerName:h.DEFAULT_HEADER_NAME,headerPrefix:null,tokenName:h.DEFAULT_TOKEN_NAME,tokenGetter:function(){return localStorage.getItem(m.tokenName)},noJwtError:!1,noClientCheck:!1,globalHeaders:[],noTokenScheme:!1},g=function(){function e(e){e=e||{},this._config=a({},m,e),this._config.headerPrefix?this._config.headerPrefix+=" ":this._config.noTokenScheme?this._config.headerPrefix="":this._config.headerPrefix=h.HEADER_PREFIX_BEARER,e.tokenName&&!e.tokenGetter&&(this._config.tokenGetter=function(){return localStorage.getItem(e.tokenName)})}return e.prototype.getConfig=function(){return this._config},e}();t.AuthConfig=g;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(Error);t.AuthHttpError=v;var y=function(){function e(e,t,n){var r=this;this.http=t,this.defOpts=n,this.config=e.getConfig(),this.tokenStream=new p.Observable(function(e){e.next(r.config.tokenGetter())})}return e.prototype.mergeOptions=function(e,t){var n=t||new f.RequestOptions;return this.config.globalHeaders&&this.setGlobalHeaders(this.config.globalHeaders,e),n=n.merge(new f.RequestOptions(e))},e.prototype.requestHelper=function(e,t){var n=new f.RequestOptions(e);return t&&(n=n.merge(t)),this.request(new f.Request(this.mergeOptions(n,this.defOpts)))},e.prototype.requestWithToken=function(e,t){if(this.config.noClientCheck||r(void 0,t))e.headers.set(this.config.headerName,this.config.headerPrefix+t);else if(!this.config.noJwtError)return new p.Observable(function(e){e.error(new v("No JWT present or has expired"))});return this.http.request(e)},e.prototype.setGlobalHeaders=function(e,t){t.headers||(t.headers=new f.Headers),e.forEach(function(e){var n=Object.keys(e)[0],r=e[n];t.headers.set(n,r)})},e.prototype.request=function(e,t){var n=this;if("string"==typeof e)return this.get(e,t);var r=e;return p.Observable.defer(function(){var e=n.config.tokenGetter();return e instanceof Promise?p.Observable.fromPromise(e).mergeMap(function(e){return n.requestWithToken(r,e)}):n.requestWithToken(r,e)})},e.prototype.get=function(e,t){return this.requestHelper({body:"",method:f.RequestMethod.Get,url:e},t)},e.prototype.post=function(e,t,n){return this.requestHelper({body:t,method:f.RequestMethod.Post,url:e},n)},e.prototype.put=function(e,t,n){return this.requestHelper({body:t,method:f.RequestMethod.Put,url:e},n)},e.prototype.delete=function(e,t){return this.requestHelper({body:"",method:f.RequestMethod.Delete,url:e},t)},e.prototype.patch=function(e,t,n){return this.requestHelper({body:t,method:f.RequestMethod.Patch,url:e},n)},e.prototype.head=function(e,t){return this.requestHelper({body:"",method:f.RequestMethod.Head,url:e},t)},e.prototype.options=function(e,t){return this.requestHelper({body:"",method:f.RequestMethod.Options,url:e},t)},e}();y=u([d.Injectable(),c("design:paramtypes",[g,f.Http,f.RequestOptions])],y),t.AuthHttp=y;var b=function(){function e(){}return e.prototype.urlBase64Decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}return this.b64DecodeUnicode(t)},e.prototype.b64decode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="";if(e=String(e).replace(/=+$/,""),e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var r=0,o=void 0,i=void 0,a=0;i=e.charAt(a++);~i&&(o=r%4?64*o+i:i,r++%4)?n+=String.fromCharCode(255&o>>(-2*r&6)):0)i=t.indexOf(i);return n},e.prototype.b64DecodeUnicode=function(e){return decodeURIComponent(Array.prototype.map.call(this.b64decode(e),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},e.prototype.decodeToken=function(e){var t=e.split(".");if(3!==t.length)throw new Error("JWT must have 3 parts");var n=this.urlBase64Decode(t[1]);if(!n)throw new Error("Cannot decode the token");return JSON.parse(n)},e.prototype.getTokenExpirationDate=function(e){var t;if(t=this.decodeToken(e),!t.hasOwnProperty("exp"))return null;var n=new Date(0);return n.setUTCSeconds(t.exp),n},e.prototype.isTokenExpired=function(e,t){var n=this.getTokenExpirationDate(e);return t=t||0,null!=n&&!(n.valueOf()>(new Date).valueOf()+1e3*t)},e}();t.JwtHelper=b,t.tokenNotExpired=r,t.AUTH_PROVIDERS=[{provide:y,deps:[f.Http,f.RequestOptions],useFactory:function(e,t){return new y(new g,e,t)}}],t.provideAuth=o;var w=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,_=x=function(){function e(e){if(e)throw new Error("AuthModule is already loaded. Import it in the AppModule only")}return e.forRoot=function(e){return{ngModule:x,providers:[{provide:g,useValue:e}]}},e}();_=x=u([d.NgModule({imports:[f.HttpModule],providers:[y,b]}),l(0,d.Optional()),l(0,d.SkipSelf()),c("design:paramtypes",[_])],_),t.AuthModule=_;var x},WSkQ:function(e,t,n){"use strict";function r(e,t,n){return o.last(e,t,n)(this)}var o=n("zrH4");t.last=r},X68L:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n("/oeL"),a=n("9Kxs"),s=function(){function e(e){this.onFileSelected=new i.EventEmitter,this.element=e}return e.prototype.getOptions=function(){return this.uploader.options},e.prototype.getFilters=function(){return{}},e.prototype.isEmptyAfterSelection=function(){return!!this.element.nativeElement.attributes.multiple},e.prototype.onChange=function(){var e=this.element.nativeElement.files,t=this.getOptions(),n=this.getFilters();this.uploader.addToQueue(e,t,n),this.onFileSelected.emit(e),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")},e}();r([i.Input(),o("design:type",a.FileUploader)],s.prototype,"uploader",void 0),r([i.Output(),o("design:type",i.EventEmitter)],s.prototype,"onFileSelected",void 0),r([i.HostListener("change"),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Object)],s.prototype,"onChange",null),s=r([i.Directive({selector:"[ng2FileSelect]"}),o("design:paramtypes",[i.ElementRef])],s),t.FileSelectDirective=s},XRvs:function(e,t,n){"use strict";t.errorObject={e:{}}},"XW+l":function(e,t){!function(){!function(){"use strict";function e(e,t){return X.each(t,function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])}),e}function t(t){function n(e){var t=e.name,r=e;if("br"===t)return void(i+="\n");if(a[t]&&(i+=" "),s[t])return void(i+=" ");if(3===e.type&&(i+=e.value),!e.shortEnded&&(e=e.firstChild))do{n(e)}while(e=e.next);u[t]&&r.next&&(i+="\n","p"===t&&(i+="\n"))}var r=de(),o=le({},r),i="",a=r.getShortEndedElements(),s=X.makeMap("script noscript style textarea video audio iframe object"," "),u=r.getBlockElements();return t=e(t,[/<!\[[^\]]+\]>/g]),n(o.parse(t)),i}function n(t){function n(e,t,n){return t||n?"\xa0":" "}return t=e(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,n],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function r(e){var t=0;return function(){return e+t++}}function o(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function i(e){var t,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],e=e.replace(/^[\u00a0 ]+/,""),X.each(n,function(n){if(n.test(e))return t=!0,!1}),t}function a(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function s(e){function t(e){var n="";if(3===e.type)return e.value;if(e=e.firstChild)do{n+=t(e)}while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!n(e,t))return!1}while(e=e.next);return!0}function r(e){if(e._listIgnore)return void e.remove();if(e=e.firstChild)do{r(e)}while(e=e.next)}function o(e,t,o){var i=e._listLevel||c;i!==c&&(i<c?s&&(s=s.parent.parent):(u=s,s=null)),s&&s.name===t?s.append(e):(u=u||s,s=new fe(t,1),o>1&&s.attr("start",""+o),e.wrap(s)),e.name="li",i>c&&u&&u.lastChild.append(s),c=i,r(e),n(e,/^\u00a0+/),n(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(e,/^\u00a0+/)}for(var s,u,c=1,l=[],f=e.firstChild;void 0!==f&&null!==f;)if(l.push(f),null!==(f=f.walk()))for(;void 0!==f&&f.parent!==e;)f=f.walk();for(var d=0;d<l.length;d++)if(e=l[d],"p"===e.name&&e.firstChild){var p=t(e);if(a(p)){o(e,"ul");continue}if(i(p)){var h=/([0-9]+)\./.exec(p),m=1;h&&(m=parseInt(h[1],10)),o(e,"ol",m);continue}if(e._listLevel){o(e,"ul",1);continue}s=null}else u=s,s=null}function u(e,t,n,r){var o,i={},a=e.dom.parseStyle(r);return X.each(a,function(a,s){switch(s){case"mso-list":o=/\w+ \w+([0-9]+)/i.exec(r),o&&(n._listLevel=parseInt(o[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":s="text-align";break;case"vert-align":s="vertical-align";break;case"font-color":case"mso-foreground":s="color";break;case"mso-background":case"mso-highlight":s="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(i[s]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}if(0===s.indexOf("mso-comment"))return void n.remove();0!==s.indexOf("mso-")&&("all"===H.getRetainStyleProps(e)||t&&t[s])&&(i[s]=a)}),/(bold)/i.test(i["font-weight"])&&(delete i["font-weight"],n.wrap(new fe("b",1))),/(italic)/i.test(i["font-style"])&&(delete i["font-style"],n.wrap(new fe("i",1))),(i=e.dom.serializeStyle(i,n.name))||null}function c(e,t){e.on("PastePreProcess",function(n){n.content=t(e,n.content,n.internal,n.wordContent)})}function l(e,t){e.on("PastePostProcess",function(n){t(e,n.node)})}function f(e,t){if(!ye.isWordContent(t))return t;var n=[];X.each(e.schema.getBlockElements(),function(e,t){n.push(t)});var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=me.filter(t,[[r,"$1"]]),t=me.filter(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function d(e,t,n,r){if(r||n)return t;var o,i=H.getWebkitStyles(e);if(!1===H.shouldRemoveWebKitStyles(e)||"all"===i)return t;if(i&&(o=i.split(/[, ]/)),o){var a=e.dom,s=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,r){var i=a.parseStyle(a.decode(n)),u={};if("none"===o)return t+r;for(var c=0;c<o.length;c++){var l=i[o[c]],f=a.getStyle(s,o[c],!0);/color/.test(o[c])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(u[o[c]]=l)}return u=a.serializeStyle(u,"span"),u?t+' style="'+u+'"'+r:t+r})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}function p(e,t){e.$("a",t).find("font,u").each(function(t,n){e.dom.remove(n,!0)})}function h(){}var m=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return m(n())}}},g=tinymce.util.Tools.resolve("tinymce.PluginManager"),v=function(e){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins)||!g.get("powerpaste"))&&(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},y={hasProPlugin:v},b=function(e,t){return{clipboard:e,quirks:t}},w={get:b},C=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},_=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},x=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},E=function(e,t){return e.fire("paste",{ieFake:t})},S={firePastePreProcess:C,firePastePostProcess:_,firePastePlainTextToggle:x,firePaste:E},O=function(e){return e.getParam("paste_plaintext_inform",!0)},T=function(e){return e.getParam("paste_block_drop",!1)},k=function(e){return e.getParam("paste_data_images",!1)},R=function(e){return e.getParam("paste_filter_drop",!0)},P=function(e){return e.getParam("paste_preprocess")},N=function(e){return e.getParam("paste_postprocess")},A=function(e){return e.getParam("paste_webkit_styles")},I=function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},D=function(e){return e.getParam("paste_merge_formats",!0)},M=function(e){return e.getParam("smart_paste",!0)},L=function(e){return e.getParam("paste_as_text",!1)},B=function(e){return e.getParam("paste_retain_style_properties")},F=function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},j=function(e){return e.getParam("paste_convert_word_fake_lists",!0)},V=function(e){return e.getParam("paste_enable_default_filters",!0)},H={shouldPlainTextInform:O,shouldBlockDrop:T,shouldPasteDataImages:k,shouldFilterDrop:R,getPreProcess:P,getPostProcess:N,getWebkitStyles:A,shouldRemoveWebKitStyles:I,shouldMergeFormats:D,isSmartPasteEnabled:M,isPasteAsTextEnabled:L,getRetainStyleProps:B,getWordValidElements:F,shouldConvertWordFakeLists:j,shouldUseDefaultFilters:V},U=function(e,t){return!1===t.get()&&H.shouldPlainTextInform(e)},z=function(e,t){e.notificationManager.open({text:e.translate(t),type:"info"})},q=function(e,t,n){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),S.firePastePlainTextToggle(e,!1)):(t.pasteFormat.set("text"),S.firePastePlainTextToggle(e,!0),U(e,n)&&(z(e,"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),n.set(!0))),e.focus()},W={togglePlainTextPaste:q},G=function(e,t,n){e.addCommand("mceTogglePlainTextPaste",function(){W.togglePlainTextPaste(e,t,n)}),e.addCommand("mceInsertClipboardContent",function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)})},K={register:G},$=tinymce.util.Tools.resolve("tinymce.Env"),Y=tinymce.util.Tools.resolve("tinymce.util.Delay"),X=tinymce.util.Tools.resolve("tinymce.util.Tools"),Z=tinymce.util.Tools.resolve("tinymce.util.VK"),J="\x3c!-- x-tinymce/html --\x3e",Q=function(e){return J+e},ee=function(e){return e.replace(J,"")},te=function(e){return-1!==e.indexOf(J)},ne={mark:Q,unmark:ee,isMarked:te,internalHtmlMime:function(){return"x-tinymce/html"}},re=tinymce.util.Tools.resolve("tinymce.html.Entities"),oe=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},ie=function(e){return e.replace(/\r?\n/g,"<br>")},ae=function(e,t){var n,r=[],o="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&r.push(n+'="'+re.encodeAllRaw(t[n])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"},se=function(e,t,n){var r=e.split(/\n\n/),o=ae(t,n),i="</"+t+">",a=X.map(r,function(e){return e.split(/\n/).join("<br />")}),s=function(e){return o+e+i};return 1===a.length?a[0]:X.map(a,s).join("")},ue=function(e,t,n){return t?se(e,t,n):ie(e)},ce={isPlainText:oe,convert:ue,toBRs:ie,toBlockElements:se},le=tinymce.util.Tools.resolve("tinymce.html.DomParser"),fe=tinymce.util.Tools.resolve("tinymce.html.Node"),de=tinymce.util.Tools.resolve("tinymce.html.Schema"),pe=tinymce.util.Tools.resolve("tinymce.html.Serializer"),he=function(){return-1!==navigator.userAgent.indexOf(" Edge/")},me={filter:e,innerText:t,trimHtml:n,createIdGenerator:r,isMsEdge:he},ge=function(e,t){var n,r;n=H.getRetainStyleProps(e),n&&(r=X.makeMap(n.split(/[, ]/))),t=me.filter(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("\xa0"):""}]]);var o=H.getWordValidElements(e),i=de({valid_elements:o,valid_children:"-li[p]"});X.each(i.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var a=le({},i);a.addAttributeFilter("style",function(t){for(var n,o=t.length;o--;)n=t[o],n.attr("style",u(e,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()}),a.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),a.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),a.addNodeFilter("a",function(e){for(var t,n,r,o=e.length;o--;)if(t=e[o],n=t.attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var c=a.parse(t);return H.shouldConvertWordFakeLists(e)&&s(c),t=pe({validate:e.settings.validate},i).serialize(c)},ve=function(e,t){return H.shouldUseDefaultFilters(e)?ge(e,t):t},ye={preProcess:ve,isWordContent:o},be=function(e,t){return{content:e,cancelled:t}},we=function(e,t,n,r){var o=e.dom.create("div",{style:"display:none"},t),i=S.firePastePostProcess(e,o,n,r);return be(i.node.innerHTML,i.isDefaultPrevented())},Ce=function(e,t,n,r){var o=S.firePastePreProcess(e,t,n,r);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?we(e,o.content,n,r):be(o.content,o.isDefaultPrevented())},_e=function(e,t,n){var r=ye.isWordContent(t),o=r?ye.preProcess(e,t):t;return Ce(e,o,n,r)},xe={process:_e},Ee=function(e,t){return e.insertContent(t,{merge:H.shouldMergeFormats(e),paste:!0}),!0},Se=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},Oe=function(e){return Se(e)&&/.(gif|jpe?g|png)$/.test(e)},Te=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src="'+t+'">')}),!0},ke=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand("mceInsertLink",!1,t)}),!0},Re=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!Se(t))&&ke(e,t,n)},Pe=function(e,t,n){return!!Oe(t)&&Te(e,t,n)},Ne=function(e,t){X.each([Re,Pe,Ee],function(n){return!0!==n(e,t,Ee)})},Ae=function(e,t){!1===H.isSmartPasteEnabled(e)?Ee(e,t):Ne(e,t)},Ie={isImageUrl:Oe,isAbsoluteUrl:Se,insertContent:Ae},De=function(e,t,n){var r=n||ne.isMarked(t),o=xe.process(e,ne.unmark(t),r);!1===o.cancelled&&Ie.insertContent(e,o.content)},Me=function(e,t){t=e.dom.encode(t).replace(/\r\n/g,"\n"),t=ce.convert(t,e.settings.forced_root_block,e.settings.forced_root_block_attrs),De(e,t,!1)},Le=function(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var o=e.types[r];try{t[o]=e.getData(o)}catch(e){t[o]=""}}}return t},Be=function(e,t){var n=Le(t.clipboardData||e.getDoc().dataTransfer);return me.isMsEdge()?X.extend(n,{"text/html":""}):n},Fe=function(e,t){return t in e&&e[t].length>0},je=function(e){return Fe(e,"text/html")||Fe(e,"text/plain")},Ve=function(e){var t;return t=e.indexOf(","),-1!==t?e.substr(t+1):null},He=function(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(t)},Ue=function(e,t){var n=t.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?e.dom.encode(n[1]):null},ze=me.createIdGenerator("mceclip"),qe=function(e,t,n,r){t&&(e.selection.setRng(t),t=null);var o=n.result,i=Ve(o),a=ze(),s=e.settings.images_reuse_filename&&r.name?Ue(e,r.name):a,u=new Image;if(u.src=o,He(e.settings,u)){var c=e.editorUpload.blobCache,l=void 0,f=void 0;f=c.findFirst(function(e){return e.base64()===i}),f?l=f:(l=c.create(a,r,i,s),c.add(l)),De(e,'<img src="'+l.blobUri()+'">',!1)}else De(e,'<img src="'+o+'">',!1)},We=function(e){return"paste"===e.type},Ge=function(e,t,n){function r(r){var o,i,a,s=!1;if(r)for(o=0;o<r.length;o++)if(i=r[o],/^image\/(jpeg|png|gif|bmp)$/.test(i.type)){var u=i.getAsFile?i.getAsFile():i;a=new window.FileReader,a.onload=qe.bind(null,e,n,a,u),a.readAsDataURL(u),t.preventDefault(),s=!0}return s}var o=We(t)?t.clipboardData:t.dataTransfer;if(e.settings.paste_data_images&&o)return r(o.items)||r(o.files)},Ke=function(e){var t=e.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length},$e=function(e){return Z.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},Ye=function(e,t,n){function r(n,r,o,i){var a,s;if(Fe(n,"text/html")?a=n["text/html"]:(a=t.getHtml(),i=i||ne.isMarked(a),t.isDefaultContent(a)&&(o=!0)),a=me.trimHtml(a),t.remove(),s=!1===i&&ce.isPlainText(a),a.length&&!s||(o=!0),o&&(a=Fe(n,"text/plain")&&s?n["text/plain"]:me.innerText(a)),t.isDefaultContent(a))return void(r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."));o?Me(e,a):De(e,a,i)}var o,i=0;e.on("keydown",function(n){function r(e){$e(e)&&!e.isDefaultPrevented()&&t.remove()}if($e(n)&&!n.isDefaultPrevented()){if((o=n.shiftKey&&86===n.keyCode)&&$.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(n.stopImmediatePropagation(),i=(new Date).getTime(),$.ie&&o)return n.preventDefault(),void S.firePaste(e,!0);t.remove(),t.create(),e.once("keyup",r),e.once("paste",function(){e.off("keyup",r)})}});var a=function(){return t.getLastRng()||e.selection.getRng()};e.on("paste",function(s){var u=(new Date).getTime(),c=Be(e,s),l=(new Date).getTime()-u,f=(new Date).getTime()-i-l<1e3,d="text"===n.get()||o,p=Fe(c,ne.internalHtmlMime());return o=!1,s.isDefaultPrevented()||Ke(s)?void t.remove():!je(c)&&Ge(e,s,a())?void t.remove():(f||s.preventDefault(),!$.ie||f&&!s.ieFake||Fe(c,"text/html")||(t.create(),e.dom.bind(t.getEl(),"paste",function(e){e.stopPropagation()}),e.getDoc().execCommand("Paste",!1,null),c["text/html"]=t.getHtml()),void(Fe(c,"text/html")?(s.preventDefault(),p||(p=ne.isMarked(c["text/html"])),r(c,f,d,p)):Y.setEditorTimeout(e,function(){r(c,f,d,p)},0)))})},Xe=function(e,t,n){Ye(e,t,n);var r;e.parser.addNodeFilter("img",function(t,n,o){var i=function(e){e.attr("data-mce-object")||r===$.transparentSrc||e.remove()};if(!e.settings.paste_data_images&&function(e){return e.data&&!0===e.data.paste}(o))for(var a=t.length;a--;)(r=t[a].attributes.map.src)&&(!function(e){return 0===e.indexOf("webkit-fake-url")}(r)?!e.settings.allow_html_data_urls&&function(e){return 0===e.indexOf("data:")}(r)&&i(t[a]):i(t[a]))})},Ze=function(e){return $.ie&&e.inline?document.body:e.getBody()},Je=function(e){return Ze(e)!==e.getBody()},Qe=function(e,t){Je(e)&&e.dom.bind(t,"paste keyup",function(t){setTimeout(function(){e.fire("paste")},0)})},et=function(e,t,n){var r,o=e.dom,i=e.getBody();t.set(e.selection.getRng()),r=e.dom.add(Ze(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n),($.ie||$.gecko)&&o.setStyle(r,"left","rtl"===o.getStyle(i,"direction",!0)?65535:-65535),o.bind(r,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),Qe(e,r),r.focus(),e.selection.select(r,!0)},tt=function(e,t){if(nt(e)){for(var n=void 0,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)},nt=function(e){return e.dom.get("mcepastebin")},rt=function(e){var t,n,r,o,i,a=function(t,n){t.appendChild(n),e.dom.remove(n,!0)};for(n=X.grep(Ze(e).childNodes,function(e){return"mcepastebin"===e.id}),t=n.shift(),X.each(n,function(e){a(t,e)}),o=e.dom.select("div[id=mcepastebin]",t),r=o.length-1;r>=0;r--)i=e.dom.create("div"),t.insertBefore(i,o[r]),a(i,o[r]);return t?t.innerHTML:""},ot=function(e){return e.get()},it=function(e,t){return t===e},at=function(e){return e&&"mcepastebin"===e.id},st=function(e,t){var n=nt(e);return at(n)&&it(t,n.innerHTML)},ut=function(e){var t=m(null);return{create:function(){return et(e,t,"%MCEPASTEBIN%")},remove:function(){return tt(e,t)},getEl:function(){return nt(e)},getHtml:function(){return rt(e)},getLastRng:function(){return ot(t)},isDefault:function(){return st(e,"%MCEPASTEBIN%")},isDefaultContent:function(e){return it("%MCEPASTEBIN%",e)}}},ct=function(e,t){var n=ut(e);return e.on("preInit",function(){return Xe(e,n,t)}),{pasteFormat:t,pasteHtml:function(t,n){return De(e,t,n)},pasteText:function(t){return Me(e,t)},pasteImageData:function(t,n){return Ge(e,t,n)},getDataTransferItems:Le,hasHtmlOrText:je,hasContentType:Fe}},lt=function(){},ft=function(e){return!1===$.iOS&&void 0!==e&&"function"==typeof e.setData&&!0!==me.isMsEdge()},dt=function(e,t,n){if(!ft(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(ne.internalHtmlMime(),t),!0}catch(e){return!1}},pt=function(e,t,n,r){dt(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},ht=function(e){return function(t,n){var r=ne.mark(t),o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),e.dom.add(e.getBody(),o);var a=e.selection.getRng();i.focus();var s=e.dom.createRng();s.selectNodeContents(i),e.selection.setRng(s),setTimeout(function(){e.selection.setRng(a),o.parentNode.removeChild(o),n()},0)}},mt=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},gt=function(e){return function(t){!1===e.selection.isCollapsed()&&pt(t,mt(e),ht(e),function(){setTimeout(function(){e.execCommand("Delete")},0)})}},vt=function(e){return function(t){!1===e.selection.isCollapsed()&&pt(t,mt(e),ht(e),lt)}},yt=function(e){e.on("cut",gt(e)),e.on("copy",vt(e))},bt={register:yt},wt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ct=function(e,t){return wt.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},_t=function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")},xt=function(e,t){e.focus(),e.selection.setRng(t)},Et=function(e,t,n){H.shouldBlockDrop(e)&&e.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),H.shouldPasteDataImages(e)||e.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),e.on("drop",function(r){var o,i;if(i=Ct(e,r),!r.isDefaultPrevented()&&!n.get()){o=t.getDataTransferItems(r.dataTransfer);var a=t.hasContentType(o,ne.internalHtmlMime());if((t.hasHtmlOrText(o)&&!_t(o)||!t.pasteImageData(r,i))&&i&&H.shouldFilterDrop(e)){var s=o["mce-internal"]||o["text/html"]||o["text/plain"];s&&(r.preventDefault(),Y.setEditorTimeout(e,function(){e.undoManager.transact(function(){o["mce-internal"]&&e.execCommand("Delete"),xt(e,i),s=me.trimHtml(s),o["text/html"]?t.pasteHtml(s,a):t.pasteText(s)})}))}}}),e.on("dragstart",function(e){n.set(!0)}),e.on("dragover dragend",function(t){H.shouldPasteDataImages(e)&&!1===n.get()&&(t.preventDefault(),xt(e,Ct(e,t))),"dragend"===t.type&&n.set(!1)})},St={setup:Et},Ot=function(e){var t=e.plugins.paste,n=H.getPreProcess(e);n&&e.on("PastePreProcess",function(e){n.call(t,t,e)});var r=H.getPostProcess(e);r&&e.on("PastePostProcess",function(e){r.call(t,t,e)})},Tt={setup:Ot},kt=function(e){$.webkit&&c(e,d),$.ie&&(c(e,f),l(e,p))},Rt={setup:kt},Pt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Nt=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e()}},At=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,arguments))}},It=function(e){return function(){return e}},Dt=function(e){return e},Mt=function(e,t){return e===t},Lt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=new Array(arguments.length-1),o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var o=new Array(arguments.length),i=0;i<o.length;i++)o[i]=arguments[i];var a=r.concat(o);return e.apply(null,a)}},Bt=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,arguments)}},Ft=function(e){return function(){throw new Error(e)}},jt=function(e){return e()},Vt=function(e){e()},Ht=It(!1),Ut=It(!0),zt={noop:Pt,noarg:Nt,compose:At,constant:It,identity:Dt,tripleEquals:Mt,curry:Lt,not:Bt,die:Ft,apply:jt,call:Vt,never:Ht,always:Ut},qt=function(e,t,n){var r=n.control;r.active("text"===t.pasteFormat.get()),e.on("PastePlainTextToggle",function(e){r.active(e.state)})},Wt=function(e,t){var n=zt.curry(qt,e,t);e.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:n}),e.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:t.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:n})},Gt={register:Wt};g.add("paste",function(e){if(!1===y.hasProPlugin(e)){var t=m(!1),n=m(!1),r=m(H.isPasteAsTextEnabled(e)?"text":"html"),o=ct(e,r),i=Rt.setup(e);return Gt.register(e,o),K.register(e,o,t),Tt.setup(e),bt.register(e),St.setup(e,o,n),w.get(o,i)}})}()}()},XvrG:function(e,t,n){"use strict";function r(e){return function(t){return 0===e?new s.EmptyObservable:t.lift(new u(e))}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("T14+"),a=n("uT+d"),s=n("fcnB");t.takeLast=r;var u=function(){function e(e){if(this.total=e,this.total<0)throw new a.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,n){e.call(this,t),this.total=n,this.ring=new Array,this.count=0}return o(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;if(t.length<n)t.push(e);else{t[r%n]=e}},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=t++%n;e.next(r[i])}e.complete()},t}(i.Subscriber)},Yuqz:function(e,t,n){"use strict";function r(e){return e}t.identity=r},Z5ED:function(e,t,n){"use strict";function r(){}t.noop=r},ZDe3:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=n("/oeL"),s=n("bm2B"),u=n("wXaq");n("OK8q"),n("6+Fs"),n("OpZN"),n("XW+l"),n("1/Co"),n("Jbqe"),n("4OsP"),n("syXJ"),n("P8Mj");var c=function(){},l=f=function(){function e(e,t){var n=this;this.zone=e,this.config=t,this.elementId="tiny-"+Math.random().toString(36).substring(2),this.onTouchedCallback=c,this.onChangeCallback=c,this.options=Object.assign(new u.TinymceDefaultOptions,this.config),this.options.selector="#"+this.elementId,this.options.setup=function(e){n.editor=e,e.on("change keyup",function(){var t=e.getContent();n.value=t}),"function"==typeof n.config.setup&&n.config.setup(e)},this.options.init_instance_callback=function(e){e&&n.value&&e.setContent(n.value),"function"==typeof n.config.init_instance_callback&&n.config.init_instance_callback(e)},this.config.auto_focus&&(this.options.auto_focus=this.elementId)}return e.prototype.ngAfterViewInit=function(){this.options.baseURL&&(tinymce.baseURL=this.options.baseURL),tinymce.init(this.options)},e.prototype.ngOnDestroy=function(){tinymce.remove(this.editor)},Object.defineProperty(e.prototype,"value",{get:function(){return this.innerValue},set:function(e){var t=this;e!==this.innerValue&&(this.innerValue=e,this.zone.run(function(){t.onChangeCallback(e)}))},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){e!==this.innerValue&&(this.innerValue=e,e||(e=""),this.editor&&this.editor.setContent(e))},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e}();l=f=r([a.Component({selector:"app-tinymce",template:'<div id="{{elementId}}"></div>',providers:[{provide:s.NG_VALUE_ACCESSOR,useExisting:a.forwardRef(function(){return f}),multi:!0}]}),i(1,a.Inject("TINYMCE_CONFIG")),o("design:paramtypes",[a.NgZone,Object])],l),t.TinymceComponent=l;var f},aOKN:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("bKpL"),i=function(e){function t(t,n){e.call(this),this.value=t,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.done,n=e.value,r=e.subscriber;if(t)return void r.complete();r.next(n),r.closed||(e.done=!0,this.schedule(e))},t.prototype._subscribe=function(e){var n=this.value,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{done:!1,value:n,subscriber:e});e.next(n),e.closed||e.complete()},t}(o.Observable);t.ScalarObservable=i},bKpL:function(e,t,n){"use strict";var r=n("zijX"),o=n("rf3q"),i=n("DP67"),a=n("vxPf"),s=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=o.toSubscriber(e,t,n);if(r?r.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var o;o=n.subscribe(function(t){if(o)try{e(t)}catch(e){r(e),o.unsubscribe()}else e(t)},r,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();t.Observable=s},bm2B:function(e,t,n){"use strict";function r(e){return null==e||0===e.length}function o(e){return null!=e}function i(e){var t=Object(D["\u0275isPromise"])(e)?Object(L.fromPromise)(e):e;if(!Object(D["\u0275isObservable"])(t))throw new Error("Expected validator to return Promise or Observable.");return t}function a(e,t){return t.map(function(t){return t(e)})}function s(e,t){return t.map(function(t){return t(e)})}function u(e){var t=e.reduce(function(e,t){return null!=t?Object.assign({},e,t):e},{});return 0===Object.keys(t).length?null:t}function c(){return/android (\d+)/.test((Object(F.t)()?Object(F.t)().getUserAgent():"").toLowerCase())}function l(e){return e.validate?function(t){return e.validate(t)}:e}function f(e){return e.validate?function(t){return e.validate(t)}:e}function d(){throw new Error("unimplemented")}function p(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}function h(e){return e.split(":")[0]}function m(e,t){return null==e?""+t:("string"==typeof t&&(t="'"+t+"'"),t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}function g(e){return e.split(":")[0]}function v(e,t){return t.path.concat([e])}function y(e,t){e||_(t,"Cannot find control with"),t.valueAccessor||_(t,"No value accessor for form control with"),e.validator=q.compose([e.validator,t.validator]),e.asyncValidator=q.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),t.valueAccessor.registerOnChange(function(n){t.viewToModelUpdate(n),e.markAsDirty(),e.setValue(n,{emitModelToViewChange:!1})}),t.valueAccessor.registerOnTouched(function(){return e.markAsTouched()}),e.registerOnChange(function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(function(e){t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})}),t._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})})}function b(e,t){t.valueAccessor.registerOnChange(function(){return C(t)}),t.valueAccessor.registerOnTouched(function(){return C(t)}),t._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}function w(e,t){null==e&&_(t,"Cannot find control with"),e.validator=q.compose([e.validator,t.validator]),e.asyncValidator=q.composeAsync([e.asyncValidator,t.asyncValidator])}function C(e){return _(e,"There is no FormControl instance attached to form control element with")}function _(e,t){var n;throw n=e.path.length>1?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new Error(t+" "+n)}function x(e){return null!=e?q.compose(e.map(l)):null}function E(e){return null!=e?q.composeAsync(e.map(f)):null}function S(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(D["\u0275looseIdentical"])(t,n.currentValue)}function O(e){return fe.some(function(t){return e.constructor===t})}function T(e,t){if(!t)return null;var n=void 0,r=void 0,o=void 0;return t.forEach(function(t){t.constructor===X?n=t:O(t)?(r&&_(e,"More than one built-in value accessor matches form control with"),r=t):(o&&_(e,"More than one custom value accessor matches form control with"),o=t)}),o||(r||(n||(_(e,"No valid value accessor for form control with"),null)))}function k(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(n)),t instanceof Array&&0===t.length?null:t.reduce(function(e,t){return e instanceof be?e.controls[t]||null:e instanceof we?e.at(t)||null:null},e))}function R(e){return Array.isArray(e)?x(e):e||null}function P(e){return Array.isArray(e)?E(e):e||null}function N(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function A(e){return!(e instanceof Be||e instanceof Me||e instanceof je)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"AbstractControlDirective",function(){return j}),n.d(t,"AbstractFormGroupDirective",function(){return de}),n.d(t,"CheckboxControlValueAccessor",function(){return K}),n.d(t,"ControlContainer",function(){return V}),n.d(t,"NG_VALUE_ACCESSOR",function(){return W}),n.d(t,"COMPOSITION_BUFFER_MODE",function(){return Y}),n.d(t,"DefaultValueAccessor",function(){return X}),n.d(t,"NgControl",function(){return Q}),n.d(t,"NgControlStatus",function(){return me}),n.d(t,"NgControlStatusGroup",function(){return ge}),n.d(t,"NgForm",function(){return xe}),n.d(t,"NgModel",function(){return Pe}),n.d(t,"NgModelGroup",function(){return Te}),n.d(t,"RadioControlValueAccessor",function(){return ne}),n.d(t,"FormControlDirective",function(){return Ie}),n.d(t,"FormControlName",function(){return He}),n.d(t,"FormGroupDirective",function(){return Me}),n.d(t,"FormArrayName",function(){return je}),n.d(t,"FormGroupName",function(){return Be}),n.d(t,"NgSelectOption",function(){return se}),n.d(t,"SelectControlValueAccessor",function(){return ae}),n.d(t,"SelectMultipleControlValueAccessor",function(){return ce}),n.d(t,"CheckboxRequiredValidator",function(){return We}),n.d(t,"EmailValidator",function(){return Ke}),n.d(t,"MaxLengthValidator",function(){return Ze}),n.d(t,"MinLengthValidator",function(){return Ye}),n.d(t,"PatternValidator",function(){return Qe}),n.d(t,"RequiredValidator",function(){return qe}),n.d(t,"FormBuilder",function(){return et}),n.d(t,"AbstractControl",function(){return ve}),n.d(t,"FormArray",function(){return we}),n.d(t,"FormControl",function(){return ye}),n.d(t,"FormGroup",function(){return be}),n.d(t,"NG_ASYNC_VALIDATORS",function(){return U}),n.d(t,"NG_VALIDATORS",function(){return H}),n.d(t,"Validators",function(){return q}),n.d(t,"VERSION",function(){return tt}),n.d(t,"FormsModule",function(){return st}),n.d(t,"ReactiveFormsModule",function(){return ut}),n.d(t,"\u0275ba",function(){return at}),n.d(t,"\u0275z",function(){return it}),n.d(t,"\u0275x",function(){return rt}),n.d(t,"\u0275y",function(){return ot}),n.d(t,"\u0275a",function(){return G}),n.d(t,"\u0275b",function(){return $}),n.d(t,"\u0275c",function(){return pe}),n.d(t,"\u0275d",function(){return he}),n.d(t,"\u0275e",function(){return Ce}),n.d(t,"\u0275f",function(){return ke}),n.d(t,"\u0275g",function(){return Oe}),n.d(t,"\u0275bf",function(){return nt}),n.d(t,"\u0275bb",function(){return Z}),n.d(t,"\u0275bc",function(){return J}),n.d(t,"\u0275h",function(){return ee}),n.d(t,"\u0275i",function(){return te}),n.d(t,"\u0275bd",function(){return re}),n.d(t,"\u0275be",function(){return oe}),n.d(t,"\u0275j",function(){return Ae}),n.d(t,"\u0275k",function(){return Ve}),n.d(t,"\u0275l",function(){return De}),n.d(t,"\u0275n",function(){return Fe}),n.d(t,"\u0275m",function(){return Le}),n.d(t,"\u0275o",function(){return ie}),n.d(t,"\u0275q",function(){return le}),n.d(t,"\u0275p",function(){return ue}),n.d(t,"\u0275s",function(){return ze}),n.d(t,"\u0275t",function(){return Ge}),n.d(t,"\u0275v",function(){return Xe}),n.d(t,"\u0275u",function(){return $e}),n.d(t,"\u0275w",function(){return Je}),n.d(t,"\u0275r",function(){return Ue});var I=n("6Xbx"),D=n("/oeL"),M=n("Fhmd"),L=(n.n(M),n("QU9E")),B=(n.n(L),n("lx+J")),F=(n.n(B),n("fc+i")),j=function(){function e(){}return e.prototype.control=function(){},Object.defineProperty(e.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),this.control&&this.control.reset(e)},e.prototype.hasError=function(e,t){return!!this.control&&this.control.hasError(e,t)},e.prototype.getError=function(e,t){return this.control?this.control.getError(e,t):null},e}(),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I.a(t,e),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(j),H=new D.InjectionToken("NgValidators"),U=new D.InjectionToken("NgAsyncValidators"),z=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,q=function(){function e(){}return e.min=function(e){return function(t){if(r(t.value)||r(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}},e.max=function(e){return function(t){if(r(t.value)||r(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}},e.required=function(e){return r(e.value)?{required:!0}:null},e.requiredTrue=function(e){return!0===e.value?null:{required:!0}},e.email=function(e){return z.test(e.value)?null:{email:!0}},e.minLength=function(e){return function(t){if(r(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}},e.maxLength=function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}},e.pattern=function(t){if(!t)return e.nullValidator;var n,o;return"string"==typeof t?(o="^"+t+"$",n=new RegExp(o)):(o=t.toString(),n=t),function(e){if(r(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:o,actualValue:t}}}},e.nullValidator=function(e){return null},e.compose=function(e){if(!e)return null;var t=e.filter(o);return 0==t.length?null:function(e){return u(a(e,t))}},e.composeAsync=function(e){if(!e)return null;var t=e.filter(o);return 0==t.length?null:function(e){var n=s(e,t).map(i);return B.map.call(Object(M.forkJoin)(n),u)}},e}(),W=new D.InjectionToken("NgValueAccessor"),G={provide:W,useExisting:Object(D.forwardRef)(function(){return K}),multi:!0},K=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}();K.decorators=[{type:D.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[G]}]}],K.ctorParameters=function(){return[{type:D.Renderer2},{type:D.ElementRef}]};var $={provide:W,useExisting:Object(D.forwardRef)(function(){return X}),multi:!0},Y=new D.InjectionToken("CompositionEventMode"),X=function(){function e(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!c())}return e.prototype.writeValue=function(e){var t=null==e?"":e;this._renderer.setProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._handleInput=function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)},e.prototype._compositionStart=function(){this._composing=!0},e.prototype._compositionEnd=function(e){this._composing=!1,this._compositionMode&&this.onChange(e)},e}();X.decorators=[{type:D.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"_handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"_compositionStart()","(compositionend)":"_compositionEnd($event.target.value)"},providers:[$]}]}],X.ctorParameters=function(){return[{type:D.Renderer2},{type:D.ElementRef},{type:void 0,decorators:[{type:D.Optional},{type:D.Inject,args:[Y]}]}]};var Z={provide:W,useExisting:Object(D.forwardRef)(function(){return J}),multi:!0},J=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=null==e?"":e;this._renderer.setProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}();J.decorators=[{type:D.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Z]}]}],J.ctorParameters=function(){return[{type:D.Renderer2},{type:D.ElementRef}]};var Q=function(e){function t(){var t=e.apply(this,arguments)||this;return t._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return I.a(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return d()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return d()},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){},t}(j),ee={provide:W,useExisting:Object(D.forwardRef)(function(){return ne}),multi:!0},te=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&(e[0]._parent===t._control._parent&&e[1].name===t.name)},e}();te.decorators=[{type:D.Injectable}],te.ctorParameters=function(){return[]};var ne=function(){function e(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(Q),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},e}();ne.decorators=[{type:D.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[ee]}]}],ne.ctorParameters=function(){return[{type:D.Renderer2},{type:D.ElementRef},{type:te},{type:D.Injector}]},ne.propDecorators={name:[{type:D.Input}],formControlName:[{type:D.Input}],value:[{type:D.Input}]};var re={provide:W,useExisting:Object(D.forwardRef)(function(){return oe}),multi:!0},oe=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}();oe.decorators=[{type:D.Directive,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[re]}]}],oe.ctorParameters=function(){return[{type:D.Renderer2},{type:D.ElementRef}]};var ie={provide:W,useExisting:Object(D.forwardRef)(function(){return ae}),multi:!0},ae=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=D["\u0275looseIdentical"]}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=p(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null},e.prototype._getOptionValue=function(e){var t=h(e);return this._optionMap.has(t)?this._optionMap.get(t):e},e}();ae.decorators=[{type:D.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[ie]}]}],ae.ctorParameters=function(){return[{type:D.Renderer2},{type:D.ElementRef}]},ae.propDecorators={compareWith:[{type:D.Input}]};var se=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(p(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();se.decorators=[{type:D.Directive,args:[{selector:"option"}]}],se.ctorParameters=function(){return[{type:D.ElementRef},{type:D.Renderer2},{type:ae,decorators:[{type:D.Optional},{type:D.Host}]}]},se.propDecorators={ngValue:[{type:D.Input,args:["ngValue"]}],value:[{type:D.Input,args:["value"]}]};var ue={provide:W,useExisting:Object(D.forwardRef)(function(){return ce}),multi:!0},ce=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=D["\u0275looseIdentical"]}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){var t=this;this.value=e;var n;if(Array.isArray(e)){var r=e.map(function(e){return t._getOptionId(e)});n=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else n=function(e,t){e._setSelected(!1)};this._optionMap.forEach(n)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var o=n.selectedOptions,i=0;i<o.length;i++){var a=o.item(i),s=t._getOptionValue(a.value);r.push(s)}else for(var o=n.options,i=0;i<o.length;i++){var a=o.item(i);if(a.selected){var s=t._getOptionValue(a.value);r.push(s)}}t.value=r,e(r)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null},e.prototype._getOptionValue=function(e){var t=g(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e},e}();ce.decorators=[{type:D.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[ue]}]}],ce.ctorParameters=function(){return[{type:D.Renderer2},{type:D.ElementRef}]},ce.propDecorators={compareWith:[{type:D.Input}]};var le=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._value=e,this._setElementValue(m(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._select?(this._value=e,this._setElementValue(m(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)},e.prototype._setSelected=function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();le.decorators=[{type:D.Directive,args:[{selector:"option"}]}],le.ctorParameters=function(){return[{type:D.ElementRef},{type:D.Renderer2},{type:ce,decorators:[{type:D.Optional},{type:D.Host}]}]},le.propDecorators={ngValue:[{type:D.Input,args:["ngValue"]}],value:[{type:D.Input,args:["value"]}]};var fe=[K,oe,J,ae,ce,ne],de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I.a(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return v(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return x(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return E(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(V),pe=function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),e}(),he={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},me=function(e){function t(t){return e.call(this,t)||this}return I.a(t,e),t}(pe);me.decorators=[{type:D.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:he}]}],me.ctorParameters=function(){return[{type:Q,decorators:[{type:D.Self}]}]};var ge=function(e){function t(t){return e.call(this,t)||this}return I.a(t,e),t}(pe);ge.decorators=[{type:D.Directive,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:he}]}],ge.ctorParameters=function(){return[{type:V,decorators:[{type:D.Self}]}]};var ve=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,this._onDisabledChange=[]}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return"VALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return"INVALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return"PENDING"==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return"DISABLED"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return"DISABLED"!==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),e.prototype.setValidators=function(e){this.validator=R(e)},e.prototype.setAsyncValidators=function(e){this.asyncValidator=P(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.markAsTouched=function(e){void 0===e&&(e={}),this._touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)},e.prototype.markAsUntouched=function(e){void 0===e&&(e={}),this._touched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype.markAsDirty=function(e){void 0===e&&(e={}),this._pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)},e.prototype.markAsPristine=function(e){void 0===e&&(e={}),this._pristine=!0,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype.markAsPending=function(e){void 0===e&&(e={}),this._status="PENDING",this._parent&&!e.onlySelf&&this._parent.markAsPending(e)},e.prototype.disable=function(e){void 0===e&&(e={}),this._status="DISABLED",this._errors=null,this._forEachChild(function(e){e.disable({onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(!!e.onlySelf),this._onDisabledChange.forEach(function(e){return e(!0)})},e.prototype.enable=function(e){void 0===e&&(e={}),this._status="VALID",this._forEachChild(function(e){e.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(!!e.onlySelf),this._onDisabledChange.forEach(function(e){return e(!1)})},e.prototype._updateAncestors=function(e){this._parent&&!e&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},e.prototype.setParent=function(e){this._parent=e},e.prototype.setValue=function(e,t){},e.prototype.patchValue=function(e,t){},e.prototype.reset=function(e,t){},e.prototype.updateValueAndValidity=function(e){void 0===e&&(e={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this._errors=this._runValidator(),this._status=this._calculateStatus(),"VALID"!==this._status&&"PENDING"!==this._status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)},e.prototype._updateTreeValidity=function(e){void 0===e&&(e={emitEvent:!0}),this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})},e.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?"DISABLED":"VALID"},e.prototype._runValidator=function(){return this.validator?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(this.asyncValidator){this._status="PENDING";var n=i(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return t.setErrors(n,{emitEvent:e})})}},e.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){void 0===t&&(t={}),this._errors=e,this._updateControlsErrors(!1!==t.emitEvent)},e.prototype.get=function(e){return k(this,e,".")},e.prototype.getError=function(e,t){var n=t?this.get(t):this;return n&&n._errors?n._errors[e]:null},e.prototype.hasError=function(e,t){return!!this.getError(e,t)},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;e._parent;)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this._status=this._calculateStatus(),e&&this._statusChanges.emit(this._status),this._parent&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this._valueChanges=new D.EventEmitter,this._statusChanges=new D.EventEmitter},e.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this._errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},e.prototype._updateValue=function(){},e.prototype._forEachChild=function(e){},e.prototype._anyControls=function(e){},e.prototype._allControlsDisabled=function(){},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status===e})},e.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},e.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},e.prototype._updatePristine=function(e){void 0===e&&(e={}),this._pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype._updateTouched=function(e){void 0===e&&(e={}),this._touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype._isBoxedValue=function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e},e.prototype._registerOnCollectionChange=function(e){this._onCollectionChange=e},e}(),ye=function(e){function t(t,n,r){void 0===t&&(t=null);var o=e.call(this,R(n),P(r))||this;return o._onChange=[],o._applyFormState(t),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o._initObservables(),o}return I.a(t,e),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._value=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(function(e){return e(n._value,!1!==t.emitViewToModelChange)}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null),void 0===t&&(t={}),this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this._value,t)},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},t.prototype.registerOnDisabledChange=function(e){this._onDisabledChange.push(e)},t.prototype._forEachChild=function(e){},t.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this._value=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=e},t}(ve),be=function(e){function t(t,n,r){var o=e.call(this,n||null,r||null)||this;return o.controls=t,o._initObservables(),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return I.a(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeControl=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.contains=function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled},t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),Object.keys(e).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof ye?t.value:t.getRawValue(),e})},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){var t=this;Object.keys(this.controls).forEach(function(n){return e(t.controls[n],n)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})},t.prototype._updateValue=function(){this._value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,n=!1;return this._forEachChild(function(r,o){n=n||t.contains(o)&&e(r)}),n},t.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})},t.prototype._reduceChildren=function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n},t.prototype._allControlsDisabled=function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},t}(ve),we=function(e){function t(t,n,r){var o=e.call(this,n||null,r||null)||this;return o.controls=t,o._initObservables(),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return I.a(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.insert=function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeAt=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),e.forEach(function(e,r){n._throwIfControlMissing(r),n.at(r).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),e.forEach(function(e,r){n.at(r)&&n.at(r).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this.controls.map(function(e){return e instanceof ye?e.value:e.getRawValue()})},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(t,n){e(t,n)})},t.prototype._updateValue=function(){var e=this;this._value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})},t.prototype._anyControls=function(e){return this.controls.some(function(t){return t.enabled&&e(t)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: "+n+".")})},t.prototype._allControlsDisabled=function(){for(var e=0,t=this.controls;e<t.length;e++){if(t[e].enabled)return!1}return this.controls.length>0||this.disabled},t.prototype._registerControl=function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)},t}(ve),Ce={provide:V,useExisting:Object(D.forwardRef)(function(){return xe})},_e=Promise.resolve(null),xe=function(e){function t(t,n){var r=e.call(this)||this;return r._submitted=!1,r.ngSubmit=new D.EventEmitter,r.form=new be({},x(t),E(n)),r}return I.a(t,e),Object.defineProperty(t.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this;_e.then(function(){var n=t._findContainer(e.path);e._control=n.registerControl(e.name,e.control),y(e.control,e),e.control.updateValueAndValidity({emitEvent:!1})})},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var t=this;_e.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})},t.prototype.addFormGroup=function(e){var t=this;_e.then(function(){var n=t._findContainer(e.path),r=new be({});w(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})},t.prototype.removeFormGroup=function(e){var t=this;_e.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var n=this;_e.then(function(){n.form.get(e.path).setValue(t)})},t.prototype.setValue=function(e){this.control.setValue(e)},t.prototype.onSubmit=function(e){return this._submitted=!0,this.ngSubmit.emit(e),!1},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this._submitted=!1},t.prototype._findContainer=function(e){return e.pop(),e.length?this.form.get(e):this.form},t}(V);xe.decorators=[{type:D.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[Ce],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],xe.ctorParameters=function(){return[{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[H]}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[U]}]}]};var Ee={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '},Se=function(){function e(){}return e.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+Ee.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+Ee.ngModelWithFormGroup)},e.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+Ee.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Ee.ngModelGroup)},e.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},e.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+Ee.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Ee.ngModelGroup)},e}(),Oe={provide:V,useExisting:Object(D.forwardRef)(function(){return Te})},Te=function(e){function t(t,n,r){var o=e.call(this)||this;return o._parent=t,o._validators=n,o._asyncValidators=r,o}return I.a(t,e),t.prototype._checkParentType=function(){this._parent instanceof t||this._parent instanceof xe||Se.modelGroupParentException()},t}(de);Te.decorators=[{type:D.Directive,args:[{selector:"[ngModelGroup]",providers:[Oe],exportAs:"ngModelGroup"}]}],Te.ctorParameters=function(){return[{type:V,decorators:[{type:D.Host},{type:D.SkipSelf}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[H]}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[U]}]}]},Te.propDecorators={name:[{type:D.Input,args:["ngModelGroup"]}]};var ke={provide:Q,useExisting:Object(D.forwardRef)(function(){return Pe})},Re=Promise.resolve(null),Pe=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i._control=new ye,i._registered=!1,i.update=new D.EventEmitter,i._parent=t,i._rawValidators=n||[],i._rawAsyncValidators=r||[],i.valueAccessor=T(i,o),i}return I.a(t,e),t.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),S(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._parent?v(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return x(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return E(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},t.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},t.prototype._setUpStandalone=function(){y(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},t.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},t.prototype._checkParentType=function(){!(this._parent instanceof Te)&&this._parent instanceof de?Se.formGroupNameException():this._parent instanceof Te||this._parent instanceof xe||Se.modelParentException()},t.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Se.missingNameException()},t.prototype._updateValue=function(e){var t=this;Re.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})},t.prototype._updateDisabled=function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;Re.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})},t}(Q);Pe.decorators=[{type:D.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[ke],exportAs:"ngModel"}]}],Pe.ctorParameters=function(){return[{type:V,decorators:[{type:D.Optional},{type:D.Host}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[H]}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[U]}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[W]}]}]},Pe.propDecorators={name:[{type:D.Input}],isDisabled:[{type:D.Input,args:["disabled"]}],model:[{type:D.Input,args:["ngModel"]}],options:[{type:D.Input,args:["ngModelOptions"]}],update:[{type:D.Output,args:["ngModelChange"]}]};var Ne=function(){function e(){}return e.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Ee.formControlName)},e.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+Ee.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+Ee.ngModelGroup)},e.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Ee.formControlName)},e.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Ee.formGroupName)},e.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+Ee.formArrayName)},e.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},e}(),Ae={provide:Q,useExisting:Object(D.forwardRef)(function(){return Ie})},Ie=function(e){function t(t,n,r){var o=e.call(this)||this;return o.update=new D.EventEmitter,o._rawValidators=t||[],o._rawAsyncValidators=n||[],o.valueAccessor=T(o,r),o}return I.a(t,e),Object.defineProperty(t.prototype,"isDisabled",{set:function(e){Ne.disabledAttrWarning()},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){this._isControlChanged(e)&&(y(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),S(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return x(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return E(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._isControlChanged=function(e){return e.hasOwnProperty("form")},t}(Q);Ie.decorators=[{type:D.Directive,args:[{selector:"[formControl]",providers:[Ae],exportAs:"ngForm"}]}],Ie.ctorParameters=function(){return[{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[H]}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[U]}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[W]}]}]},Ie.propDecorators={form:[{type:D.Input,args:["formControl"]}],model:[{type:D.Input,args:["ngModel"]}],update:[{type:D.Output,args:["ngModelChange"]}],isDisabled:[{type:D.Input,args:["disabled"]}]};var De={provide:V,useExisting:Object(D.forwardRef)(function(){return Me})},Me=function(e){function t(t,n){var r=e.call(this)||this;return r._validators=t,r._asyncValidators=n,r._submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new D.EventEmitter,r}return I.a(t,e),t.prototype.ngOnChanges=function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(t.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this.form.get(e.path);return y(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){N(this.directives,e)},t.prototype.addFormGroup=function(e){var t=this.form.get(e.path);w(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormGroup=function(e){},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.addFormArray=function(e){var t=this.form.get(e.path);w(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormArray=function(e){},t.prototype.getFormArray=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){this.form.get(e.path).setValue(t)},t.prototype.onSubmit=function(e){return this._submitted=!0,this.ngSubmit.emit(e),!1},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this._submitted=!1},t.prototype._updateDomValue=function(){var e=this;this.directives.forEach(function(t){var n=e.form.get(t.path);t._control!==n&&(b(t._control,t),n&&y(n,t),t._control=n)}),this.form._updateTreeValidity({emitEvent:!1})},t.prototype._updateRegistrations=function(){var e=this;this.form._registerOnCollectionChange(function(){return e._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},t.prototype._updateValidators=function(){var e=x(this._validators);this.form.validator=q.compose([this.form.validator,e]);var t=E(this._asyncValidators);this.form.asyncValidator=q.composeAsync([this.form.asyncValidator,t])},t.prototype._checkFormPresent=function(){this.form||Ne.missingFormException()},t}(V);Me.decorators=[{type:D.Directive,args:[{selector:"[formGroup]",providers:[De],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],Me.ctorParameters=function(){return[{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[H]}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[U]}]}]},Me.propDecorators={form:[{type:D.Input,args:["formGroup"]}],ngSubmit:[{type:D.Output}]};var Le={provide:V,useExisting:Object(D.forwardRef)(function(){return Be})},Be=function(e){function t(t,n,r){var o=e.call(this)||this;return o._parent=t,o._validators=n,o._asyncValidators=r,o}return I.a(t,e),t.prototype._checkParentType=function(){A(this._parent)&&Ne.groupParentException()},t}(de);Be.decorators=[{type:D.Directive,args:[{selector:"[formGroupName]",providers:[Le]}]}],Be.ctorParameters=function(){return[{type:V,decorators:[{type:D.Optional},{type:D.Host},{type:D.SkipSelf}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[H]}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[U]}]}]},Be.propDecorators={name:[{type:D.Input,args:["formGroupName"]}]};var Fe={provide:V,useExisting:Object(D.forwardRef)(function(){return je})},je=function(e){function t(t,n,r){var o=e.call(this)||this;return o._parent=t,o._validators=n,o._asyncValidators=r,o}return I.a(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return v(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return x(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return E(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){A(this._parent)&&Ne.arrayParentException()},t}(V);je.decorators=[{type:D.Directive,args:[{selector:"[formArrayName]",providers:[Fe]}]}],je.ctorParameters=function(){return[{type:V,decorators:[{type:D.Optional},{type:D.Host},{type:D.SkipSelf}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[H]}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[U]}]}]},je.propDecorators={name:[{type:D.Input,args:["formArrayName"]}]};var Ve={provide:Q,useExisting:Object(D.forwardRef)(function(){return He})},He=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i._added=!1,i.update=new D.EventEmitter,i._parent=t,i._rawValidators=n||[],i._rawAsyncValidators=r||[],i.valueAccessor=T(i,o),i}return I.a(t,e),Object.defineProperty(t.prototype,"isDisabled",{set:function(e){Ne.disabledAttrWarning()},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){this._added||this._setUpControl(),S(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},Object.defineProperty(t.prototype,"path",{get:function(){return v(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return x(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return E(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){!(this._parent instanceof Be)&&this._parent instanceof de?Ne.ngModelGroupException():this._parent instanceof Be||this._parent instanceof Me||this._parent instanceof je||Ne.controlParentException()},t.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},t}(Q);He.decorators=[{type:D.Directive,args:[{selector:"[formControlName]",providers:[Ve]}]}],He.ctorParameters=function(){return[{type:V,decorators:[{type:D.Optional},{type:D.Host},{type:D.SkipSelf}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[H]}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[U]}]},{type:Array,decorators:[{type:D.Optional},{type:D.Self},{type:D.Inject,args:[W]}]}]},He.propDecorators={name:[{type:D.Input,args:["formControlName"]}],model:[{type:D.Input,args:["ngModel"]}],update:[{type:D.Output,args:["ngModelChange"]}],isDisabled:[{type:D.Input,args:["disabled"]}]};var Ue={provide:H,useExisting:Object(D.forwardRef)(function(){return qe}),multi:!0},ze={provide:H,useExisting:Object(D.forwardRef)(function(){return We}),multi:!0},qe=function(){function e(){}return Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),e.prototype.validate=function(e){return this.required?q.required(e):null},e.prototype.registerOnValidatorChange=function(e){this._onChange=e},e}();qe.decorators=[{type:D.Directive,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[Ue],host:{"[attr.required]":'required ? "" : null'}}]}],qe.ctorParameters=function(){return[]},qe.propDecorators={required:[{type:D.Input}]};var We=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I.a(t,e),t.prototype.validate=function(e){return this.required?q.requiredTrue(e):null},t}(qe);We.decorators=[{type:D.Directive,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[ze],host:{"[attr.required]":'required ? "" : null'}}]}],We.ctorParameters=function(){return[]};var Ge={provide:H,useExisting:Object(D.forwardRef)(function(){return Ke}),multi:!0},Ke=function(){function e(){}return Object.defineProperty(e.prototype,"email",{set:function(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),e.prototype.validate=function(e){return this._enabled?q.email(e):null},e.prototype.registerOnValidatorChange=function(e){this._onChange=e},e}();Ke.decorators=[{type:D.Directive,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[Ge]}]}],Ke.ctorParameters=function(){return[]},Ke.propDecorators={email:[{type:D.Input}]};var $e={provide:H,useExisting:Object(D.forwardRef)(function(){return Ye}),multi:!0},Ye=function(){function e(){}return e.prototype.ngOnChanges=function(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())},e.prototype.validate=function(e){return null==this.minlength?null:this._validator(e)},e.prototype.registerOnValidatorChange=function(e){this._onChange=e},e.prototype._createValidator=function(){this._validator=q.minLength(parseInt(this.minlength,10))},e}();Ye.decorators=[{type:D.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[$e],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],Ye.ctorParameters=function(){return[]},Ye.propDecorators={minlength:[{type:D.Input}]};var Xe={provide:H,useExisting:Object(D.forwardRef)(function(){return Ze}),multi:!0},Ze=function(){function e(){}return e.prototype.ngOnChanges=function(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())},e.prototype.validate=function(e){return null!=this.maxlength?this._validator(e):null},e.prototype.registerOnValidatorChange=function(e){this._onChange=e},e.prototype._createValidator=function(){this._validator=q.maxLength(parseInt(this.maxlength,10))},e}();Ze.decorators=[{type:D.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[Xe],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],Ze.ctorParameters=function(){return[]},Ze.propDecorators={maxlength:[{type:D.Input}]};var Je={provide:H,useExisting:Object(D.forwardRef)(function(){return Qe}),multi:!0},Qe=function(){function e(){}return e.prototype.ngOnChanges=function(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())},e.prototype.validate=function(e){return this._validator(e)},e.prototype.registerOnValidatorChange=function(e){this._onChange=e},e.prototype._createValidator=function(){this._validator=q.pattern(this.pattern)},e}();Qe.decorators=[{type:D.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[Je],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],Qe.ctorParameters=function(){return[]},Qe.propDecorators={pattern:[{type:D.Input}]};var et=function(){function e(){}return e.prototype.group=function(e,t){void 0===t&&(t=null);var n=this._reduceControls(e),r=null!=t?t.validator:null,o=null!=t?t.asyncValidator:null;return new be(n,r,o)},e.prototype.control=function(e,t,n){return new ye(e,t,n)},e.prototype.array=function(e,t,n){var r=this,o=e.map(function(e){return r._createControl(e)});return new we(o,t,n)},e.prototype._reduceControls=function(e){var t=this,n={};return Object.keys(e).forEach(function(r){n[r]=t._createControl(e[r])}),n},e.prototype._createControl=function(e){if(e instanceof ye||e instanceof be||e instanceof we)return e;if(Array.isArray(e)){var t=e[0],n=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(t,n,r)}return this.control(e)},e}();et.decorators=[{type:D.Injectable}],et.ctorParameters=function(){return[]};var tt=new D.Version("4.4.7"),nt=function(){function e(){}return e}();nt.decorators=[{type:D.Directive,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}],nt.ctorParameters=function(){return[]};var rt=[nt,se,le,X,J,oe,K,ae,ce,ne,me,ge,qe,Ye,Ze,Qe,We,Ke],ot=[Pe,Te,xe],it=[Ie,Me,He,Be,je],at=function(){function e(){}return e}();at.decorators=[{type:D.NgModule,args:[{declarations:rt,exports:rt}]}],at.ctorParameters=function(){return[]};var st=function(){function e(){}return e}();st.decorators=[{type:D.NgModule,args:[{declarations:ot,providers:[te],exports:[at,ot]}]}],st.ctorParameters=function(){return[]};var ut=function(){function e(){}return e}();ut.decorators=[{type:D.NgModule,args:[{declarations:[it],providers:[et,te],exports:[at,it]}]}],ut.ctorParameters=function(){return[]}},cPhF:function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),o.mergeMap(e,t,n)(this)}var o=n("mjx3");t.mergeMap=r},dkwD:function(e,t,n){"use strict";var r=n("zijX"),o=r.root.Symbol;t.rxSubscriber="function"==typeof o&&"function"==typeof o.for?o.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},"er/+":function(e,t,n){"use strict";t.TEMPLATE='<div\n    #selection\n    [attr.tabindex]="disabled ? null : 0"\n    [ngClass]="{\'open\': isOpen, \'focus\': hasFocus, \'below\': isBelow, \'disabled\': disabled}"\n    (click)="onSelectContainerClick($event)"\n    (focus)="onSelectContainerFocus()"\n    (keydown)="onSelectContainerKeydown($event)"\n    (window:click)="onWindowClick()"\n    (window:resize)="onWindowResize()">\n\n    <div class="single"\n        *ngIf="!multiple">\n        <div class="value"\n            *ngIf="optionList.hasSelected()">\n            {{optionList.selection[0].label}}\n        </div>\n        <div class="placeholder"\n            *ngIf="!optionList.hasSelected()">\n            {{placeholderView}}\n        </div>\n        <div class="clear"\n            *ngIf="allowClear && hasSelected"\n            (click)="onClearSelectionClick($event)">\n            &#x2715;\n        </div>\n        <div class="toggle"\n            *ngIf="isOpen">\n            &#x25B2;\n        </div>\n        <div class="toggle"\n            *ngIf="!isOpen">\n            &#x25BC;\n        </div>\n    </div>\n\n    <div class="multiple"\n        *ngIf="multiple">\n        <div class="option"\n            *ngFor="let option of optionList.selection">\n            <span class="deselect-option"\n                (click)=onDeselectOptionClick(option)>\n                &#x2715;\n            </span>\n            {{option.label}}\n        </div>\n        <input\n            *ngIf="filterEnabled"\n            #filterInput\n            tabindex="-1"\n            [placeholder]="placeholderView"\n            [ngStyle]="{\'width.px\': filterInputWidth}"\n            (input)="onMultipleFilterInput($event)"\n            (keydown)="onMultipleFilterKeydown($event)"/>\n    </div>\n\n</div>\n<select-dropdown\n    *ngIf="isOpen"\n    #dropdown\n    [multiple]="multiple"\n    [optionList]="optionList"\n    [notFoundMsg]="notFoundMsg"\n    [highlightColor]="highlightColor"\n    [highlightTextColor]="highlightTextColor"\n    [filterEnabled]="filterEnabled"\n    [width]="width"\n    [top]="top"\n    [left]="left"\n    (close)="onDropdownClose($event)"\n    (optionClicked)="onDropdownOptionClicked($event)"\n    (singleFilterClick)="onSingleFilterClick()"\n    (singleFilterInput)="onSingleFilterInput($event)"\n    (singleFilterKeydown)="onSingleFilterKeydown($event)">\n</select-dropdown>\n'},fKez:function(e,t,n){"use strict";function r(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}var o=function(){function e(e){this.rawFile=e;var t=r(e),n=t?e.value:e;this["_createFrom"+("string"==typeof n?"FakePath":"Object")](n)}return e.prototype._createFromFakePath=function(e){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)},e.prototype._createFromObject=function(e){this.size=e.size,this.type=e.type,this.name=e.name},e}();t.FileLikeObject=o},fRUx:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},fRX7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("/oeL"),o=n("qbdv"),i=n("Sshh"),a=n("G1/N"),s=function(){function e(){}return e}();s.decorators=[{type:r.NgModule,args:[{imports:[o.CommonModule],declarations:[i.FlashMessagesComponent],exports:[i.FlashMessagesComponent],providers:[a.FlashMessagesService]}]}],s.ctorParameters=function(){return[]},t.FlashMessagesModule=s},"fc+i":function(e,t,n){"use strict";function r(){return D}function o(e){D||(D=e)}function i(){return U||(U=document.querySelector("base"))?U.getAttribute("href"):null}function a(e){return V||(V=document.createElement("a")),V.setAttribute("href",e),"/"===V.pathname.charAt(0)?V.pathname:"/"+V.pathname}function s(){return!!window.history.pushState}function u(e,t,n){return function(){n.get(I.ApplicationInitStatus).donePromise.then(function(){var n=r();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(function(t){return n.getAttribute(t,"ng-transition")===e}).forEach(function(e){return n.remove(e)})})}}function c(e,t){X||(I["\u0275global"].ng=X=I["\u0275global"].ng||{}),X[e]=t}function l(e){return Object(I.getDebugNode)(e)}function f(e,t){var n=(e||[]).concat(t||[]);return c(J,l),c(Q,Object.assign({},Z,d(n||[]))),function(){return l}}function d(e){return e.reduce(function(e,t){return e[t.name]=t.token,e},{})}function p(e){return le.replace(ue,e)}function h(e){return ce.replace(ue,e)}function m(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?m(e,o,n):(o=o.replace(ue,e),n.push(o))}return n}function g(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}function v(e,t){if(e.charCodeAt(0)===pe)throw new Error("Found the synthetic "+t+" "+e+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function y(){try{return!!window.DOMParser}catch(e){return!1}}function b(e){return e=String(e),e.match(Oe)||e.match(Te)?e:(Object(I.isDevMode)()&&r().log("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function w(e){return e=String(e),e.split(",").map(function(e){return b(e.trim())}).join(", ")}function C(e){for(var t={},n=0,r=e.split(",");n<r.length;n++){t[r[n]]=!0}return t}function _(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0,o=e;r<o.length;r++){var i=o[r];for(var a in i)i.hasOwnProperty(a)&&(n[a]=!0)}return n}function x(e){return e.replace(/&/g,"&amp;").replace(Ve,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(He,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function E(e,t){var n=r(),o=null;try{Ee=Ee||new Se(e,n);var i=t?String(t):"";o=Ee.getInertBodyElement(i);var a=5,s=i;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,i=s,s=n.getInnerHTML(o),o=Ee.getInertBodyElement(i)}while(i!==s);var u=new je,c=u.sanitizeChildren(n.getTemplateContent(o)||o);return Object(I.isDevMode)()&&u.sanitizedSomething&&n.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),c}finally{if(o)for(var l=n.getTemplateContent(o)||o,f=0,d=n.childNodesAsList(l);f<d.length;f++){var p=d[f];n.removeChild(l,p)}}}function S(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var o=e.charAt(r);"'"===o&&n?t=!t:'"'===o&&t&&(n=!n)}return t&&n}function O(e){if(!(e=String(e).trim()))return"";var t=e.match(ze);return t&&b(t[1])===t[1]||e.match(Ue)&&S(e)?e:(Object(I.isDevMode)()&&r().log("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}function T(){H.makeCurrent(),$.init()}function k(){return new I.ErrorHandler}function R(){return document}n.d(t,"a",function(){return tt}),n.d(t,"j",function(){return et}),n.d(t,"g",function(){return W}),n.d(t,"i",function(){return Y}),n.d(t,"h",function(){return ee}),n.d(t,"c",function(){return ne}),n.d(t,"d",function(){return re}),n.d(t,"e",function(){return ye}),n.d(t,"f",function(){return be}),n.d(t,"b",function(){return qe}),n.d(t,"t",function(){return r}),n.d(t,"l",function(){return fe}),n.d(t,"k",function(){return ge}),n.d(t,"n",function(){return we}),n.d(t,"o",function(){return xe}),n.d(t,"m",function(){return ae}),n.d(t,"p",function(){return ie}),n.d(t,"q",function(){return k}),n.d(t,"r",function(){return f}),n.d(t,"s",function(){return We});var P,N=n("6Xbx"),A=n("qbdv"),I=n("/oeL"),D=null,M=function(){function e(){this.resourceLoaderType=null}return e.prototype.hasProperty=function(e,t){},e.prototype.setProperty=function(e,t,n){},e.prototype.getProperty=function(e,t){},e.prototype.invoke=function(e,t,n){},e.prototype.logError=function(e){},e.prototype.log=function(e){},e.prototype.logGroup=function(e){},e.prototype.logGroupEnd=function(){},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e.prototype.contains=function(e,t){},e.prototype.parse=function(e){},e.prototype.querySelector=function(e,t){},e.prototype.querySelectorAll=function(e,t){},e.prototype.on=function(e,t,n){},e.prototype.onAndCancel=function(e,t,n){},e.prototype.dispatchEvent=function(e,t){},e.prototype.createMouseEvent=function(e){},e.prototype.createEvent=function(e){},e.prototype.preventDefault=function(e){},e.prototype.isPrevented=function(e){},e.prototype.getInnerHTML=function(e){},e.prototype.getTemplateContent=function(e){},e.prototype.getOuterHTML=function(e){},e.prototype.nodeName=function(e){},e.prototype.nodeValue=function(e){},e.prototype.type=function(e){},e.prototype.content=function(e){},e.prototype.firstChild=function(e){},e.prototype.nextSibling=function(e){},e.prototype.parentElement=function(e){},e.prototype.childNodes=function(e){},e.prototype.childNodesAsList=function(e){},e.prototype.clearNodes=function(e){},e.prototype.appendChild=function(e,t){},e.prototype.removeChild=function(e,t){},e.prototype.replaceChild=function(e,t,n){},e.prototype.remove=function(e){},e.prototype.insertBefore=function(e,t,n){},e.prototype.insertAllBefore=function(e,t,n){},e.prototype.insertAfter=function(e,t,n){},e.prototype.setInnerHTML=function(e,t){},e.prototype.getText=function(e){},e.prototype.setText=function(e,t){},e.prototype.getValue=function(e){},e.prototype.setValue=function(e,t){},e.prototype.getChecked=function(e){},e.prototype.setChecked=function(e,t){},e.prototype.createComment=function(e){},e.prototype.createTemplate=function(e){},e.prototype.createElement=function(e,t){},e.prototype.createElementNS=function(e,t,n){},e.prototype.createTextNode=function(e,t){},e.prototype.createScriptTag=function(e,t,n){},e.prototype.createStyleElement=function(e,t){},e.prototype.createShadowRoot=function(e){},e.prototype.getShadowRoot=function(e){},e.prototype.getHost=function(e){},e.prototype.getDistributedNodes=function(e){},e.prototype.clone=function(e){},e.prototype.getElementsByClassName=function(e,t){},e.prototype.getElementsByTagName=function(e,t){},e.prototype.classList=function(e){},e.prototype.addClass=function(e,t){},e.prototype.removeClass=function(e,t){},e.prototype.hasClass=function(e,t){},e.prototype.setStyle=function(e,t,n){},e.prototype.removeStyle=function(e,t){},e.prototype.getStyle=function(e,t){},e.prototype.hasStyle=function(e,t,n){},e.prototype.tagName=function(e){},e.prototype.attributeMap=function(e){},e.prototype.hasAttribute=function(e,t){},e.prototype.hasAttributeNS=function(e,t,n){},e.prototype.getAttribute=function(e,t){},e.prototype.getAttributeNS=function(e,t,n){},e.prototype.setAttribute=function(e,t,n){},e.prototype.setAttributeNS=function(e,t,n,r){},e.prototype.removeAttribute=function(e,t){},e.prototype.removeAttributeNS=function(e,t,n){},e.prototype.templateAwareRoot=function(e){},e.prototype.createHtmlDocument=function(){},e.prototype.getBoundingClientRect=function(e){},e.prototype.getTitle=function(e){},e.prototype.setTitle=function(e,t){},e.prototype.elementMatches=function(e,t){},e.prototype.isTemplateElement=function(e){},e.prototype.isTextNode=function(e){},e.prototype.isCommentNode=function(e){},e.prototype.isElementNode=function(e){},e.prototype.hasShadowRoot=function(e){},e.prototype.isShadowRoot=function(e){},e.prototype.importIntoDoc=function(e){},e.prototype.adoptNode=function(e){},e.prototype.getHref=function(e){},e.prototype.getEventKey=function(e){},e.prototype.resolveAndSetHref=function(e,t,n){},e.prototype.supportsDOMEvents=function(){},e.prototype.supportsNativeShadowDOM=function(){},e.prototype.getGlobalEventTarget=function(e,t){},e.prototype.getHistory=function(){},e.prototype.getLocation=function(){},e.prototype.getBaseHref=function(e){},e.prototype.resetBaseElement=function(){},e.prototype.getUserAgent=function(){},e.prototype.setData=function(e,t,n){},e.prototype.getComputedStyle=function(e){},e.prototype.getData=function(e,t){},e.prototype.supportsWebAnimation=function(){},e.prototype.performanceNow=function(){},e.prototype.getAnimationPrefix=function(){},e.prototype.getTransitionEnd=function(){},e.prototype.supportsAnimation=function(){},e.prototype.supportsCookies=function(){},e.prototype.getCookie=function(e){},e.prototype.setCookie=function(e,t){},e}(),L=function(e){function t(){var t=e.call(this)||this;t._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement("div",document);if(null!=t.getStyle(n,"animationName"))t._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(null!=t.getStyle(n,r[o]+"AnimationName")){t._animationPrefix="-"+r[o].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=i[e])})}catch(e){t._animationPrefix=null,t._transitionEnd=null}return t}return N.a(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,n){e.href=null==n?t:t+"/../"+n},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},t}(M),B={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},F={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};I["\u0275global"].Node&&(P=I["\u0275global"].Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});var V,H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N.a(t,e),t.prototype.parse=function(e){throw new Error("parse not implemented")},t.makeCurrent=function(){o(new t)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,n){e[t]=n},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,n){e[t].apply(e,n)},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return B},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return P.call(e,t)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,n){e.addEventListener(t,n,!1)},t.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=document.createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&e instanceof HTMLTemplateElement?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t,n){e.insertBefore(n,t)},t.prototype.insertAllBefore=function(e,t,n){n.forEach(function(n){return e.insertBefore(n,t)})},t.prototype.insertAfter=function(e,t,n){e.insertBefore(n,t.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return document.createComment(e)},t.prototype.createTemplate=function(e){var t=document.createElement("template");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return void 0===t&&(t=document),t.createElement(e)},t.prototype.createElementNS=function(e,t,n){return void 0===n&&(n=document),n.createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return void 0===t&&(t=document),t.createTextNode(e)},t.prototype.createScriptTag=function(e,t,n){void 0===n&&(n=document);var r=n.createElement("SCRIPT");return r.setAttribute(e,t),r},t.prototype.createStyleElement=function(e,t){void 0===t&&(t=document);var n=t.createElement("style");return this.appendChild(n,this.createTextNode(e)),n},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,n){e.style[t]=n},t.prototype.removeStyle=function(e,t){e.style[t]=""},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var o=n[r];t.set(o.name,o.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,n){return e.hasAttributeNS(t,n)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,n){return e.getAttributeNS(t,n)},t.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)},t.prototype.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,r)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,n){e.removeAttributeNS(t,n)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return document.title},t.prototype.setTitle=function(e,t){document.title=t||""},t.prototype.elementMatches=function(e,t){return e instanceof HTMLElement&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},t.prototype.isTemplateElement=function(e){return e instanceof HTMLElement&&"TEMPLATE"==e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return null!=e.shadowRoot&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.href},t.prototype.getEventKey=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&j.hasOwnProperty(t)&&(t=j[t]))}return F[t]||t},t.prototype.getGlobalEventTarget=function(e,t){return"window"===t?window:"document"===t?document:"body"===t?document.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t=i();return null==t?null:a(t)},t.prototype.resetBaseElement=function(){U=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,n){this.setAttribute(e,"data-"+t,n)},t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return Object(A["\u0275parseCookieValue"])(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},t}(L),U=null,z=A.DOCUMENT,q=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._init(),n}return N.a(t,e),t.prototype._init=function(){this._location=r().getLocation(),this._history=r().getHistory()},Object.defineProperty(t.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),t.prototype.getBaseHrefFromDOM=function(){return r().getBaseHref(this._doc)},t.prototype.onPopState=function(e){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)},t.prototype.onHashChange=function(e){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this._location.pathname},set:function(e){this._location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,n){s()?this._history.pushState(e,t,n):this._location.hash=n},t.prototype.replaceState=function(e,t,n){s()?this._history.replaceState(e,t,n):this._location.hash=n},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},t}(A.PlatformLocation);q.decorators=[{type:I.Injectable}],q.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[z]}]}]};var W=function(){function e(e){this._doc=e,this._dom=r()}return e.prototype.addTag=function(e,t){return void 0===t&&(t=!1),e?this._getOrCreateElement(e,t):null},e.prototype.addTags=function(e,t){var n=this;return void 0===t&&(t=!1),e?e.reduce(function(e,r){return r&&e.push(n._getOrCreateElement(r,t)),e},[]):[]},e.prototype.getTag=function(e){return e?this._dom.querySelector(this._doc,"meta["+e+"]"):null},e.prototype.getTags=function(e){if(!e)return[];var t=this._dom.querySelectorAll(this._doc,"meta["+e+"]");return t?[].slice.call(t):[]},e.prototype.updateTag=function(e,t){if(!e)return null;t=t||this._parseSelector(e);var n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)},e.prototype.removeTag=function(e){this.removeTagElement(this.getTag(e))},e.prototype.removeTagElement=function(e){e&&this._dom.remove(e)},e.prototype._getOrCreateElement=function(e,t){if(void 0===t&&(t=!1),!t){var n=this._parseSelector(e),r=this.getTag(n);if(r&&this._containsAttributes(e,r))return r}var o=this._dom.createElement("meta");this._setMetaElementAttributes(e,o);var i=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(i,o),o},e.prototype._setMetaElementAttributes=function(e,t){var n=this;return Object.keys(e).forEach(function(r){return n._dom.setAttribute(t,r,e[r])}),t},e.prototype._parseSelector=function(e){var t=e.name?"name":"property";return t+'="'+e[t]+'"'},e.prototype._containsAttributes=function(e,t){var n=this;return Object.keys(e).every(function(r){return n._dom.getAttribute(t,r)===e[r]})},e}();W.decorators=[{type:I.Injectable}],W.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[z]}]}]};var G=new I.InjectionToken("TRANSITION_ID"),K=[{provide:I.APP_INITIALIZER,useFactory:u,deps:[G,z,I.Injector],multi:!0}],$=function(){function e(){}return e.init=function(){Object(I.setTestabilityGetter)(new e)},e.prototype.addToWindow=function(e){I["\u0275global"].getAngularTestability=function(t,n){void 0===n&&(n=!0);var r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},I["\u0275global"].getAllAngularTestabilities=function(){return e.getAllTestabilities()},I["\u0275global"].getAllAngularRootElements=function(){return e.getAllRootElements()};var t=function(e){var t=I["\u0275global"].getAllAngularTestabilities(),n=t.length,r=!1,o=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(o)})};I["\u0275global"].frameworkStabilizers||(I["\u0275global"].frameworkStabilizers=[]),I["\u0275global"].frameworkStabilizers.push(t)},e.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var o=e.getTestability(t);return null!=o?o:n?r().isShadowRoot(t)?this.findTestabilityInTree(e,r().getHost(t),!0):this.findTestabilityInTree(e,r().parentElement(t),!0):null},e}(),Y=function(){function e(e){this._doc=e}return e.prototype.getTitle=function(){return r().getTitle(this._doc)},e.prototype.setTitle=function(e){r().setTitle(this._doc,e)},e}();Y.decorators=[{type:I.Injectable}],Y.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[z]}]}]};var X,Z={ApplicationRef:I.ApplicationRef,NgZone:I.NgZone},J="probe",Q="coreTokens",ee=function(){function e(e,t){this.name=e,this.token=t}return e}(),te=[{provide:I.APP_INITIALIZER,useFactory:f,deps:[[ee,new I.Optional],[I.NgProbeToken,new I.Optional]],multi:!0}],ne=new I.InjectionToken("EventManagerPlugins"),re=function(){function e(e,t){var n=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=n}),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)},e.prototype.addGlobalEventListener=function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error("No event manager plugin found for event "+e)},e}();re.decorators=[{type:I.Injectable}],re.ctorParameters=function(){return[{type:Array,decorators:[{type:I.Inject,args:[ne]}]},{type:I.NgZone}]};var oe=function(){function e(e){this._doc=e}return e.prototype.supports=function(e){},e.prototype.addEventListener=function(e,t,n){},e.prototype.addGlobalEventListener=function(e,t,n){var o=r().getGlobalEventTarget(this._doc,e);if(!o)throw new Error("Unsupported event target "+o+" for event "+t);return this.addEventListener(o,t,n)},e}(),ie=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e}();ie.decorators=[{type:I.Injectable}],ie.ctorParameters=function(){return[]};var ae=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return N.a(t,e),t.prototype._addStylesToHost=function(e,t){var n=this;e.forEach(function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))})},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(e){return r().remove(e)})},t}(ie);ae.decorators=[{type:I.Injectable}],ae.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[z]}]}]};var se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ue=/%COMP%/g,ce="_nghost-%COMP%",le="_ngcontent-%COMP%",fe=function(){function e(e,t){this.eventManager=e,this.sharedStylesHost=t,this.rendererByCompId=new Map,this.defaultRenderer=new de(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case I.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new he(this.eventManager,this.sharedStylesHost,t),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case I.ViewEncapsulation.Native:return new me(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=m(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e}();fe.decorators=[{type:I.Injectable}],fe.ctorParameters=function(){return[{type:re},{type:ae}]};var de=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(se[t],e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,n){e&&e.insertBefore(t,n)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e){var t="string"==typeof e?document.querySelector(e):e;if(!t)throw new Error('The selector "'+e+'" did not match any elements');return t.textContent="",t},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,n,r){if(r){t=r+":"+t;var o=se[r];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)},e.prototype.removeAttribute=function(e,t,n){if(n){var r=se[n];r?e.removeAttributeNS(r,t):e.removeAttribute(n+":"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,n,r){r&I.RendererStyleFlags2.DashCase?e.style.setProperty(t,n,r&I.RendererStyleFlags2.Important?"important":""):e.style[t]=n},e.prototype.removeStyle=function(e,t,n){n&I.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""},e.prototype.setProperty=function(e,t,n){v(t,"property"),e[t]=n},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,n){return v(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,g(n)):this.eventManager.addEventListener(e,t,g(n))},e}(),pe="@".charCodeAt(0),he=function(e){function t(t,n,r){var o=e.call(this,t)||this;o.component=r;var i=m(r.id,r.styles,[]);return n.addStyles(i),o.contentAttr=p(r.id),o.hostAttr=h(r.id),o}return N.a(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,"")},t.prototype.createElement=function(t,n){var r=e.prototype.createElement.call(this,t,n);return e.prototype.setAttribute.call(this,r,this.contentAttr,""),r},t}(de),me=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;i.sharedStylesHost=n,i.hostEl=r,i.component=o,i.shadowRoot=r.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var a=m(o.id,o.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],i.shadowRoot.appendChild(u)}return i}return N.a(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,n){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.insertBefore=function(t,n,r){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),n,r)},t.prototype.removeChild=function(t,n){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(de),ge=function(e){function t(t){return e.call(this,t)||this}return N.a(t,e),t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,n){return e.addEventListener(t,n,!1),function(){return e.removeEventListener(t,n,!1)}},t}(oe);ge.decorators=[{type:I.Injectable}],ge.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[z]}]}]};var ve={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ye=new I.InjectionToken("HammerGestureConfig"),be=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(var n in this.overrides)t.get(n).set(this.overrides[n]);return t},e}();be.decorators=[{type:I.Injectable}],be.ctorParameters=function(){return[]};var we=function(e){function t(t,n){var r=e.call(this,t)||this;return r._config=n,r}return N.a(t,e),t.prototype.supports=function(e){if(!ve.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+e+" event");return!0},t.prototype.addEventListener=function(e,t,n){var r=this,o=this.manager.getZone();return t=t.toLowerCase(),o.runOutsideAngular(function(){var i=r._config.buildHammer(e),a=function(e){o.runGuarded(function(){n(e)})};return i.on(t,a),function(){return i.off(t,a)}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t}(oe);we.decorators=[{type:I.Injectable}],we.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[z]}]},{type:be,decorators:[{type:I.Inject,args:[ye]}]}]};var Ce=["alt","control","meta","shift"],_e={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},xe=function(e){function t(t){return e.call(this,t)||this}return N.a(t,e),t.prototype.supports=function(e){return null!=t.parseEventName(e)},t.prototype.addEventListener=function(e,n,o){var i=t.parseEventName(n),a=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return r().onAndCancel(e,i.domEventName,a)})},t.parseEventName=function(e){var n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var o=t._normalizeKey(n.pop()),i="";if(Ce.forEach(function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),i+=e+".")}),i+=o,0!=n.length||0===o.length)return null;var a={};return a.domEventName=r,a.fullKey=i,a},t.getEventFullKey=function(e){var t="",n=r().getEventKey(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ce.forEach(function(r){if(r!=n){(0,_e[r])(e)&&(t+=r+".")}}),t+=n},t.eventCallback=function(e,n,r){return function(o){t.getEventFullKey(o)===e&&r.runGuarded(function(){return n(o)})}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t}(oe);xe.decorators=[{type:I.Injectable}],xe.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[z]}]}]};var Ee,Se=function(){function e(e,t){this.defaultDoc=e,this.DOM=t;var n=this.DOM.createHtmlDocument();if(this.inertBodyElement=n.body,null==this.inertBodyElement){var r=this.DOM.createElement("html",n);this.inertBodyElement=this.DOM.createElement("body",n),this.DOM.appendChild(r,this.inertBodyElement),this.DOM.appendChild(n,r)}return this.DOM.setInnerHTML(this.inertBodyElement,'<svg><g onload="this.parentNode.remove()"></g></svg>'),this.inertBodyElement.querySelector&&!this.inertBodyElement.querySelector("svg")?void(this.getInertBodyElement=this.getInertBodyElement_XHR):(this.DOM.setInnerHTML(this.inertBodyElement,'<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&y()?void(this.getInertBodyElement=this.getInertBodyElement_DOMParser):void(this.getInertBodyElement=this.getInertBodyElement_InertDocument))}return e.prototype.getInertBodyElement_XHR=function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(e){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(null);var n=t.response.body;return n.removeChild(n.firstChild),n},e.prototype.getInertBodyElement_DOMParser=function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(e){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.DOM.createElement("template");return"content"in t?(this.DOM.setInnerHTML(t,e),t):(this.DOM.setInnerHTML(this.inertBodyElement,e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){var t=this;this.DOM.attributeMap(e).forEach(function(n,r){"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.DOM.removeAttribute(e,r)});for(var n=0,r=this.DOM.childNodesAsList(e);n<r.length;n++){var o=r[n];this.DOM.isElementNode(o)&&this.stripCustomNsAttrs(o)}},e}(),Oe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Te=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,ke=C("area,br,col,hr,img,wbr"),Re=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pe=C("rp,rt"),Ne=_(Pe,Re),Ae=_(Re,C("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ie=_(Pe,C("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),De=_(ke,Ae,Ie,Ne),Me=C("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Le=C("srcset"),Be=C("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fe=_(Me,Le,Be),je=function(){function e(){this.sanitizedSomething=!1,this.buf=[],this.DOM=r()}return e.prototype.sanitizeChildren=function(e){for(var t=this.DOM.firstChild(e);t;)if(this.DOM.isElementNode(t)?this.startElement(t):this.DOM.isTextNode(t)?this.chars(this.DOM.nodeValue(t)):this.sanitizedSomething=!0,this.DOM.firstChild(t))t=this.DOM.firstChild(t);else for(;t;){this.DOM.isElementNode(t)&&this.endElement(t);var n=this.checkClobberedElement(t,this.DOM.nextSibling(t));if(n){t=n;break}t=this.checkClobberedElement(t,this.DOM.parentElement(t))}return this.buf.join("")},e.prototype.startElement=function(e){var t=this,n=this.DOM.nodeName(e).toLowerCase();if(!De.hasOwnProperty(n))return void(this.sanitizedSomething=!0);this.buf.push("<"),this.buf.push(n),this.DOM.attributeMap(e).forEach(function(e,n){var r=n.toLowerCase();if(!Fe.hasOwnProperty(r))return void(t.sanitizedSomething=!0);Me[r]&&(e=b(e)),Le[r]&&(e=w(e)),t.buf.push(" "),t.buf.push(n),t.buf.push('="'),t.buf.push(x(e)),t.buf.push('"')}),this.buf.push(">")},e.prototype.endElement=function(e){var t=this.DOM.nodeName(e).toLowerCase();De.hasOwnProperty(t)&&!ke.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(x(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&this.DOM.contains(e,t))throw new Error("Failed to sanitize html because the element is clobbered: "+this.DOM.getOuterHTML(e));return t},e}(),Ve=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,He=/([^\#-~ |!])/g,Ue=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ze=/^url\(([^)]+)\)$/,qe=function(){function e(){}return e.prototype.sanitize=function(e,t){},e.prototype.bypassSecurityTrustHtml=function(e){},e.prototype.bypassSecurityTrustStyle=function(e){},e.prototype.bypassSecurityTrustScript=function(e){},e.prototype.bypassSecurityTrustUrl=function(e){},e.prototype.bypassSecurityTrustResourceUrl=function(e){},e}(),We=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n}return N.a(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case I.SecurityContext.NONE:return t;case I.SecurityContext.HTML:return t instanceof Ke?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),E(this._doc,String(t)));case I.SecurityContext.STYLE:return t instanceof $e?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),O(t));case I.SecurityContext.SCRIPT:if(t instanceof Ye)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case I.SecurityContext.URL:return t instanceof Ze||t instanceof Xe?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),b(String(t)));case I.SecurityContext.RESOURCE_URL:if(t instanceof Ze)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof Ge)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new Ke(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new $e(e)},t.prototype.bypassSecurityTrustScript=function(e){return new Ye(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new Xe(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new Ze(e)},t}(qe);We.decorators=[{type:I.Injectable}],We.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[z]}]}]};var Ge=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.getTypeName=function(){},e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),Ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N.a(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(Ge),$e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N.a(t,e),t.prototype.getTypeName=function(){return"Style"},t}(Ge),Ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N.a(t,e),t.prototype.getTypeName=function(){return"Script"},t}(Ge),Xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N.a(t,e),t.prototype.getTypeName=function(){return"URL"},t}(Ge),Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N.a(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(Ge),Je=[{provide:I.PLATFORM_ID,useValue:A["\u0275PLATFORM_BROWSER_ID"]},{provide:I.PLATFORM_INITIALIZER,useValue:T,multi:!0},{provide:A.PlatformLocation,useClass:q},{provide:z,useFactory:R,deps:[]}],Qe=[{provide:I.Sanitizer,useExisting:qe},{provide:qe,useClass:We}],et=Object(I.createPlatformFactory)(I.platformCore,"browser",Je),tt=function(){function e(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return e.withServerTransition=function(t){return{ngModule:e,providers:[{provide:I.APP_ID,useValue:t.appId},{provide:G,useExisting:I.APP_ID},K]}},e}();tt.decorators=[{type:I.NgModule,args:[{providers:[Qe,{provide:I.ErrorHandler,useFactory:k,deps:[]},{provide:ne,useClass:ge,multi:!0},{provide:ne,useClass:xe,multi:!0},{provide:ne,useClass:we,multi:!0},{provide:ye,useClass:be},fe,{provide:I.RendererFactory2,useExisting:fe},{provide:ie,useExisting:ae},ae,I.Testability,re,te,W,Y],exports:[A.CommonModule,I.ApplicationModule]}]}],tt.ctorParameters=function(){return[{type:tt,decorators:[{type:I.Optional},{type:I.SkipSelf}]}]};var nt="undefined"!=typeof window&&window||{},rt=function(){function e(e,t){this.msPerTick=e,this.numTicks=t}return e}();(function(){function e(e){this.appRef=e.injector.get(I.ApplicationRef)}e.prototype.timeChangeDetection=function(e){var t=e&&e.record,n=null!=nt.console.profile;t&&n&&nt.console.profile("Change Detection");for(var o=r().performanceNow(),i=0;i<5||r().performanceNow()-o<500;)this.appRef.tick(),i++;var a=r().performanceNow();t&&n&&nt.console.profileEnd("Change Detection");var s=(a-o)/i;return nt.console.log("ran "+i+" change detection cycles"),nt.console.log(s.toFixed(2)+" ms per check"),new rt(s,i)}})(),function(){function e(){}e.all=function(){return function(e){return!0}},e.css=function(e){return function(t){return null!=t.nativeElement&&r().elementMatches(t.nativeElement,e)}},e.directive=function(e){return function(t){return-1!==t.providerTokens.indexOf(e)}}}(),new I.Version("4.4.7")},fclq:function(e,t,n){"use strict";function r(e){return"function"==typeof e}t.isFunction=r},fcnB:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("bKpL"),i=function(e){function t(t){e.call(this),this.scheduler=t}return r(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(o.Observable);t.EmptyObservable=i},g0Kb:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("xFbG"),i=function(e){function t(t,n){e.call(this),this.subject=t,this.subscriber=n,this.closed=!1}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(o.Subscription);t.SubjectSubscription=i},g1RG:function(e,t,n){"use strict";function r(e){return function(t){var n=new s(e),r=t.lift(n);return n.caught=r}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("yW9Z"),a=n("ktfo");t.catchError=r;var s=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.selector,this.caught))},e}(),u=function(e){function t(t,n,r){e.call(this,t),this.selector=n,this.caught=r}return o(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(a.subscribeToResult(this,n))}},t}(i.OuterSubscriber)},gvep:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("rlar"),i=n("Lhvy"),a=function(e){function t(t){e.call(this),this._value=t}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.Subject);t.BehaviorSubject=a},hxWQ:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n("/oeL"),a=n("9Kxs"),s=function(){function e(e){this.fileOver=new i.EventEmitter,this.onFileDrop=new i.EventEmitter,this.element=e}return e.prototype.getOptions=function(){return this.uploader.options},e.prototype.getFilters=function(){return{}},e.prototype.onDrop=function(e){var t=this._getTransfer(e);if(t){var n=this.getOptions(),r=this.getFilters();this._preventAndStop(e),this.uploader.addToQueue(t.files,n,r),this.fileOver.emit(!1),this.onFileDrop.emit(t.files)}},e.prototype.onDragOver=function(e){var t=this._getTransfer(e);this._haveFiles(t.types)&&(t.dropEffect="copy",this._preventAndStop(e),this.fileOver.emit(!0))},e.prototype.onDragLeave=function(e){this.element&&e.currentTarget===this.element[0]||(this._preventAndStop(e),this.fileOver.emit(!1))},e.prototype._getTransfer=function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer},e.prototype._preventAndStop=function(e){e.preventDefault(),e.stopPropagation()},e.prototype._haveFiles=function(e){return!!e&&(e.indexOf?-1!==e.indexOf("Files"):!!e.contains&&e.contains("Files"))},e}();r([i.Input(),o("design:type",a.FileUploader)],s.prototype,"uploader",void 0),r([i.Output(),o("design:type",i.EventEmitter)],s.prototype,"fileOver",void 0),r([i.Output(),o("design:type",i.EventEmitter)],s.prototype,"onFileDrop",void 0),r([i.HostListener("drop",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],s.prototype,"onDrop",null),r([i.HostListener("dragover",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],s.prototype,"onDragOver",null),r([i.HostListener("dragleave",["$event"]),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",Object)],s.prototype,"onDragLeave",null),s=r([i.Directive({selector:"[ng2FileDrop]"}),o("design:paramtypes",[i.ElementRef])],s),t.FileDropDirective=s},iz04:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return s});var r=n("/oeL"),o=n("qbdv"),i=function(){function e(){this.change=new r.EventEmitter,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return e.prototype.defaultId=function(){return this.DEFAULT_ID},e.prototype.register=function(e){if(e.id||(e.id=this.DEFAULT_ID),this.instances[e.id]){this.updateInstance(e)&&this.change.emit(e.id)}else this.instances[e.id]=e,this.change.emit(e.id)},e.prototype.updateInstance=function(e){var t=!1;for(var n in this.instances[e.id])e[n]!==this.instances[e.id][n]&&(this.instances[e.id][n]=e[n],t=!0);return t},e.prototype.getCurrentPage=function(e){if(this.instances[e])return this.instances[e].currentPage},e.prototype.setCurrentPage=function(e,t){if(this.instances[e]){var n=this.instances[e];t<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}},e.prototype.setTotalItems=function(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))},e.prototype.setItemsPerPage=function(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))},e.prototype.getInstance=function(e){return void 0===e&&(e=this.DEFAULT_ID),this.instances[e]?this.clone(this.instances[e]):{}},e.prototype.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e}(),a=Number.MAX_SAFE_INTEGER,s=function(){function e(e){this.service=e,this.state={}}return e.prototype.transform=function(e,t){if(t instanceof Array&&(t=t[0]),!(e instanceof Array)){var n=t.id||this.service.defaultId;return this.state[n]?this.state[n].slice:e}var r,o,i=t.totalItems&&t.totalItems!==e.length,s=this.createInstance(e,t),u=s.id,c=s.itemsPerPage;if(this.service.register(s),!i&&e instanceof Array){c=+c||a,r=(s.currentPage-1)*c,o=r+c;if(this.stateIsIdentical(u,e,r,o))return this.state[u].slice;var l=e.slice(r,o);return this.saveState(u,e,l,r,o),this.service.change.emit(u),l}return this.saveState(u,e,e,r,o),e},e.prototype.createInstance=function(e,t){var n=t;return this.checkConfig(n),{id:n.id||this.service.defaultId(),itemsPerPage:+n.itemsPerPage||0,currentPage:+n.currentPage||1,totalItems:+n.totalItems||e.length}},e.prototype.checkConfig=function(e){var t=["itemsPerPage","currentPage"],n=t.filter(function(t){return!(t in e)});if(0<n.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+n.join(", "))},e.prototype.saveState=function(e,t,n,r,o){this.state[e]={collection:t,size:t.length,slice:n,start:r,end:o}},e.prototype.stateIsIdentical=function(e,t,n,r){var o=this.state[e];return!!o&&(!(o.size!==t.length||o.start!==n||o.end!==r)&&o.slice.every(function(e,r){return e===t[n+r]}))},e.decorators=[{type:r.Pipe,args:[{name:"paginate",pure:!1}]}],e.ctorParameters=function(){return[{type:i}]},e}(),u=function(){function e(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new r.EventEmitter,this._directionLinks=!0,this._autoHide=!1}return Object.defineProperty(e.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(e){this._directionLinks=!!e&&"false"!==e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoHide",{get:function(){return this._autoHide},set:function(e){this._autoHide=!!e&&"false"!==e},enumerable:!0,configurable:!0}),e.decorators=[{type:r.Component,args:[{selector:"pagination-controls",template:'\n    <pagination-template  #p="paginationApi"\n                         [id]="id"\n                         [maxSize]="maxSize"\n                         (pageChange)="pageChange.emit($event)">\n    <ul class="ngx-pagination" \n        role="navigation" \n        [attr.aria-label]="screenReaderPaginationLabel" \n        *ngIf="!(autoHide && p.pages.length <= 1)">\n\n        <li class="pagination-previous" [class.disabled]="p.isFirstPage()" *ngIf="directionLinks"> \n            <a tabindex="0" *ngIf="1 < p.getCurrent()" (keyup.enter)="p.previous()" (click)="p.previous()" [attr.aria-label]="previousLabel + \' \' + screenReaderPageLabel">\n                {{ previousLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </a>\n            <span *ngIf="p.isFirstPage()">\n                {{ previousLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </span>\n        </li>\n\n        <li [class.current]="p.getCurrent() === page.value" *ngFor="let page of p.pages">\n            <a tabindex="0" (keyup.enter)="p.setCurrent(page.value)" (click)="p.setCurrent(page.value)" *ngIf="p.getCurrent() !== page.value">\n                <span class="show-for-sr">{{ screenReaderPageLabel }} </span>\n                <span>{{ page.label }}</span>\n            </a>\n            <ng-container *ngIf="p.getCurrent() === page.value">\n                <span class="show-for-sr">{{ screenReaderCurrentLabel }} </span>\n                <span>{{ page.label }}</span> \n            </ng-container>\n        </li>\n\n        <li class="pagination-next" [class.disabled]="p.isLastPage()" *ngIf="directionLinks">\n            <a tabindex="0" *ngIf="!p.isLastPage()" (keyup.enter)="p.next()" (click)="p.next()" [attr.aria-label]="nextLabel + \' \' + screenReaderPageLabel">\n                 {{ nextLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </a>\n            <span *ngIf="p.isLastPage()">\n                 {{ nextLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </span>\n        </li>\n\n    </ul>\n    </pagination-template>\n    ',styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination .ellipsis::after {\n    content: '\u2026';\n    padding: 0.1875rem 0.625rem;\n    color: #0a0a0a; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }"],changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[]},e.propDecorators={id:[{type:r.Input}],maxSize:[{type:r.Input}],directionLinks:[{type:r.Input}],autoHide:[{type:r.Input}],previousLabel:[{type:r.Input}],nextLabel:[{type:r.Input}],screenReaderPaginationLabel:[{type:r.Input}],screenReaderPageLabel:[{type:r.Input}],screenReaderCurrentLabel:[{type:r.Input}],pageChange:[{type:r.Output}]},e}(),c=function(){function e(e,t){var n=this;this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new r.EventEmitter,this.pages=[],this.changeSub=this.service.change.subscribe(function(e){n.id===e&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())})}return e.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},e.prototype.ngOnChanges=function(e){this.updatePageLinks()},e.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},e.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},e.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},e.prototype.isFirstPage=function(){return 1===this.getCurrent()},e.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},e.prototype.setCurrent=function(e){this.pageChange.emit(e)},e.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},e.prototype.getLastPage=function(){var e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)},e.prototype.checkValidId=function(){this.service.getInstance(this.id).id||console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},e.prototype.updatePageLinks=function(){var e=this,t=this.service.getInstance(this.id),n=this.outOfBoundCorrection(t);n!==t.currentPage?setTimeout(function(){e.setCurrent(n),e.pages=e.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,e.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)},e.prototype.outOfBoundCorrection=function(e){var t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage},e.prototype.createPageArray=function(e,t,n,r){r=+r;for(var o=[],i=Math.ceil(n/t),a=Math.ceil(r/2),s=e<=a,u=i-a<e,c=!s&&!u,l=r<i,f=1;f<=i&&f<=r;){var d=void 0,p=this.calculatePageNumber(f,e,r,i),h=2===f&&(c||u),m=f===r-1&&(c||s);d=l&&(h||m)?"...":p,o.push({label:d,value:p}),f++}return o},e.prototype.calculatePageNumber=function(e,t,n,r){var o=Math.ceil(n/2);return e===n?r:1===e?e:n<r?r-o<t?r-n+e:o<t?t-o+e:e:e},e.decorators=[{type:r.Directive,args:[{selector:"pagination-template,[pagination-template]",exportAs:"paginationApi"}]}],e.ctorParameters=function(){return[{type:i},{type:r.ChangeDetectorRef}]},e.propDecorators={id:[{type:r.Input}],maxSize:[{type:r.Input}],pageChange:[{type:r.Output}]},e}(),l=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[o.CommonModule],declarations:[s,u,c],providers:[i],exports:[s,u,c]}]}],e.ctorParameters=function(){return[]},e}()},jUlM:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("bKpL"),i=n("fcnB"),a=n("NSJx"),s=n("ktfo"),u=n("yW9Z"),c=function(e){function t(t,n){e.call(this),this.sources=t,this.resultSelector=n}return r(t,e),t.create=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];if(null===e||0===arguments.length)return new i.EmptyObservable;var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&a.isArray(e[0])&&(e=e[0]),0===e.length?new i.EmptyObservable:new t(e,r)},t.prototype._subscribe=function(e){return new l(e,this.sources,this.resultSelector)},t}(o.Observable);t.ForkJoinObservable=c;var l=function(e){function t(t,n,r){e.call(this,t),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var o=n.length;this.total=o,this.values=new Array(o);for(var i=0;i<o;i++){var a=n[i],u=s.subscribeToResult(this,a,null,i);u&&(u.outerIndex=i,this.add(u))}}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.values[n]=t,o._hasValue||(o._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,n=this,r=n.haveValues,o=n.resultSelector,i=n.values,a=i.length;if(!e._hasValue)return void t.complete();if(++this.completed===a){if(r===a){var s=o?o.apply(this,i):i;t.next(s)}t.complete()}},t}(u.OuterSubscriber)},k9bL:function(e,t,n){"use strict";var r=n("/oeL"),o=n("bm2B"),i=n("ICXF"),a=n("er/+"),s=n("Eyk+");t.SELECT_VALUE_ACCESSOR={provide:o.NG_VALUE_ACCESSOR,useExisting:r.forwardRef(function(){return u}),multi:!0};var u=function(){function e(){this.allowClear=!1,this.disabled=!1,this.multiple=!1,this.noFilter=0,this.notFoundMsg="No results found",this.placeholder="",this.opened=new r.EventEmitter,this.closed=new r.EventEmitter,this.selected=new r.EventEmitter,this.deselected=new r.EventEmitter,this.noOptionsFound=new r.EventEmitter,this._value=[],this.hasSelected=!1,this.filterEnabled=!0,this.filterInputWidth=1,this.hasFocus=!1,this.isBelow=!0,this.isDisabled=!1,this.isOpen=!1,this.placeholderView="",this.clearClicked=!1,this.selectContainerClicked=!1,this.onChange=function(e){},this.onTouched=function(){},this.KEYS={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,SPACE:32,UP:38,DOWN:40}}return e.prototype.ngOnInit=function(){this.placeholderView=this.placeholder},e.prototype.ngAfterViewInit=function(){this.updateFilterWidth()},e.prototype.ngOnChanges=function(e){if(e.hasOwnProperty("options")&&this.updateOptionsList(e.options.isFirstChange()),e.hasOwnProperty("noFilter")){var t=this.optionList.options.length,n=e.noFilter.currentValue;this.filterEnabled=t>=n}},e.prototype.onWindowClick=function(){this.selectContainerClicked||this.closeDropdown(),this.clearClicked=!1,this.selectContainerClicked=!1},e.prototype.onWindowResize=function(){this.updateWidth()},e.prototype.onSelectContainerClick=function(e){this.selectContainerClicked=!0,this.clearClicked||this.toggleDropdown()},e.prototype.onSelectContainerFocus=function(){this.onTouched()},e.prototype.onSelectContainerKeydown=function(e){this.handleSelectContainerKeydown(e)},e.prototype.onDropdownOptionClicked=function(e){this.multiple?this.toggleSelectOption(e):this.selectOption(e)},e.prototype.onDropdownClose=function(e){this.closeDropdown(e)},e.prototype.onSingleFilterClick=function(){this.selectContainerClicked=!0},e.prototype.onSingleFilterInput=function(e){this.optionList.filter(e)&&this.noOptionsFound.emit(null)},e.prototype.onSingleFilterKeydown=function(e){this.handleSingleFilterKeydown(e)},e.prototype.onMultipleFilterInput=function(e){var t=this;this.isOpen||this.openDropdown(),this.updateFilterWidth(),setTimeout(function(){t.optionList.filter(e.target.value)&&t.noOptionsFound.emit(null)})},e.prototype.onMultipleFilterKeydown=function(e){this.handleMultipleFilterKeydown(e)},e.prototype.onClearSelectionClick=function(e){this.clearClicked=!0,this.clearSelection(),this.closeDropdown(!0)},e.prototype.onDeselectOptionClick=function(e){this.clearClicked=!0,this.deselectOption(e)},e.prototype.open=function(){this.openDropdown()},e.prototype.close=function(){this.closeDropdown()},e.prototype.clear=function(){this.clearSelection()},e.prototype.select=function(e){var t=this;this.optionList.getOptionsByValue(e).forEach(function(e){t.selectOption(e)})},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},Object.defineProperty(e.prototype,"value",{get:function(){return this.multiple?this._value:this._value[0]},set:function(e){if(void 0===e||null===e||""===e)e=[];else if("string"==typeof e)e=[e];else if(!Array.isArray(e))throw new TypeError("Value must be a string or an array.");s.OptionList.equalValues(e,this._value)||(this.optionList.value=e,this.valueChanged())},enumerable:!0,configurable:!0}),e.prototype.valueChanged=function(){this._value=this.optionList.value,this.hasSelected=this._value.length>0,this.placeholderView=this.hasSelected?"":this.placeholder,this.updateFilterWidth(),this.onChange(this.value)},e.prototype.updateOptionsList=function(e){var t;e||(t=this.optionList.value),this.optionList=new s.OptionList(this.options),e||(this.optionList.value=t,this.valueChanged())},e.prototype.toggleDropdown=function(){this.isDisabled||(this.isOpen?this.closeDropdown(!0):this.openDropdown())},e.prototype.openDropdown=function(){this.isOpen||(this.updateWidth(),this.updatePosition(),this.isOpen=!0,this.multiple&&this.filterEnabled&&this.filterInput.nativeElement.focus(),this.opened.emit(null))},e.prototype.closeDropdown=function(e){void 0===e&&(e=!1),this.isOpen&&(this.clearFilterInput(),this.isOpen=!1,e&&this.focus(),this.closed.emit(null))},e.prototype.selectOption=function(e){e.selected||(this.optionList.select(e,this.multiple),this.valueChanged(),this.selected.emit(e.undecoratedCopy()))},e.prototype.deselectOption=function(e){var t=this;e.selected&&(this.optionList.deselect(e),this.valueChanged(),this.deselected.emit(e.undecoratedCopy()),setTimeout(function(){t.multiple&&(t.updatePosition(),t.optionList.highlight(),t.isOpen&&t.dropdown.moveHighlightedIntoView())}))},e.prototype.clearSelection=function(){var e=this.optionList.selection;e.length>0&&(this.optionList.clearSelection(),this.valueChanged(),1===e.length?this.deselected.emit(e[0].undecoratedCopy()):this.deselected.emit(e.map(function(e){return e.undecoratedCopy()})))},e.prototype.toggleSelectOption=function(e){e.selected?this.deselectOption(e):this.selectOption(e)},e.prototype.selectHighlightedOption=function(){var e=this.optionList.highlightedOption;null!==e&&(this.selectOption(e),this.closeDropdown(!0))},e.prototype.deselectLast=function(){var e=this.optionList.selection;if(e.length>0){var t=e[e.length-1];this.deselectOption(t),this.setMultipleFilterInput(t.label+" ")}},e.prototype.clearFilterInput=function(){this.multiple&&this.filterEnabled?this.filterInput.nativeElement.value="":this.dropdown.clearFilterInput()},e.prototype.setMultipleFilterInput=function(e){this.filterEnabled&&(this.filterInput.nativeElement.value=e)},e.prototype.handleSelectContainerKeydown=function(e){var t=this,n=e.which;this.isOpen?n===this.KEYS.ESC||n===this.KEYS.UP&&e.altKey?this.closeDropdown(!0):n===this.KEYS.TAB?this.closeDropdown():n===this.KEYS.ENTER?this.selectHighlightedOption():n===this.KEYS.UP?(this.optionList.highlightPreviousOption(),this.dropdown.moveHighlightedIntoView(),this.filterEnabled||e.preventDefault()):n===this.KEYS.DOWN&&(this.optionList.highlightNextOption(),this.dropdown.moveHighlightedIntoView(),this.filterEnabled||e.preventDefault()):(n===this.KEYS.ENTER||n===this.KEYS.SPACE||n===this.KEYS.DOWN&&e.altKey)&&setTimeout(function(){t.openDropdown()})},e.prototype.handleMultipleFilterKeydown=function(e){e.which===this.KEYS.BACKSPACE&&this.hasSelected&&this.filterEnabled&&""===this.filterInput.nativeElement.value&&this.deselectLast()},e.prototype.handleSingleFilterKeydown=function(e){var t=e.which;t!==this.KEYS.ESC&&t!==this.KEYS.TAB&&t!==this.KEYS.UP&&t!==this.KEYS.DOWN&&t!==this.KEYS.ENTER||this.handleSelectContainerKeydown(e)},e.prototype.focus=function(){this.hasFocus=!0,this.multiple&&this.filterEnabled?this.filterInput.nativeElement.focus():this.selectionSpan.nativeElement.focus()},e.prototype.blur=function(){this.hasFocus=!1,this.selectionSpan.nativeElement.blur()},e.prototype.updateWidth=function(){this.width=this.selectionSpan.nativeElement.offsetWidth},e.prototype.updatePosition=function(){var e=this.selectionSpan.nativeElement;this.left=e.offsetLeft,this.top=e.offsetTop+e.offsetHeight},e.prototype.updateFilterWidth=function(){if(void 0!==this.filterInput){var e=this.filterInput.nativeElement.value;this.filterInputWidth=0===e.length?1+10*this.placeholderView.length:1+10*e.length}},e.decorators=[{type:r.Component,args:[{selector:"ng-select",template:a.TEMPLATE,styles:[i.STYLE],providers:[t.SELECT_VALUE_ACCESSOR],encapsulation:r.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[]},e.propDecorators={options:[{type:r.Input}],allowClear:[{type:r.Input}],disabled:[{type:r.Input}],highlightColor:[{type:r.Input}],highlightTextColor:[{type:r.Input}],multiple:[{type:r.Input}],noFilter:[{type:r.Input}],notFoundMsg:[{type:r.Input}],placeholder:[{type:r.Input}],opened:[{type:r.Output}],closed:[{type:r.Output}],selected:[{type:r.Output}],deselected:[{type:r.Output}],noOptionsFound:[{type:r.Output}],selectionSpan:[{type:r.ViewChild,args:["selection"]}],dropdown:[{type:r.ViewChild,args:["dropdown"]}],filterInput:[{type:r.ViewChild,args:["filterInput"]}]},e}();t.SelectComponent=u},kWk1:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("T14+"),i=function(e){function t(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(o.Subscriber);t.InnerSubscriber=i},ktfo:function(e,t,n){"use strict";function r(e,t,n,r){var d=new l.InnerSubscriber(e,n,r);if(d.closed)return null;if(t instanceof u.Observable)return t._isScalar?(d.next(t.value),d.complete(),null):(d.syncErrorThrowable=!0,t.subscribe(d));if(i.isArrayLike(t)){for(var p=0,h=t.length;p<h&&!d.closed;p++)d.next(t[p]);d.closed||d.complete()}else{if(a.isPromise(t))return t.then(function(e){d.closed||(d.next(e),d.complete())},function(e){return d.error(e)}).then(null,function(e){o.root.setTimeout(function(){throw e})}),d;if(t&&"function"==typeof t[c.iterator])for(var m=t[c.iterator]();;){var g=m.next();if(g.done){d.complete();break}if(d.next(g.value),d.closed)break}else if(t&&"function"==typeof t[f.observable]){var v=t[f.observable]();if("function"==typeof v.subscribe)return v.subscribe(new l.InnerSubscriber(e,n,r));d.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var y=s.isObject(t)?"an invalid object":"'"+t+"'",b="You provided "+y+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";d.error(new TypeError(b))}}return null}var o=n("zijX"),i=n("lhZu"),a=n("mUVF"),s=n("H6Sg"),u=n("bKpL"),c=n("2B7B"),l=n("kWk1"),f=n("DP67");t.subscribeToResult=r},lhZu:function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},"lx+J":function(e,t,n){"use strict";function r(e,t){return o.map(e,t)(this)}var o=n("L8VJ");t.map=r},mUVF:function(e,t,n){"use strict";function r(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}t.isPromise=r},mihg:function(e,t,n){"use strict";function r(e){var t=e.value,n=e.subscriber;n.closed||(n.next(t),n.complete())}function o(e){var t=e.err,n=e.subscriber;n.closed||n.error(t)}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n("zijX"),s=n("bKpL"),u=function(e){function t(t,n){e.call(this),this.promise=t,this.scheduler=n}return i(t,e),t.create=function(e,n){return new t(e,n)},t.prototype._subscribe=function(e){var t=this,n=this.promise,i=this.scheduler;if(null==i)this._isScalar?e.closed||(e.next(this.value),e.complete()):n.then(function(n){t.value=n,t._isScalar=!0,e.closed||(e.next(n),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){a.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return i.schedule(r,0,{value:this.value,subscriber:e})}else n.then(function(n){t.value=n,t._isScalar=!0,e.closed||e.add(i.schedule(r,0,{value:n,subscriber:e}))},function(t){e.closed||e.add(i.schedule(o,0,{err:t,subscriber:e}))}).then(null,function(e){a.root.setTimeout(function(){throw e})})},t}(s.Observable);t.PromiseObservable=u},mjx3:function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof t&&(n=t,t=null),r.lift(new s(e,t,n))}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("ktfo"),a=n("yW9Z");t.mergeMap=r;var s=function(){function e(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=s;var u=function(e){function t(t,n,r,o){void 0===o&&(o=Number.POSITIVE_INFINITY),e.call(this,t),this.project=n,this.resultSelector=r,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){this.add(i.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,o){this.resultSelector?this._notifyResultSelector(e,t,n,r):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,n,r){var o;try{o=this.resultSelector(e,t,n,r)}catch(e){return void this.destination.error(e)}this.destination.next(o)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.OuterSubscriber);t.MergeMapSubscriber=u},"nh1/":function(e,t,n){"use strict";var r=function(){function e(){}return e.strip=function(e){var t=this,n=function(e){return t.DIACRITICS[e]||e};return e.replace(/[^\u0000-\u007E]/g,n)},e.DIACRITICS={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},e}();t.Diacritics=r},oKOW:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n("X68L")),r(n("hxWQ")),r(n("9Kxs")),r(n("5uVf")),r(n("fKez"));var o=n("Hw/e");t.FileUploadModule=o.FileUploadModule},oSJk:function(e,t,n){"use strict";var r=n("/oeL"),o=n("GAw1"),i=n("Blbb"),a=function(){function e(){this.close=new r.EventEmitter,this.optionClicked=new r.EventEmitter,this.singleFilterClick=new r.EventEmitter,this.singleFilterInput=new r.EventEmitter,this.singleFilterKeydown=new r.EventEmitter,this.disabledColor="#fff",this.disabledTextColor="9e9e9e"}return e.prototype.ngOnInit=function(){this.optionsReset()},e.prototype.ngOnChanges=function(e){e.hasOwnProperty("optionList")&&this.optionsReset()},e.prototype.ngAfterViewInit=function(){this.moveHighlightedIntoView(),!this.multiple&&this.filterEnabled&&this.filterInput.nativeElement.focus()},e.prototype.onSingleFilterClick=function(e){this.singleFilterClick.emit(null)},e.prototype.onSingleFilterInput=function(e){this.singleFilterInput.emit(e.target.value)},e.prototype.onSingleFilterKeydown=function(e){this.singleFilterKeydown.emit(e)},e.prototype.onOptionsWheel=function(e){this.handleOptionsWheel(e)},e.prototype.onOptionMouseover=function(e){this.optionList.highlightOption(e)},e.prototype.onOptionClick=function(e){this.optionClicked.emit(e)},e.prototype.optionsReset=function(){this.optionList.filter(""),this.optionList.highlight()},e.prototype.getOptionStyle=function(e){if(e.highlighted){var t={};return void 0!==this.highlightColor&&(t["background-color"]=this.highlightColor),void 0!==this.highlightTextColor&&(t.color=this.highlightTextColor),t}return{}},e.prototype.clearFilterInput=function(){this.filterEnabled&&(this.filterInput.nativeElement.value="")},e.prototype.moveHighlightedIntoView=function(){var e=this.optionsList.nativeElement,t=e.offsetHeight,n=this.optionList.getHighlightedIndex();if(n>-1){var r=e.children[0].children[n],o=r.offsetHeight,i=n*o,a=i+o,s=e.scrollTop;a>s+t?e.scrollTop=a-t:i<s&&(e.scrollTop=i)}},e.prototype.handleOptionsWheel=function(e){var t=this.optionsList.nativeElement,n=0===t.scrollTop,r=t.offsetHeight+t.scrollTop===t.scrollHeight;n&&e.deltaY<0?e.preventDefault():r&&e.deltaY>0&&e.preventDefault()},e.decorators=[{type:r.Component,args:[{selector:"select-dropdown",template:i.TEMPLATE,styles:[o.STYLE],encapsulation:r.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[]},e.propDecorators={filterEnabled:[{type:r.Input}],highlightColor:[{type:r.Input}],highlightTextColor:[{type:r.Input}],left:[{type:r.Input}],multiple:[{type:r.Input}],notFoundMsg:[{type:r.Input}],optionList:[{type:r.Input}],top:[{type:r.Input}],width:[{type:r.Input}],close:[{type:r.Output}],optionClicked:[{type:r.Output}],singleFilterClick:[{type:r.Output}],singleFilterInput:[{type:r.Output}],singleFilterKeydown:[{type:r.Output}],filterInput:[{type:r.ViewChild,args:["filterInput"]}],optionsList:[{type:r.ViewChild,args:["optionsList"]}]},e}();t.SelectDropdownComponent=a},qbdv:function(e,t,n){"use strict";function r(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}function o(e){return e.replace(/\/index.html$/,"")}function i(e,t,n){var r="="+e;if(t.indexOf(r)>-1)return r;if(r=n.getPluralCategory(e),t.indexOf(r)>-1)return r;if(t.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+e+'"')}function a(e,t){"string"==typeof t&&(t=parseInt(t,10));var n=t,r=n.toString().replace(/^[^.]*\.?/,""),o=Math.floor(Math.abs(n)),i=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(e.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?q.One:q.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?q.One:q.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===o||1===n?q.One:q.Other;case"ar":return 0===n?q.Zero:1===n?q.One:2===n?q.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?q.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?q.Many:q.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===o&&0===i?q.One:q.Other;case"be":return n%10==1&&n%100!=11?q.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?q.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?q.Many:q.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?q.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?q.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?q.Few:0!==n&&n%1e6==0?q.Many:q.Other;case"bs":case"hr":case"sr":return 0===i&&o%10==1&&o%100!=11||a%10==1&&a%100!=11?q.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?q.Few:q.Other;case"cs":case"sk":return 1===o&&0===i?q.One:o===Math.floor(o)&&o>=2&&o<=4&&0===i?q.Few:0!==i?q.Many:q.Other;case"cy":return 0===n?q.Zero:1===n?q.One:2===n?q.Two:3===n?q.Few:6===n?q.Many:q.Other;case"da":return 1===n||0!==s&&(0===o||1===o)?q.One:q.Other;case"dsb":case"hsb":return 0===i&&o%100==1||a%100==1?q.One:0===i&&o%100==2||a%100==2?q.Two:0===i&&o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?q.Few:q.Other;case"ff":case"fr":case"hy":case"kab":return 0===o||1===o?q.One:q.Other;case"fil":return 0===i&&(1===o||2===o||3===o)||0===i&&o%10!=4&&o%10!=6&&o%10!=9||0!==i&&a%10!=4&&a%10!=6&&a%10!=9?q.One:q.Other;case"ga":return 1===n?q.One:2===n?q.Two:n===Math.floor(n)&&n>=3&&n<=6?q.Few:n===Math.floor(n)&&n>=7&&n<=10?q.Many:q.Other;case"gd":return 1===n||11===n?q.One:2===n||12===n?q.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?q.Few:q.Other;case"gv":return 0===i&&o%10==1?q.One:0===i&&o%10==2?q.Two:0!==i||o%100!=0&&o%100!=20&&o%100!=40&&o%100!=60&&o%100!=80?0!==i?q.Many:q.Other:q.Few;case"he":return 1===o&&0===i?q.One:2===o&&0===i?q.Two:0!==i||n>=0&&n<=10||n%10!=0?q.Other:q.Many;case"is":return 0===s&&o%10==1&&o%100!=11||0!==s?q.One:q.Other;case"ksh":return 0===n?q.Zero:1===n?q.One:q.Other;case"kw":case"naq":case"se":case"smn":return 1===n?q.One:2===n?q.Two:q.Other;case"lag":return 0===n?q.Zero:0!==o&&1!==o||0===n?q.Other:q.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?q.Few:0!==a?q.Many:q.Other:q.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===i&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?q.Zero:n%10==1&&n%100!=11||2===i&&a%10==1&&a%100!=11||2!==i&&a%10==1?q.One:q.Other;case"mk":return 0===i&&o%10==1||a%10==1?q.One:q.Other;case"mt":return 1===n?q.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?q.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?q.Many:q.Other;case"pl":return 1===o&&0===i?q.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?q.Few:0===i&&1!==o&&o%10===Math.floor(o%10)&&o%10>=0&&o%10<=1||0===i&&o%10===Math.floor(o%10)&&o%10>=5&&o%10<=9||0===i&&o%100===Math.floor(o%100)&&o%100>=12&&o%100<=14?q.Many:q.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?q.One:q.Other;case"ro":return 1===o&&0===i?q.One:0!==i||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?q.Few:q.Other;case"ru":case"uk":return 0===i&&o%10==1&&o%100!=11?q.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?q.Few:0===i&&o%10==0||0===i&&o%10===Math.floor(o%10)&&o%10>=5&&o%10<=9||0===i&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=14?q.Many:q.Other;case"shi":return 0===o||1===n?q.One:n===Math.floor(n)&&n>=2&&n<=10?q.Few:q.Other;case"si":return 0===n||1===n||0===o&&1===a?q.One:q.Other;case"sl":return 0===i&&o%100==1?q.One:0===i&&o%100==2?q.Two:0===i&&o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4||0!==i?q.Few:q.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?q.One:q.Other;default:return q.Other}}function s(e,t){t=encodeURIComponent(t);for(var n=0,r=e.split(";");n<r.length;n++){var o=r[n],i=o.indexOf("="),a=-1==i?[o,""]:[o.slice(0,i),o.slice(i+1)],s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}return null}function u(e){return e.name||typeof e}function c(e,t){return Error("InvalidPipeArgument: '"+t+"' for pipe '"+Object(D["\u0275stringify"])(e)+"'")}function l(e){return e?e[0].toUpperCase()+e.substr(1).toLowerCase():e}function f(e){return function(t,n){var r=e(t,n);return 1==r.length?"0"+r:r}}function d(e){return function(t,n){return e(t,n).split(" ")[0]}}function p(e,t,n){return new Intl.DateTimeFormat(t,n).format(e).replace(/[\u200e\u200f]/g,"")}function h(e){var t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,n){var r=p(e,n,t);return r?r.substring(3):""}}function m(e,t){return e.hour12=t,e}function g(e,t){var n={};return n[e]=2===t?"2-digit":"numeric",n}function v(e,t){var n={};return n[e]=t<4?t>1?"short":"narrow":"long",n}function y(e){return e.reduce(function(e,t){return Object.assign({},e,t)},{})}function b(e){return function(t,n){return p(t,n,e)}}function w(e,t,n){var r=be[e];if(r)return r(t,n);var o=e,i=Ce.get(o);if(!i){i=[];var a=void 0;ye.exec(e);for(var s=e;s;)a=ye.exec(s),a?(i=i.concat(a.slice(1)),s=i.pop()):(i.push(s),s=null);Ce.set(o,i)}return i.reduce(function(e,r){var o=we[r];return e+(o?o(t,n):C(r))},"")}function C(e){return"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}function _(e,t,n,r,o,i,a){if(void 0===i&&(i=null),void 0===a&&(a=!1),null==n)return null;if("number"!=typeof(n="string"==typeof n&&E(n)?+n:n))throw c(e,n);var s=void 0,u=void 0,l=void 0;if(r!==ge.Currency&&(s=1,u=0,l=3),o){var f=o.match(xe);if(null===f)throw new Error(o+" is not a valid digit info for number pipes");null!=f[1]&&(s=x(f[1])),null!=f[3]&&(u=x(f[3])),null!=f[5]&&(l=x(f[5]))}return ve.format(n,t,r,{minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:l,currency:i,currencyAsSymbol:a})}function x(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function E(e){return!isNaN(e-parseFloat(e))}function S(e){return null==e||""===e}function O(e){return e instanceof Date&&!isNaN(e.valueOf())}function T(e){var t=new Date(0),n=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=k(e[9]+e[10]),r=k(e[9]+e[11])),o.call(t,k(e[1]),k(e[2])-1,k(e[3]));var a=k(e[4]||"0")-n,s=k(e[5]||"0")-r,u=k(e[6]||"0"),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return i.call(t,a,s,u,c),t}function k(e){return parseInt(e,10)}function R(e){return e===Fe}function P(e){return e===je}function N(e){return e===Ve}function A(e){return e===He}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"NgLocaleLocalization",function(){return z}),n.d(t,"NgLocalization",function(){return U}),n.d(t,"\u0275parseCookieValue",function(){return s}),n.d(t,"CommonModule",function(){return Me}),n.d(t,"DeprecatedI18NPipesModule",function(){return Le}),n.d(t,"NgClass",function(){return W}),n.d(t,"NgFor",function(){return X}),n.d(t,"NgForOf",function(){return $}),n.d(t,"NgForOfContext",function(){return K}),n.d(t,"NgIf",function(){return Z}),n.d(t,"NgIfContext",function(){return J}),n.d(t,"NgPlural",function(){return re}),n.d(t,"NgPluralCase",function(){return oe}),n.d(t,"NgStyle",function(){return ie}),n.d(t,"NgSwitch",function(){return ee}),n.d(t,"NgSwitchCase",function(){return te}),n.d(t,"NgSwitchDefault",function(){return ne}),n.d(t,"NgTemplateOutlet",function(){return ae}),n.d(t,"NgComponentOutlet",function(){return G}),n.d(t,"DOCUMENT",function(){return Be}),n.d(t,"AsyncPipe",function(){return de}),n.d(t,"DatePipe",function(){return ke}),n.d(t,"I18nPluralPipe",function(){return Pe}),n.d(t,"I18nSelectPipe",function(){return Ne}),n.d(t,"JsonPipe",function(){return Ae}),n.d(t,"LowerCasePipe",function(){return pe}),n.d(t,"CurrencyPipe",function(){return Oe}),n.d(t,"DecimalPipe",function(){return Ee}),n.d(t,"PercentPipe",function(){return Se}),n.d(t,"SlicePipe",function(){return Ie}),n.d(t,"UpperCasePipe",function(){return me}),n.d(t,"TitleCasePipe",function(){return he}),n.d(t,"\u0275PLATFORM_BROWSER_ID",function(){return Fe}),n.d(t,"\u0275PLATFORM_SERVER_ID",function(){return je}),n.d(t,"\u0275PLATFORM_WORKER_APP_ID",function(){return Ve}),n.d(t,"\u0275PLATFORM_WORKER_UI_ID",function(){return He}),n.d(t,"isPlatformBrowser",function(){return R}),n.d(t,"isPlatformServer",function(){return P}),n.d(t,"isPlatformWorkerApp",function(){return N}),n.d(t,"isPlatformWorkerUi",function(){return A}),n.d(t,"VERSION",function(){return Ue}),n.d(t,"PlatformLocation",function(){return M}),n.d(t,"LOCATION_INITIALIZED",function(){return L}),n.d(t,"LocationStrategy",function(){return B}),n.d(t,"APP_BASE_HREF",function(){return F}),n.d(t,"HashLocationStrategy",function(){return V}),n.d(t,"PathLocationStrategy",function(){return H}),n.d(t,"Location",function(){return j}),n.d(t,"\u0275a",function(){return se}),n.d(t,"\u0275b",function(){return De});var I=n("6Xbx"),D=n("/oeL"),M=function(){function e(){}return e.prototype.getBaseHrefFromDOM=function(){},e.prototype.onPopState=function(e){},e.prototype.onHashChange=function(e){},e.prototype.pathname=function(){},e.prototype.search=function(){},e.prototype.hash=function(){},e.prototype.replaceState=function(e,t,n){},e.prototype.pushState=function(e,t,n){},e.prototype.forward=function(){},e.prototype.back=function(){},e}(),L=new D.InjectionToken("Location Initialized"),B=function(){function e(){}return e.prototype.path=function(e){},e.prototype.prepareExternalUrl=function(e){},e.prototype.pushState=function(e,t,n,r){},e.prototype.replaceState=function(e,t,n,r){},e.prototype.forward=function(){},e.prototype.back=function(){},e.prototype.onPopState=function(e){},e.prototype.getBaseHref=function(){},e}(),F=new D.InjectionToken("appBaseHref"),j=function(){function e(t){var n=this;this._subject=new D.EventEmitter,this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(o(r)),this._platformStrategy.onPopState(function(e){n._subject.emit({url:n.path(!0),pop:!0,type:e.type})})}return e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},e.prototype.normalize=function(t){return e.stripTrailingSlash(r(this._baseHref,o(t)))},e.prototype.prepareExternalUrl=function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,t){void 0===t&&(t=""),this._platformStrategy.pushState(null,"",e,t)},e.prototype.replaceState=function(e,t){void 0===t&&(t=""),this._platformStrategy.replaceState(null,"",e,t)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.subscribe=function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})},e.normalizeQueryParams=function(e){return e&&"?"!==e[0]?"?"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t},e.stripTrailingSlash=function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-("/"===e[n-1]?1:0);return e.slice(0,r)+e.slice(n)},e}();j.decorators=[{type:D.Injectable}],j.ctorParameters=function(){return[{type:B}]};var V=function(e){function t(t,n){var r=e.call(this)||this;return r._platformLocation=t,r._baseHref="",null!=n&&(r._baseHref=n),r}return I.a(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t},t.prototype.prepareExternalUrl=function(e){var t=j.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t},t.prototype.pushState=function(e,t,n,r){var o=this.prepareExternalUrl(n+j.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,t,o)},t.prototype.replaceState=function(e,t,n,r){var o=this.prepareExternalUrl(n+j.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,o)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(B);V.decorators=[{type:D.Injectable}],V.ctorParameters=function(){return[{type:M},{type:void 0,decorators:[{type:D.Optional},{type:D.Inject,args:[F]}]}]};var H=function(e){function t(t,n){var r=e.call(this)||this;if(r._platformLocation=t,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return I.a(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.prepareExternalUrl=function(e){return j.joinWithSlash(this._baseHref,e)},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.pathname+j.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?""+t+n:t},t.prototype.pushState=function(e,t,n,r){var o=this.prepareExternalUrl(n+j.normalizeQueryParams(r));this._platformLocation.pushState(e,t,o)},t.prototype.replaceState=function(e,t,n,r){var o=this.prepareExternalUrl(n+j.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,o)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(B);H.decorators=[{type:D.Injectable}],H.ctorParameters=function(){return[{type:M},{type:void 0,decorators:[{type:D.Optional},{type:D.Inject,args:[F]}]}]};var U=function(){function e(){}return e.prototype.getPluralCategory=function(e){},e}(),z=function(e){function t(t){var n=e.call(this)||this;return n.locale=t,n}return I.a(t,e),t.prototype.getPluralCategory=function(e){switch(a(this.locale,e)){case q.Zero:return"zero";case q.One:return"one";case q.Two:return"two";case q.Few:return"few";case q.Many:return"many";default:return"other"}},t}(U);z.decorators=[{type:D.Injectable}],z.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[D.LOCALE_ID]}]}]};var q={};q.Zero=0,q.One=1,q.Two=2,q.Few=3,q.Many=4,q.Other=5,q[q.Zero]="Zero",q[q.One]="One",q[q.Two]="Two",q[q.Few]="Few",q[q.Many]="Many",q[q.Other]="Other";var W=function(){function e(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(e.prototype,"klass",{set:function(e){this._applyInitialClasses(!0),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(e){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(D["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}},e.prototype._cleanupClasses=function(e){this._applyClasses(e,!0),this._applyInitialClasses(!1)},e.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})},e.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(D["\u0275stringify"])(e.item));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})},e.prototype._applyInitialClasses=function(e){var t=this;this._initialClasses.forEach(function(n){return t._toggleClass(n,!e)})},e.prototype._applyClasses=function(e,t){var n=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return n._toggleClass(e,!t)}):Object.keys(e).forEach(function(r){null!=e[r]&&n._toggleClass(r,!t)}))},e.prototype._toggleClass=function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){n._renderer.setElementClass(n._ngEl.nativeElement,e,!!t)})},e}();W.decorators=[{type:D.Directive,args:[{selector:"[ngClass]"}]}],W.ctorParameters=function(){return[{type:D.IterableDiffers},{type:D.KeyValueDiffers},{type:D.ElementRef},{type:D.Renderer}]},W.propDecorators={klass:[{type:D.Input,args:["class"]}],ngClass:[{type:D.Input}]};var G=function(){function e(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}return e.prototype.ngOnChanges=function(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=t.get(D.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(D.ComponentFactoryResolver),o=r.resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(o,this._viewContainerRef.length,t,this.ngComponentOutletContent)}},e.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},e}();G.decorators=[{type:D.Directive,args:[{selector:"[ngComponentOutlet]"}]}],G.ctorParameters=function(){return[{type:D.ViewContainerRef}]},G.propDecorators={ngComponentOutlet:[{type:D.Input}],ngComponentOutletInjector:[{type:D.Input}],ngComponentOutletContent:[{type:D.Input}],ngComponentOutletNgModuleFactory:[{type:D.Input}]};var K=function(){function e(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),$=function(){function e(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._differ=null}return Object.defineProperty(e.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(e){Object(D.isDevMode)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(e)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){e&&(this._template=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){if("ngForOf"in e){var t=e.ngForOf.currentValue;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+u(t)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},e.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this.ngForOf);e&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this,n=[];e.forEachOperation(function(e,r,o){if(null==e.previousIndex){var i=t._viewContainer.createEmbeddedView(t._template,new K(null,t.ngForOf,-1,-1),o),a=new Y(e,i);n.push(a)}else if(null==o)t._viewContainer.remove(r);else{var i=t._viewContainer.get(r);t._viewContainer.move(i,o);var a=new Y(e,i);n.push(a)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var i=this._viewContainer.get(r);i.context.index=r,i.context.count=o}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})},e.prototype._perViewChange=function(e,t){e.context.$implicit=t.item},e}();$.decorators=[{type:D.Directive,args:[{selector:"[ngFor][ngForOf]"}]}],$.ctorParameters=function(){return[{type:D.ViewContainerRef},{type:D.TemplateRef},{type:D.IterableDiffers}]},$.propDecorators={ngForOf:[{type:D.Input}],ngForTrackBy:[{type:D.Input}],ngForTemplate:[{type:D.Input}]};var Y=function(){function e(e,t){this.record=e,this.view=t}return e}(),X=$,Z=function(){function e(e,t){this._viewContainer=e,this._context=new J,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}return Object.defineProperty(e.prototype,"ngIf",{set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfThen",{set:function(e){this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfElse",{set:function(e){this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},e}();Z.decorators=[{type:D.Directive,args:[{selector:"[ngIf]"}]}],Z.ctorParameters=function(){return[{type:D.ViewContainerRef},{type:D.TemplateRef}]},Z.propDecorators={ngIf:[{type:D.Input}],ngIfThen:[{type:D.Input}],ngIfElse:[{type:D.Input}]};var J=function(){function e(){this.$implicit=null,this.ngIf=null}return e}(),Q=function(){function e(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}return e.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},e.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},e.prototype.enforceState=function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()},e}(),ee=function(){function e(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(e.prototype,"ngSwitch",{set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),e.prototype._addCase=function(){return this._caseCount++},e.prototype._addDefault=function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)},e.prototype._matchCase=function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t},e.prototype._updateDefaultCases=function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++){this._defaultViews[t].enforceState(e)}}},e}();ee.decorators=[{type:D.Directive,args:[{selector:"[ngSwitch]"}]}],ee.ctorParameters=function(){return[]},ee.propDecorators={ngSwitch:[{type:D.Input}]};var te=function(){function e(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Q(e,t)}return e.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},e}();te.decorators=[{type:D.Directive,args:[{selector:"[ngSwitchCase]"}]}],te.ctorParameters=function(){return[{type:D.ViewContainerRef},{type:D.TemplateRef},{type:ee,decorators:[{type:D.Host}]}]},te.propDecorators={ngSwitchCase:[{type:D.Input}]};var ne=function(){function e(e,t,n){n._addDefault(new Q(e,t))}return e}();ne.decorators=[{type:D.Directive,args:[{selector:"[ngSwitchDefault]"}]}],ne.ctorParameters=function(){return[{type:D.ViewContainerRef},{type:D.TemplateRef},{type:ee,decorators:[{type:D.Host}]}]};var re=function(){function e(e){this._localization=e,this._caseViews={}}return Object.defineProperty(e.prototype,"ngPlural",{set:function(e){this._switchValue=e,this._updateView()},enumerable:!0,configurable:!0}),e.prototype.addCase=function(e,t){this._caseViews[e]=t},e.prototype._updateView=function(){this._clearViews();var e=Object.keys(this._caseViews),t=i(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])},e.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},e.prototype._activateView=function(e){e&&(this._activeView=e,this._activeView.create())},e}();re.decorators=[{type:D.Directive,args:[{selector:"[ngPlural]"}]}],re.ctorParameters=function(){return[{type:U}]},re.propDecorators={ngPlural:[{type:D.Input}]};var oe=function(){function e(e,t,n,r){this.value=e;var o=!isNaN(Number(e));r.addCase(o?"="+e:e,new Q(n,t))}return e}();oe.decorators=[{type:D.Directive,args:[{selector:"[ngPluralCase]"}]}],oe.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Attribute,args:["ngPluralCase"]}]},{type:D.TemplateRef},{type:D.ViewContainerRef},{type:re,decorators:[{type:D.Host}]}]};var ie=function(){function e(e,t,n){this._differs=e,this._ngEl=t,this._renderer=n}return Object.defineProperty(e.prototype,"ngStyle",{set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})},e.prototype._setStyle=function(e,t){var n=e.split("."),r=n[0],o=n[1];t=null!=t&&o?""+t+o:t,this._renderer.setElementStyle(this._ngEl.nativeElement,r,t)},e}();ie.decorators=[{type:D.Directive,args:[{selector:"[ngStyle]"}]}],ie.ctorParameters=function(){return[{type:D.KeyValueDiffers},{type:D.ElementRef},{type:D.Renderer}]},ie.propDecorators={ngStyle:[{type:D.Input}]};var ae=function(){function e(e){this._viewContainerRef=e}return Object.defineProperty(e.prototype,"ngOutletContext",{set:function(e){this.ngTemplateOutletContext=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))},e}();ae.decorators=[{type:D.Directive,args:[{selector:"[ngTemplateOutlet]"}]}],ae.ctorParameters=function(){return[{type:D.ViewContainerRef}]},ae.propDecorators={ngTemplateOutletContext:[{type:D.Input}],ngTemplateOutlet:[{type:D.Input}],ngOutletContext:[{type:D.Input}]};var se=[W,G,$,Z,ae,ie,ee,te,ne,re,oe],ue=function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.subscribe({next:t,error:function(e){throw e}})},e.prototype.dispose=function(e){e.unsubscribe()},e.prototype.onDestroy=function(e){e.unsubscribe()},e}(),ce=function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.then(t,function(e){throw e})},e.prototype.dispose=function(e){},e.prototype.onDestroy=function(e){},e}(),le=new ce,fe=new ue,de=function(){function e(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return e.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},e.prototype.transform=function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,D.WrappedValue.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)},e.prototype._subscribe=function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})},e.prototype._selectStrategy=function(t){if(Object(D["\u0275isPromise"])(t))return le;if(Object(D["\u0275isObservable"])(t))return fe;throw c(e,t)},e.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},e.prototype._updateLatestValue=function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())},e}();de.decorators=[{type:D.Pipe,args:[{name:"async",pure:!1}]}],de.ctorParameters=function(){return[{type:D.ChangeDetectorRef}]};var pe=function(){function e(){}return e.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw c(e,t);return t.toLowerCase()},e}();pe.decorators=[{type:D.Pipe,args:[{name:"lowercase"}]}],pe.ctorParameters=function(){return[]};var he=function(){function e(){}return e.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw c(e,t);return t.split(/\b/g).map(function(e){return l(e)}).join("")},e}();he.decorators=[{type:D.Pipe,args:[{name:"titlecase"}]}],he.ctorParameters=function(){return[]};var me=function(){function e(){}return e.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw c(e,t);return t.toUpperCase()},e}();me.decorators=[{type:D.Pipe,args:[{name:"uppercase"}]}],me.ctorParameters=function(){return[]};var ge={};ge.Decimal=0,ge.Percent=1,ge.Currency=2,ge[ge.Decimal]="Decimal",ge[ge.Percent]="Percent",ge[ge.Currency]="Currency";var ve=function(){function e(){}return e.format=function(e,t,n,r){void 0===r&&(r={});var o=r.minimumIntegerDigits,i=r.minimumFractionDigits,a=r.maximumFractionDigits,s=r.currency,u=r.currencyAsSymbol,c=void 0!==u&&u,l={minimumIntegerDigits:o,minimumFractionDigits:i,maximumFractionDigits:a,style:ge[n].toLowerCase()};return n==ge.Currency&&(l.currency="string"==typeof s?s:void 0,l.currencyDisplay=c?"symbol":"code"),new Intl.NumberFormat(t,l).format(e)},e}(),ye=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,be={yMMMdjms:b(y([g("year",1),v("month",3),g("day",1),g("hour",1),g("minute",1),g("second",1)])),yMdjm:b(y([g("year",1),g("month",1),g("day",1),g("hour",1),g("minute",1)])),yMMMMEEEEd:b(y([g("year",1),v("month",4),v("weekday",4),g("day",1)])),yMMMMd:b(y([g("year",1),v("month",4),g("day",1)])),yMMMd:b(y([g("year",1),v("month",3),g("day",1)])),yMd:b(y([g("year",1),g("month",1),g("day",1)])),jms:b(y([g("hour",1),g("second",1),g("minute",1)])),jm:b(y([g("hour",1),g("minute",1)]))},we={yyyy:b(g("year",4)),yy:b(g("year",2)),y:b(g("year",1)),MMMM:b(v("month",4)),MMM:b(v("month",3)),MM:b(g("month",2)),M:b(g("month",1)),LLLL:b(v("month",4)),L:b(v("month",1)),dd:b(g("day",2)),d:b(g("day",1)),HH:f(d(b(m(g("hour",2),!1)))),H:d(b(m(g("hour",1),!1))),hh:f(d(b(m(g("hour",2),!0)))),h:d(b(m(g("hour",1),!0))),jj:b(g("hour",2)),j:b(g("hour",1)),mm:f(b(g("minute",2))),m:b(g("minute",1)),ss:f(b(g("second",2))),s:b(g("second",1)),sss:b(g("second",3)),EEEE:b(v("weekday",4)),EEE:b(v("weekday",3)),EE:b(v("weekday",2)),E:b(v("weekday",1)),a:function(e){return function(t,n){return e(t,n).split(" ")[1]}}(b(m(g("hour",1),!0))),Z:h("short"),z:h("long"),ww:b({}),w:b({}),G:b(v("era",1)),GG:b(v("era",2)),GGG:b(v("era",3)),GGGG:b(v("era",4))},Ce=new Map,_e=function(){function e(){}return e.format=function(e,t,n){return w(n,e,t)},e}(),xe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ee=function(){function e(e){this._locale=e}return e.prototype.transform=function(t,n){return _(e,this._locale,t,ge.Decimal,n)},e}();Ee.decorators=[{type:D.Pipe,args:[{name:"number"}]}],Ee.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[D.LOCALE_ID]}]}]};var Se=function(){function e(e){this._locale=e}return e.prototype.transform=function(t,n){return _(e,this._locale,t,ge.Percent,n)},e}();Se.decorators=[{type:D.Pipe,args:[{name:"percent"}]}],Se.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[D.LOCALE_ID]}]}]};var Oe=function(){function e(e){this._locale=e}return e.prototype.transform=function(t,n,r,o){return void 0===n&&(n="USD"),void 0===r&&(r=!1),_(e,this._locale,t,ge.Currency,o,n,r)},e}();Oe.decorators=[{type:D.Pipe,args:[{name:"currency"}]}],Oe.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[D.LOCALE_ID]}]}]};var Te=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ke=function(){function e(e){this._locale=e}return e.prototype.transform=function(t,n){void 0===n&&(n="mediumDate");var r;if(S(t)||t!==t)return null;if("string"==typeof t&&(t=t.trim()),O(t))r=t;else if(E(t))r=new Date(parseFloat(t));else if("string"==typeof t&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var o=t.split("-").map(function(e){return parseInt(e,10)}),i=o[0],a=o[1],s=o[2];r=new Date(i,a-1,s)}else r=new Date(t);if(!O(r)){var u=void 0;if("string"!=typeof t||!(u=t.match(Te)))throw c(e,t);r=T(u)}return _e.format(r,this._locale,e._ALIASES[n]||n)},e}();ke._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},ke.decorators=[{type:D.Pipe,args:[{name:"date",pure:!0}]}],ke.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[D.LOCALE_ID]}]}]};var Re=/#/g,Pe=function(){function e(e){this._localization=e}return e.prototype.transform=function(t,n){if(null==t)return"";if("object"!=typeof n||null===n)throw c(e,n);return n[i(t,Object.keys(n),this._localization)].replace(Re,t.toString())},e}();Pe.decorators=[{type:D.Pipe,args:[{name:"i18nPlural",pure:!0}]}],Pe.ctorParameters=function(){return[{type:U}]};var Ne=function(){function e(){}return e.prototype.transform=function(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw c(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""},e}();Ne.decorators=[{type:D.Pipe,args:[{name:"i18nSelect",pure:!0}]}],Ne.ctorParameters=function(){return[]};var Ae=function(){function e(){}return e.prototype.transform=function(e){return JSON.stringify(e,null,2)},e}();Ae.decorators=[{type:D.Pipe,args:[{name:"json",pure:!1}]}],Ae.ctorParameters=function(){return[]};var Ie=function(){function e(){}return e.prototype.transform=function(t,n,r){if(null==t)return t;if(!this.supports(t))throw c(e,t);return t.slice(n,r)},e.prototype.supports=function(e){return"string"==typeof e||Array.isArray(e)},e}();Ie.decorators=[{type:D.Pipe,args:[{name:"slice",pure:!1}]}],Ie.ctorParameters=function(){return[]};var De=[de,me,pe,Ae,Ie,Ee,Se,he,Oe,ke,Pe,Ne],Me=function(){function e(){}return e}();Me.decorators=[{type:D.NgModule,args:[{declarations:[se,De],exports:[se,De],providers:[{provide:U,useClass:z}]}]}],Me.ctorParameters=function(){return[]};var Le=function(){function e(){}return e}();Le.decorators=[{type:D.NgModule,args:[{declarations:[],exports:[]}]}],Le.ctorParameters=function(){return[]};var Be=new D.InjectionToken("DocumentToken"),Fe="browser",je="server",Ve="browserWorkerApp",He="browserWorkerUi",Ue=new D.Version("4.4.7")},rf3q:function(e,t,n){"use strict";function r(e,t,n){if(e){if(e instanceof o.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||n?new o.Subscriber(e,t,n):new o.Subscriber(a.empty)}var o=n("T14+"),i=n("dkwD"),a=n("LiYJ");t.toSubscriber=r},rlar:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("bKpL"),i=n("T14+"),a=n("xFbG"),s=n("Lhvy"),u=n("g0Kb"),c=n("dkwD"),l=function(e){function t(t){e.call(this,t),this.destination=t}return r(t,e),t}(i.Subscriber);t.SubjectSubscriber=l;var f=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(t,e),t.prototype[c.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(o.Observable);t.Subject=f;var d=function(e){function t(t,n){e.call(this),this.destination=t,this.source=n}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},t}(f);t.AnonymousSubject=d},syXJ:function(e,t){!function(){!function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),r=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),o=tinymce.util.Tools.resolve("tinymce.util.VK"),i=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),a=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),u=function(e){return e&&3===e.nodeType},c=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},l=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},f=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},d=function(e){return e&&"BR"===e.nodeName},p=function(e){return e.parentNode.firstChild===e},h=function(e){return e.parentNode.lastChild===e},m=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},g=function(e,t){return e&&e.nodeName in t},v=function(e,t){return!!d(t)&&!(!e.isBlock(t.nextSibling)||d(t.previousSibling))},y=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},b=function(e,t){return e.isChildOf(t,e.getRoot())},w={isTextNode:u,isListNode:c,isListItemNode:l,isTableCellNode:f,isBr:d,isFirstChild:p,isLastChild:h,isTextBlock:m,isBlock:g,isBogusBr:v,isEmpty:y,isChildOfBody:b},C=function(e,t){var r=n.getNode(e,t);if(w.isListItemNode(e)&&w.isTextNode(r)){return{container:r,offset:t>=e.childNodes.length?r.data.length:0}}return{container:e,offset:t}},_=function(e){var t=e.cloneRange(),n=C(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=C(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},x={getNormalizedEndPoint:C,normalizeRange:_},E=s.DOM,S=function(e){var t={},n=function(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=E.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):E.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i};return n(!0),e.collapsed||n(),t},O=function(e){function t(t){var n,r,o;n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,E.remove(o),!n.hasChildNodes()&&E.isBlock(n)&&n.appendChild(E.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=E.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),x.normalizeRange(n)},T={createBookmark:S,resolveBookmark:O},k=s.DOM,R=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),w.isEmpty(e,r)&&k.remove(r)):k.setStyle(r,"listStyleType","none")),w.isListNode(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)},P=function(e,t){a.each(a.grep(e.select("ol,ul",t)),function(t){R(e,t)})},N={normalizeList:R,normalizeLists:P},A=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),I=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",j(e,t))},D=function(e,t){return e&&1===t.length&&t[0]===e},M=function(e){return a.grep(e.querySelectorAll("ol,ul,dl"),function(e){return w.isListNode(e)})},L=function(e){var t=I(e),n=e.selection.getSelectedBlocks();return D(t,n)?M(t):a.grep(n,function(e){return w.isListNode(e)&&t!==e})},B=function(e,t){var n=a.map(t,function(t){var n=e.dom.getParent(t,"li,dd,dt",j(e,t));return n||t});return A.unique(n)},F=function(e){var t=e.selection.getSelectedBlocks();return a.grep(B(e,t),function(e){return w.isListItemNode(e)})},j=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},V={getParentList:I,getSelectedSubLists:L,getSelectedListItems:F,getClosestListRootElm:j},H=tinymce.util.Tools.resolve("tinymce.Env"),U=s.DOM,z=function(e,t,n){var r,o,i,a=U.createFragment(),s=e.schema.getBlockElements();if(e.settings.forced_root_block&&(n=n||e.settings.forced_root_block),n&&(o=U.create(n),o.tagName===e.settings.forced_root_block&&U.setAttribs(o,e.settings.forced_root_block_attrs),w.isBlock(t.firstChild,s)||a.appendChild(o)),t)for(;r=t.firstChild;){var u=r.nodeName;i||"SPAN"===u&&"bookmark"===r.getAttribute("data-mce-type")||(i=!0),w.isBlock(r,s)?(a.appendChild(r),o=null):n?(o||(o=U.create(n),a.appendChild(o)),o.appendChild(r)):a.appendChild(r)}return e.settings.forced_root_block?i||H.ie&&!(H.ie>10)||o.appendChild(U.create("br",{"data-mce-bogus":"1"})):a.appendChild(U.create("br")),a},q={createNewTextBlock:z},W=s.DOM,G=function(e,t,n,r){var o,i,s,u;for(s=W.select('span[data-mce-type="bookmark"]',t),r=r||q.createNewTextBlock(e,n),o=W.createRng(),o.setStartAfter(n),o.setEndAfter(t),i=o.extractContents(),u=i.firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){W.remove(u);break}e.dom.isEmpty(i)||W.insertAfter(i,t),W.insertAfter(r,t),w.isEmpty(e.dom,n.parentNode)&&function(e){a.each(s,function(t){e.parentNode.insertBefore(t,n.parentNode)}),W.remove(e)}(n.parentNode),W.remove(n),w.isEmpty(e.dom,t)&&W.remove(t)},K={splitList:G},$=s.DOM,Y=function(e,t){w.isEmpty(e,t)&&$.remove(t)},X=function(e,t){var n,r,o=t.parentNode;return o?(n=o.parentNode,o===e.getBody()||("DD"===t.nodeName?($.rename(t,"DT"),!0):w.isFirstChild(t)&&w.isLastChild(t)?("LI"===n.nodeName?($.insertAfter(t,n),Y(e.dom,n),$.remove(o)):w.isListNode(n)?$.remove(o,!0):(n.insertBefore(q.createNewTextBlock(e,t),o),$.remove(o)),!0):w.isFirstChild(t)?("LI"===n.nodeName?($.insertAfter(t,n),t.appendChild(o),Y(e.dom,n)):w.isListNode(n)?n.insertBefore(t,o):(n.insertBefore(q.createNewTextBlock(e,t),o),$.remove(t)),!0):w.isLastChild(t)?("LI"===n.nodeName?$.insertAfter(t,n):w.isListNode(n)?$.insertAfter(t,o):($.insertAfter(q.createNewTextBlock(e,t),o),$.remove(t)),!0):("LI"===n.nodeName?(o=n,r=q.createNewTextBlock(e,t,"LI")):r=w.isListNode(n)?q.createNewTextBlock(e,t,"LI"):q.createNewTextBlock(e,t),K.splitList(e,o,t,r),N.normalizeLists(e.dom,o.parentNode),!0))):(Y(e.dom,t),!0)},Z=function(e){var t=V.getSelectedListItems(e);if(t.length){var n=T.createBookmark(e.selection.getRng()),r=void 0,o=void 0,i=V.getClosestListRootElm(e,e.selection.getStart(!0));for(r=t.length;r--;)for(var a=t[r].parentNode;a&&a!==i;){for(o=t.length;o--;)if(t[o]===a){t.splice(r,1);break}a=a.parentNode}for(r=0;r<t.length&&(X(e,t[r])||0!==r);r++);return e.selection.setRng(T.resolveBookmark(n)),e.nodeChanged(),!0}},J={outdent:X,outdentSelection:Z},Q=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},ee=function(e,t){a.each(t,function(t,n){e.setAttribute(n,t)})},te=function(e,t,n){ee(t,n["list-attributes"]),a.each(e.select("li",t),function(e){ee(e,n["list-item-attributes"])})},ne=function(e,t,n){Q(e,t,n),te(e,t,n)},re=function(e,t,n){a.each(n,function(n){return e.setStyle(t,(r={},r[n]="",r));var r})},oe=function(e,t,n,r){var o,i;for(o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&w.isBr(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(w.isTextBlock(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},ie=function(e,t,n){for(var r,o=[],s=e.dom,u=oe(e,t,!0,n),c=oe(e,t,!1,n),l=[],f=u;f&&(l.push(f),f!==c);f=f.nextSibling);return a.each(l,function(t){if(w.isTextBlock(e,t))return o.push(t),void(r=null);if(s.isBlock(t)||w.isBr(t))return w.isBr(t)&&s.remove(t),void(r=null);var a=t.nextSibling;if(i.isBookmarkNode(t)&&(w.isTextBlock(e,a)||!a&&t.parentNode===n))return void(r=null);r||(r=s.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t)}),o},ae=function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},se=function(e,t,n){void 0===n&&(n={});var r,o=e.selection.getRng(!0),i="LI",s=V.getClosestListRootElm(e,e.selection.getStart(!0)),u=e.dom;"false"!==u.getContentEditable(e.selection.getNode())&&(t=t.toUpperCase(),"DL"===t&&(i="DT"),r=T.createBookmark(o),a.each(ie(e,o,s),function(r){var o,a;a=r.previousSibling,a&&w.isListNode(a)&&a.nodeName===t&&ae(u,a,n)?(o=a,r=u.rename(r,i),a.appendChild(r)):(o=u.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=u.rename(r,i)),re(u,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ne(u,o,n),pe(e.dom,o)}),e.selection.setRng(T.resolveBookmark(r)))},ue=function(e){var t=T.createBookmark(e.selection.getRng(!0)),n=V.getClosestListRootElm(e,e.selection.getStart(!0)),r=V.getSelectedListItems(e),o=a.grep(r,function(t){return e.dom.isEmpty(t)});r=a.grep(r,function(t){return!e.dom.isEmpty(t)}),a.each(o,function(t){if(w.isEmpty(e.dom,t))return void J.outdent(e,t)}),a.each(r,function(t){var r,o;if(t.parentNode!==e.getBody()){for(r=t;r&&r!==n;r=r.parentNode)w.isListNode(r)&&(o=r);K.splitList(e,o,t),N.normalizeLists(e.dom,o.parentNode)}}),e.selection.setRng(T.resolveBookmark(t))},ce=function(e,t){return e&&t&&w.isListNode(e)&&e.nodeName===t.nodeName},le=function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)},fe=function(e,t){return e.className===t.className},de=function(e,t,n){return ce(t,n)&&le(e,t,n)&&fe(t,n)},pe=function(e,t){var n,r;if(n=t.nextSibling,de(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,de(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},he=function(e,t,n,r){if(t.nodeName!==n){var o=e.rename(t,n);ne(e,o,r)}else ne(e,t,r)},me=function(e,t,n,r,o){if(t.nodeName!==r||ge(o)){var i=T.createBookmark(e.selection.getRng(!0));a.each([t].concat(n),function(t){he(e.dom,t,r,o)}),e.selection.setRng(T.resolveBookmark(i))}else ue(e)},ge=function(e){return"list-style-type"in e},ve=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||ge(r)){var o=T.createBookmark(e.selection.getRng(!0));ne(e.dom,t,r),pe(e.dom,e.dom.rename(t,n)),e.selection.setRng(T.resolveBookmark(o))}else ue(e);else se(e,n,r)},ye=function(e,t,n){var r=V.getParentList(e),o=V.getSelectedSubLists(e);n=n||{},r&&o.length>0?me(e,r,o,t,n):ve(e,r,t,n)},be={toggleList:ye,removeList:ue,mergeWithAdjacentLists:pe},we=function(e,t,o,i){var a,s,u=t.startContainer,c=t.startOffset;if(3===u.nodeType&&(o?c<u.data.length:c>0))return u;for(a=e.schema.getNonEmptyElements(),1===u.nodeType&&(u=n.getNode(u,c)),s=new r(u,i),o&&w.isBogusBr(e.dom,u)&&s.next();u=s[o?"next":"prev2"]();){if("LI"===u.nodeName&&!u.hasChildNodes())return u;if(a[u.nodeName])return u;if(3===u.nodeType&&u.data.length>0)return u}},Ce=function(e,t){var n=t.childNodes;return 1===n.length&&!w.isListNode(n[0])&&e.isBlock(n[0])},_e=function(e,t){Ce(e,t)&&e.remove(t.firstChild,!0)},xe=function(e,t,n){var r,o;if(o=Ce(e,n)?n.firstChild:n,_e(e,t),!w.isEmpty(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},Ee=function(e,t,n){var r,o,i=t.parentNode;w.isChildOfBody(e,t)&&w.isChildOfBody(e,n)&&(w.isListNode(n.lastChild)&&(o=n.lastChild),i===n.lastChild&&w.isBr(i.previousSibling)&&e.remove(i.previousSibling),r=n.lastChild,r&&w.isBr(r)&&t.hasChildNodes()&&e.remove(r),w.isEmpty(e,n,!0)&&e.$(n).empty(),xe(e,t,n),o&&n.appendChild(o),e.remove(t),w.isEmpty(e,i)&&i!==e.getRoot()&&e.remove(i))},Se=function(e,t,n){e.dom.$(n).empty(),Ee(e.dom,t,n),e.selection.setCursorLocation(n)},Oe=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))Se(e,n,r);else{var i=T.createBookmark(t);Ee(o,n,r),e.selection.setRng(T.resolveBookmark(i))}},Te=function(e,t,n,r){var o=T.createBookmark(t);Ee(e.dom,n,r);var i=T.resolveBookmark(o);e.selection.setRng(i)},ke=function(e,t){var n,r,o,i=e.dom,a=e.selection,s=a.getStart(),u=V.getClosestListRootElm(e,s),c=i.getParent(a.getStart(),"LI",u);if(c){if((n=c.parentNode)===e.getBody()&&w.isEmpty(i,n))return!0;if(r=x.normalizeRange(a.getRng(!0)),(o=i.getParent(we(e,r,t,u),"LI",u))&&o!==c)return t?Oe(e,r,o,c):Te(e,r,c,o),!0;if(!o&&!t&&be.removeList(e))return!0}return!1},Re=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Pe=function(e,t){var n=e.dom,r=e.selection.getStart(),o=V.getClosestListRootElm(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=x.normalizeRange(e.selection.getRng(!0)),s=n.getParent(we(e,a,t,o),"LI",o);if(s)return e.undoManager.transact(function(){Re(n,i,o),be.mergeWithAdjacentLists(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)}),!0}return!1},Ne=function(e,t){return ke(e,t)||Pe(e,t)},Ae=function(e){var t=e.selection.getStart(),n=V.getClosestListRootElm(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||V.getSelectedListItems(e).length>0)&&(e.undoManager.transact(function(){e.execCommand("Delete"),N.normalizeLists(e.dom,e.getBody())}),!0)},Ie=function(e,t){return e.selection.isCollapsed()?Ne(e,t):Ae(e)},De=function(e){e.on("keydown",function(t){t.keyCode===o.BACKSPACE?Ie(e,!1)&&t.preventDefault():t.keyCode===o.DELETE&&Ie(e,!0)&&t.preventDefault()})},Me={setup:De,backspaceDelete:Ie},Le=function(e){return{backspaceDelete:function(t){Me.backspaceDelete(e,t)}}},Be={get:Le},Fe=s.DOM,je=function(e,t){var n;if(w.isListNode(e)){for(;n=e.firstChild;)t.appendChild(n);Fe.remove(e)}},Ve=function(e){var t,n,r;return"DT"===e.nodeName?(Fe.rename(e,"DD"),!0):(t=e.previousSibling)&&w.isListNode(t)?(t.appendChild(e),!0):t&&"LI"===t.nodeName&&w.isListNode(t.lastChild)?(t.lastChild.appendChild(e),je(e.lastChild,t.lastChild),!0):(t=e.nextSibling)&&w.isListNode(t)?(t.insertBefore(e,t.firstChild),!0):!(!(t=e.previousSibling)||"LI"!==t.nodeName)&&(n=Fe.create(e.parentNode.nodeName),r=Fe.getStyle(e.parentNode,"listStyleType"),r&&Fe.setStyle(n,"listStyleType",r),t.appendChild(n),n.appendChild(e),je(e.lastChild,n),!0)},He=function(e){var t=V.getSelectedListItems(e);if(t.length){for(var n=T.createBookmark(e.selection.getRng(!0)),r=0;r<t.length&&(Ve(t[r])||0!==r);r++);return e.selection.setRng(T.resolveBookmark(n)),e.nodeChanged(),!0}},Ue={indentSelection:He},ze=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},qe=function(e){e.on("BeforeExecCommand",function(t){var n,r=t.command.toLowerCase();if("indent"===r?Ue.indentSelection(e)&&(n=!0):"outdent"===r&&J.outdentSelection(e)&&(n=!0),n)return e.fire("ExecCommand",{command:t.command}),t.preventDefault(),!0}),e.addCommand("InsertUnorderedList",function(t,n){be.toggleList(e,"UL",n)}),e.addCommand("InsertOrderedList",function(t,n){be.toggleList(e,"OL",n)}),e.addCommand("InsertDefinitionList",function(t,n){be.toggleList(e,"DL",n)}),e.addQueryStateHandler("InsertUnorderedList",ze(e,"UL")),e.addQueryStateHandler("InsertOrderedList",ze(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",ze(e,"DL"))},We={register:qe},Ge=function(e){return e.getParam("lists_indent_on_tab",!0)},Ke={shouldIndentOnTab:Ge},$e=function(e){e.on("keydown",function(t){t.keyCode!==o.TAB||o.metaKeyPressed(t)||e.dom.getParent(e.selection.getStart(),"LI,DT,DD")&&(t.preventDefault(),t.shiftKey?J.outdentSelection(e):Ue.indentSelection(e))})},Ye=function(e){Ke.shouldIndentOnTab(e)&&$e(e),Me.setup(e)},Xe={setup:Ye},Ze=function(e,t){for(var n=0;n<e.length;n++){if(t(e[n]))return n}return-1},Je=function(e,t){return function(n){var r=n.control;e.on("NodeChange",function(e){var n=Ze(e.parents,w.isTableCellNode),o=-1!==n?e.parents.slice(0,n):e.parents,i=a.grep(o,w.isListNode);r.active(i.length>0&&i[0].nodeName===t)})}},Qe=function(e){return function(t){var n=t.control;e.on("nodechange",function(){var t=V.getSelectedListItems(e),r=t.length>0&&w.isFirstChild(t[0]);n.disabled(r)})}},et=function(e){(function(e,t){var n=e.settings.plugins?e.settings.plugins:"";return-1!==a.inArray(n.split(/[ ,]/),t)})(e,"advlist")||(e.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:Je(e,"OL")}),e.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:Je(e,"UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:Qe(e)})},tt={register:et};t.add("lists",function(e){return Xe.setup(e),tt.register(e),We.register(e),Be.get(e)})}()}()},"uT+d":function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ArgumentOutOfRangeError=o},ueUM:function(e,t,n){"use strict";function r(e){return o.catchError(e)(this)}var o=n("g1RG");t._catch=r},uwCa:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=n("/oeL"),i=n("Me5P"),a=function(){function e(){}return e}();a=r([o.NgModule({declarations:[i.Ng2OrderPipe],exports:[i.Ng2OrderPipe]})],a),t.Ng2OrderModule=a},vxPf:function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:i.noop}var i=n("Z5ED");t.pipe=r,t.pipeFromArray=o},wCVK:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("bKpL"),i=n("aOKN"),a=n("fcnB"),s=function(e){function t(t,n){e.call(this),this.arrayLike=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){var r=e.length;return 0===r?new a.EmptyObservable:1===r?new i.ScalarObservable(e[0],n):new t(e,n)},t.dispatch=function(e){var t=e.arrayLike,n=e.index,r=e.length,o=e.subscriber;if(!o.closed){if(n>=r)return void o.complete();o.next(t[n]),e.index=n+1,this.schedule(e)}},t.prototype._subscribe=function(e){var n=this,r=n.arrayLike,o=n.scheduler,i=r.length;if(o)return o.schedule(t.dispatch,0,{arrayLike:r,index:0,length:i,subscriber:e});for(var a=0;a<i&&!e.closed;a++)e.next(r[a]);e.complete()},t}(o.Observable);t.ArrayLikeObservable=s},wXaq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.plugins=["link","paste","table","advlist","autoresize","lists","code"],this.skin_url="/assets/tinymce/skins/lightgray",this.baseURL="/assets/tinymce",this.auto_focus=!0}return e}();t.TinymceDefaultOptions=r},wZOE:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("bKpL"),i=n("aOKN"),a=n("fcnB"),s=n("MicL"),u=function(e){function t(t,n){e.call(this),this.array=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){return new t(e,n)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=e[e.length-1];s.isScheduler(r)?e.pop():r=null;var o=e.length;return o>1?new t(e,r):1===o?new i.ScalarObservable(e[0],r):new a.EmptyObservable(r)},t.dispatch=function(e){var t=e.array,n=e.index,r=e.count,o=e.subscriber;if(n>=r)return void o.complete();o.next(t[n]),o.closed||(e.index=n+1,this.schedule(e))},t.prototype._subscribe=function(e){var n=this.array,r=n.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:n,index:0,count:r,subscriber:e});for(var i=0;i<r&&!e.closed;i++)e.next(n[i]);e.complete()},t}(o.Observable);t.ArrayObservable=u},xFbG:function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return e.concat(t instanceof c.UnsubscriptionError?t.errors:t)},[])}var o=n("NSJx"),i=n("H6Sg"),a=n("fclq"),s=n("RdI5"),u=n("XRvs"),c=n("Emqh"),l=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this,l=n._parent,f=n._parents,d=n._unsubscribe,p=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,m=f?f.length:0;l;)l.remove(this),l=++h<m&&f[h]||null;if(a.isFunction(d)){var g=s.tryCatch(d).call(this);g===u.errorObject&&(t=!0,e=e||(u.errorObject.e instanceof c.UnsubscriptionError?r(u.errorObject.e.errors):[u.errorObject.e]))}if(o.isArray(p))for(h=-1,m=p.length;++h<m;){var v=p[h];if(i.isObject(v)){var g=s.tryCatch(v.unsubscribe).call(v);if(g===u.errorObject){t=!0,e=e||[];var y=u.errorObject.e;y instanceof c.UnsubscriptionError?e=e.concat(r(y.errors)):e.push(y)}}}if(t)throw new c.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;n=new e,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this,n=t._parent,r=t._parents;n&&n!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();t.Subscription=l},xKl2:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("rlar"),i=n("bKpL"),a=n("T14+"),s=n("xFbG"),u=n("F9px"),c=function(e){function t(t,n){e.call(this),this.source=t,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return r(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.Subscription,e.add(this.source.subscribe(new f(this.getSubject(),this))),e.closed?(this._connection=null,e=s.Subscription.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return u.refCount()(this)},t}(i.Observable);t.ConnectableObservable=c;var l=c.prototype;t.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};var f=function(e){function t(t,n){e.call(this,t),this.connectable=n}return r(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.SubjectSubscriber),d=(function(){function e(e){this.connectable=e}e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new d(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o}}(),function(e){function t(t,n){e.call(this,t),this.connectable=n}return r(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(!e)return void(this.connection=null);this.connectable=null;var t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},t}(a.Subscriber))},yEhY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t,n){this.id=e.nextId++,this.text="default text",this.cssClass="",this.text=t,this.cssClass=n}return e}();r.nextId=0,t.FlashMessage=r},yW9Z:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("T14+"),i=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(o.Subscriber);t.OuterSubscriber=i},zijX:function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=void 0!==e&&e,i=n||o||r;t.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(t,n("fRUx"))},zrH4:function(e,t,n){"use strict";function r(e,t,n){return function(r){return r.lift(new s(e,t,n,r))}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n("T14+"),a=n("TpsG");t.last=r;var s=function(){function e(e,t,n,r){this.predicate=e,this.resultSelector=t,this.defaultValue=n,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),u=function(e){function t(t,n,r,o,i){e.call(this,t),this.predicate=n,this.resultSelector=r,this.defaultValue=o,this.source=i,this.hasValue=!1,this.index=0,void 0!==o&&(this.lastValue=o,this.hasValue=!0)}return o(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var n;try{n=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(n){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var n;try{n=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=n,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new a.EmptyError)},t}(i.Subscriber)}});