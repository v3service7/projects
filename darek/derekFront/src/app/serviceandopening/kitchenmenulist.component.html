<app-headerowner></app-headerowner>

<div class="rightMainDiv col-lg-9 col-md-9 col-sm-9 padding0 displayFlex">
   

   <div class="menuSetup col-lg-8 col-md-8 col-sm-8 col-xs-8 padding0" id="Menu11">
      <!-- add menu button -->
      <div class="col-lg-12 col-md-12 col-xs-12 col-sm-12" style="padding: 2%">
            <button  *ngIf="restaurants" class="btn btn-success" id="showPreviewButton" [attr.data-gfid]="restaurants._id" [attr.data-baseurl]="frontUrl" (click)="showPreview()" style="">Preview & Test Ordering </button>

            <button class="btn" (click)="menuModelShow()" style="color: #fff;background-color: #999;">Menu Add</button>

      </div>
      <!-- add menu button end -->

      <!--Add Menu Modal -->
      <div class="modal fade" id="addMenu" role="dialog">
         <div class="modal-dialog"> 
            <div class="modal-content">
               <form [formGroup]="menuAddModel" (ngSubmit)="userAdd()">
                  <div class="firstDiv modal-header">
                     <!-- <div class="modal-header"> -->
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Add Menu</h4>
                     <!-- </div> -->
                  </div>
                  <div class="secondDiv">
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-cutlery" aria-hidden="true"></i>
                        </span>
                        <input type="text" class="form-control" formControlName="name">
                        <span class="gfe-input-placeholder">Menu Name *</span>
                     </div>
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-cutlery" aria-hidden="true"></i>
                        </span>
                        <input type="text" class="form-control" formControlName="description">
                        <span class="gfe-input-placeholder">Description</span>
                     </div>
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-picture-o" aria-hidden="true"></i>
                        </span>
                        <input type="file" class="form-control" name="single" ng2FileSelect [uploader]="uploader" (change)="onChange($event)" />
                     </div>            
                  </div>
                  <div class="modal-footer">
                     <input type="submit" class="btn btn-next" [disabled]="!menuAddModel.valid" value="Next" >
                  </div>
               </form>
            </div>
         </div>
      </div>
      <!--Add Menu Modal End -->

      <!--Add Item Modal -->
      <div class="modal fade" id="addItem" role="dialog">
         <div class="modal-dialog"> 
            <div class="modal-content">
               <form [formGroup]="itemAddModel" (ngSubmit)="itemAdd()">
                  <div class="firstDiv modal-header">
                     <!-- <div class="modal-header"> -->
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Add Item</h4>
                     <!-- </div> -->
                  </div>

                  <div class="" style="background: #F4F2EF;padding: 3%;">
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-cutlery" aria-hidden="true"></i>
                        </span>
                        <input type="text" class="form-control" formControlName="name">
                        <span class="gfe-input-placeholder">Item Name *</span>
                     </div>
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-info-circle" aria-hidden="true"></i>
                        </span>
                        <input type="text" class="form-control" formControlName="description">
                        <span class="gfe-input-placeholder">Description *</span>
                     </div>
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-usd" aria-hidden="true"></i>
                        </span>
                        <input type="number" class="form-control" formControlName="price">
                        <span class="gfe-input-placeholder">Item Price *</span>
                     </div>
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-picture-o" aria-hidden="true"></i>
                        </span>
                        <input type="file" class="form-control" name="single" ng2FileSelect [uploader]="uploader" (change)="onChangeItem($event)"/>
                     </div>
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-check-square-o" aria-hidden="true"></i>
                        </span>
                        <div class="form-control padding0" style="height: inherit;">
                           <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" *ngFor="let itemGroup of itemGroups" style="padding: 1%;">
                              <input type="checkbox" value="{{itemGroup._id}}" (change)="onClicked($event)">{{itemGroup.name}} &nbsp;<span *ngIf="itemGroup.groupType">({{itemGroup.groupType.gType}})</span>
                           </div>
                        </div>
                     </div>
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-fire" aria-hidden="true"></i>
                        </span>
                        <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12 spicySetting form-control">
                           <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                              <div class="width100" style="background: #a4a4a4;height: 3px;">
                                 <div class="gradientClass" [style.width] ="spicyLevel + '%'" style="height: 3px;"></div>
                              </div>
                              <div class="width100" style="display: flex;">
                                 <span (click)="spicylevel(0, 'add')">0</span>
                                 <div style="width: 33%; text-align: right;" class="level1" (click)="spicylevel(1, 'add')">1</div>
                                 <div style="width: 33%; text-align: right;" class="level2" (click)="spicylevel(2, 'add')">2</div>
                                 <div style="width: 33%; text-align: right;" class="level3" (click)="spicylevel(3, 'add')">3</div>
                              </div>

                           </div>
                        </div>
                     </div>


                  </div>
                  <div class="modal-footer">
                     <input type="submit" class="btn btn-next" value="Next" [disabled]="!itemAddModel.valid">
                  </div>
               </form>
            </div>
         </div>
      </div>
      <!--Add Item Modal End -->

      <!--Menu Update Modal -->
      <div class="modal fade" id="updateMenu" role="dialog">
         <div class="modal-dialog"> 
            <div class="modal-content">
               <form [formGroup]="menuUpdateModel" (ngSubmit)="userUpdate()">
                  <div class="firstDiv modal-header">
                     <!-- <div class="modal-header"> -->
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Update Menu</h4>
                     <!-- </div> -->
                  </div>
                  <div class="secondDiv">
                     <!-- <div>
                        <label for="fname">Name: </label>
                        <input type="text" formControlName="name" style="float: right;">
                     </div> -->
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-cutlery" aria-hidden="true"></i>
                        </span>
                        <input type="text" class="form-control" formControlName="name">
                        <span class="gfe-input-placeholder">Menu Name *</span>
                     </div>
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-cutlery" aria-hidden="true"></i>
                        </span>
                        <input type="text" class="form-control" formControlName="description">
                        <span class="gfe-input-placeholder">Description</span>
                     </div>
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-picture-o" aria-hidden="true"></i>
                        </span>
                        <input type="file" class="form-control" name="file" ng2FileSelect [uploader]="uploader" (change)="onChangeMenuUpdate($event)" />
                     </div>
                  </div>
                  <div class="modal-footer">
                     <input type="submit" class="btn" value="Next" [disabled]="!menuUpdateModel.valid">
                  </div>
               </form>
            </div>
         </div>
      </div>
      <!--Menu Update Modal End -->

      <!--Item Update Modal -->
      <div class="modal fade" id="updateItem" role="dialog">
         <div class="modal-dialog"> 
            <div class="modal-content">
               <form [formGroup]="itemUpdateModel" (ngSubmit)="itemUpdate()">
                  <div class="firstDiv modal-header">
                     <!-- <div class="modal-header"> -->
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Update Item</h4>
                     <!-- </div> -->
                  </div>
                  <div class="" style="background: #F4F2EF;padding: 3%;">
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-cutlery" aria-hidden="true"></i>
                        </span>
                        <input type="text" class="form-control" formControlName="name">
                        <span class="gfe-input-placeholder">Item Name *</span>
                     </div>
                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-info-circle" aria-hidden="true"></i>
                        </span>
                        <input type="text" class="form-control" formControlName="description">
                        <span class="gfe-input-placeholder">Description *</span>
                     </div>

                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-usd" aria-hidden="true"></i>
                        </span>
                        <input type="number" class="form-control" formControlName="price">
                        <span class="gfe-input-placeholder">Item Price *</span>
                     </div>

                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-picture-o" aria-hidden="true"></i>
                        </span>
                        <input type="file" class="form-control" name="single" ng2FileSelect [uploader]="uploader" (change)="onChangeItemUpdate($event)"/>
                     </div>

                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-check-square-o" aria-hidden="true"></i>
                        </span>
                        <div class="form-control" style="height: inherit;padding: 0;">
                           <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" *ngFor="let itemGroup of itemGroups" style="padding: 1%;">
                              <input type="checkbox" value="{{itemGroup._id}}"  [checked]="checkCheckedGroup(itemGroup._id)" (change)="onClicked($event)">{{itemGroup.name}} &nbsp;<span *ngIf="itemGroup.groupType">({{itemGroup.groupType.gType}})</span>
                           </div>
                        </div>
                         <span class="gfe-input-placeholder">AddOns *</span>
                     </div>

                     <div class="input-group gfe-input">
                        <span class="input-group-addon">
                           <i class="fa fa-fire" aria-hidden="true"></i>
                        </span>
                        <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12 spicySetting form-control">
                           <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                              <div class="width100" style="background: #a4a4a4;height: 3px;">
                                 <div class="gradientClass" [style.width] ="spicyLevel + '%'" style="height: 3px;"></div>
                              </div>
                              <div class="width100" style="display: flex;">
                                 <span (click)="spicylevel(0,'update')">0</span>
                                 <div style="width: 33%; text-align: right;" class="level1" (click)="spicylevel(1,'update')">1</div>
                                 <div style="width: 33%; text-align: right;" class="level2" (click)="spicylevel(2,'update')">2</div>
                                 <div style="width: 33%; text-align: right;" class="level3" (click)="spicylevel(3,'update')">3</div>
                              </div>

                           </div>
                        </div>
                     </div>



                  </div>
                  <div class="modal-footer">
                     <input type="submit" class="btn" value="Next" [disabled]="!itemUpdateModel.valid">
                  </div>
               </form>
            </div>
         </div>
      </div>
      <!--Item Update Modal End -->

      <!-- multisize button div -->
      <div class="modal fade" id="myModal" role="dialog">
         <div class="modal-dialog"> 
            <div class="modal-content">
               <form [formGroup]="multisizeAddModel" (ngSubmit)="multisizeAddUpdate()">
                  <input type="hidden" formControlName="sid" name="sid"/>
                  <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal">&times;</button>
                     <h4 class="modal-title">Add MultiSize</h4>
                  </div>
                  <div class="modal-body">       
                     <div class="form-group">
                        <label>Size</label>        
                        <input type="text" formControlName="sizename" class="form-control" placeholder="Size">
                     </div>
                     <div class="form-group">
                        <label>Price</label>
                        <input type="number" formControlName="sizeprice" class="form-control" placeholder="Price">
                     </div>
                  </div>
                  <div class="modal-footer">
                     <input type="submit" class="btn btn-default" [disabled]="!multisizeAddModel.valid" value="Submit">
                  </div>
               </form>
            </div>     
         </div>
      </div>
      <!-- multisize button div -->

      <!-- edit subMenu multisize button -->
      <div class="modal fade" id="myeditModal" role="dialog">
         <div class="modal-dialog"> 
            <div class="modal-content">
               <form [formGroup]="multisizeEditAddModel" (ngSubmit)="multisizeEditAddUpdate()">
                  <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal">&times;</button>
                     <h4 class="modal-title">Edit SubMenu Mutisize</h4>
                  </div>
                  <div class="modal-body">       
                     <div class="form-group">
                        <label>Size</label>        
                        <input type="text" formControlName="size" class="form-control" placeholder="Size">
                     </div>
                     <div class="form-group">
                        <label>Price</label>
                        <input type="number" formControlName="price" class="form-control" placeholder="Price">
                     </div>                
                  </div>
                  <div class="modal-footer">
                     <input type="submit" class="btn btn-default" [disabled]="!multisizeEditAddModel.valid" value="Submit">
                  </div>
               </form>
            </div>     
         </div>
      </div>
      <!-- edit subMenu multisize button -->

      <!-- upload Menu Image -->
      <div class="modal fade" id="mymenuModal" role="dialog">
         <div class="modal-dialog"> 
            <div class="modal-content">
               <form [formGroup]="menuImageAddModel" (ngSubmit)="updateMenuImage()">
                  <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal">&times;</button>
                     <h4 class="modal-title"> Upload Image </h4>
                  </div>
                  <div class="modal-body">
                     <div class="form-group">
                        <label>Menu Image</label>
                        <input type="file" title="your text" class="form-control" name="single" value="df" ng2FileSelect [uploader]="uploader" />
                     </div>                
                  </div>
                  <div class="modal-footer">
                     <input type="submit" class="btn btn-default" value="Submit">
                  </div>
               </form>
            </div>     
         </div>
      </div>
      <!-- upload Menu Image -->

      <!-- upload SubMenu Image -->   
      <div class="modal fade" id="mySubMenuModal" role="dialog">
         <div class="modal-dialog"> 
            <div class="modal-content">
               <form [formGroup]="smenuImageAddModel" (ngSubmit)="updateSubMenuImage()">
                  <input type="hidden" formControlName="_id"/>  
                  <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal">&times;</button>
                     <h4 class="modal-title"> Upload Image </h4>
                  </div>
                  <div class="modal-body">
                     <div class="form-group">
                        <label>Menu Image</label>
                        <input type="file" class="form-control" name="single" value="df" ng2FileSelect [uploader]="uploader" />
                     </div>                
                  </div>
                  <div class="modal-footer">
                     <input type="submit" class="btn btn-default" value="Submit">
                  </div>
               </form>
            </div>     
         </div>
      </div>
      <!-- upload SubMenu Image -->

      <div *ngFor="let user of users" class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
         <div class="mainMenuItem12 col-lg-12 col-md-12 col-sm-12 col-xs-12" dropDirective (dropEvent)="addDropMenu($event,user)" [dropHighlight]="'highlight'">
            <div class="itemImage col-lg-2 col-md-2 col-sm-2 col-xs-2" >
               <img (click)="passId(user._id)" data-toggle="modal" data-target="#mymenuModal" [src]="menuImage(user.image,'menu')" class="img-responsive custom_img_size">
               <span class="imgDel" *ngIf="user.image" (click) = "deleteMenuImage(user,'menu')">&times;</span>
            </div>
            <div class="itemDesc col-lg-7 col-md-7 col-sm-7 col-xs-7 custom_menu_color padding0">
               <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 fontSize20px">{{user.name}}
                  <span class="label label-warning" *ngIf="user.isHidden == true" style="font-size: 42%;position: absolute;border-radius: 1.25em;padding: 1%;">Hidden from Menu  &nbsp;&nbsp;
                     <span style=" cursor: pointer;border: 0px;"  (click) = "deleteHiddenSpecific(user,'menu')">&times;</span>
                  </span>
                  <span class="label label-warning" *ngIf="user.isSpecific== true" style="font-size: 42%;position: absolute;border-radius: 1.25em;padding: 1%;">Show on specific time  &nbsp;&nbsp;
                        <span style="cursor: pointer;border: 0px;" (click) = "deleteHiddenSpecific(user,'menu')">&times;</span>
                  </span>
               </div>
               <div *ngIf="user.description" class="col-lg-12 col-md-12 col-sm-12 col-xs-12 fontSize12px wordBreak">
                  {{user.description}}
               </div>
            </div>
            
            <div class="icons col-lg-3 col-md-3 col-sm-3 col-xs-3 pull-right padding0">
               <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 drop padding0">
                  <a class="colls pull-right" data-toggle="collapse" data-parent="#accordion" href = "#menuID{{user._id}}"><i class="fa fa-chevron-down" aria-hidden="true"></i></a>
               </div>
               <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 hovericons padding0">
                  <a href="javascript:void(0);" (click)="showDayOption(user,'menu')"><i class="fa fa-chevron-circle-down" aria-hidden="true"></i></a>
                  <a (click)="menuUpdateModelShow(user._id)"> <i class="fa fa-pencil" aria-hidden="true"></i></a>
                  <a (click)="deleteUser(user._id)" href="javascript:void(0);"><i class="fa fa-trash" aria-hidden="true"></i></a>
                  <a (click)="itemAddModelShow(user._id)" title="Add Item"><i class="fa fa-plus" aria-hidden="true"></i></a>
               </div>
            </div>
         </div>
      
         <!--HIdden Menu Option-->
            <div class="hideMenu" id="hideMenu" [style.display]="showDiv(user._id, 'menu')">
               <div class="cancleOption">
                  <div style="width: inherit;padding: 6px;">Options</div>
                  <div style="float:right;border: 1px solid gray;" class="btn"  (click) = "hideDiv('menu')">&times;</div>
               </div>
               <div class="daysOption">
                  <div style="border-bottom: 1px solid #ccc; padding: 2%;">
                     <label style="width: 100%;">
                        <input  [attr.id]="'hidden' + user._id" [attr.name]="'hidden' + user._id" type="radio" (click)="hideMenu(user._id)" [value]="user.isHidden" [checked]="radioChecked(user.isHidden,'hidden')"> Hidden from menu
                     </label>
                  </div>
                  <div style="padding: 2%;">
                     <label style="width: 100%;">
                        <input [attr.id]="'show' + user._id" type="radio" (click)="showMenu(user._id)" [attr.name]="'hidden' + user._id" [value]="user.isSpecific" [checked]="radioChecked(user.isSpecific,'specific')"> Show on specific time
                     </label>
                  </div>
                  <div id="days{{user._id}}" class="menuDays" style=" padding: 2%;">
                     <div class="daysSchedule" *ngIf="user.openinghours" style="font-size: smaller;padding: 6%;">
                        <span *ngIf="user.openinghours.monday">Monday, </span>
                        <span *ngIf="user.openinghours.tuesday">Tuesday, </span>
                        <span *ngIf="user.openinghours.wednesday">Wednesday, </span>
                        <span *ngIf="user.openinghours.thursday">Thursday, </span>
                        <span *ngIf="user.openinghours.friday">Friday, </span>
                        <span *ngIf="user.openinghours.saturday">Saturday ,</span>
                        <span *ngIf="user.openinghours.sunday">Sunday, </span>
                        
                        <span *ngIf="user.openinghours.opentime">&nbsp;{{user.openinghours.opentime}}-</span>
                        <span *ngIf="user.openinghours.closetime">{{user.openinghours.closetime}}</span>
                     </div>
                     <div *ngIf="user.openinghours" class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="margin: 2% 0 2% 0">
                        <input type="time" name="opentime" [attr.id]="'opentime_' + user._id" [attr.value]="user.openinghours.opentime">
                        <input type="time" name="closetime" [attr.id]="'closetime_' + user._id" [attr.value]="user.openinghours.closetime">
                     </div>
                     <div *ngIf="!user.openinghours" class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="margin: 2% 0 2% 0">
                        <input type="time" name="opentime" [attr.id]="'opentime_' + user._id">
                        <input type="time" name="closetime" [attr.id]="'closetime_' + user._id">
                     </div>
                     <!-- {{user.openinghours.monday}} -->
                     <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 daysList">
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><input type="checkbox" id="optionsRadios2" value="Monday" (change)="checkMon()" [checked]="checkChecked(user.openinghours,'Monday')"> Monday</div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" ><input type="checkbox" name="tue" id="optionsRadios2" value="Tuesday" (change)="checkTue()" [checked]="checkChecked(user.openinghours,'Tuesday')"> Tuesday</div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" ><input type="checkbox"  name="wed" id="optionsRadios2" value="Wednesday" (change)="checkWed()" [checked]="checkChecked(user.openinghours,'Wednesday')"> Wednesday</div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" ><input type="checkbox"  name="thu" id="optionsRadios2" value="Thursday" (change)="checkThu()" [checked]="checkChecked(user.openinghours,'Thursday')"> Thursday</div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" ><input type="checkbox"  name="fri" id="optionsRadios2" value="Friday" (change)="checkFri()" [checked]="checkChecked(user.openinghours,'Friday')"> Friday</div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" ><input type="checkbox"  name="sat" id="optionsRadios2" value="Saturday" (change)="checkSat()" [checked]="checkChecked(user.openinghours,'Saturday')"> Saturday</div>
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" ><input type="checkbox"  name="sun" id="optionsRadios2" value="Sunday" (change)="checkSun()" [checked]="checkChecked(user.openinghours,'Sunday')"> Sunday</div>
                     </div>
                  </div>
                  <button type="submit" class="btn saveButton" (click)="saveOpeningTimings('menu')">Save</button>
               </div>
            </div>
         <!--HIdden Menu Option-->

         <div  id="menuID{{user._id}}" class = "panel-collapse collapse col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div *ngFor="let item of items">
               <div *ngIf="item.menuId == user._id" class="subMenuItem0 droppable col-lg-12 col-md-12 col-sm-12 col-xs-12" dropDirective (dropEvent)="addDropItem($event,item)" [dropHighlight]="'highlight'">
               
                  <!--Item Description-->
                     <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 padding10px">
                        <div class="itemImage col-lg-2 col-md-2 col-sm-2 col-xs-2 padding0">
                           <img (click)="passub(item._id)" data-toggle="modal" data-target="#mySubMenuModal" [src]="menuImage(item.image,'item')" class="img-responsive">
                           <span class="imgDel" *ngIf="item.image" (click) = "deleteMenuImage(item,'item')">&times;</span>
                        </div>
                        <div class="itemDesc col-lg-8 col-md-8 col-sm-8 col-xs-8 padding0">
                           <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 wordBreak">
                              {{item.name}}
                              <span *ngFor = "let chilly of spicyArray;">
                                 <span *ngIf = "chilly <= item.spicyLevel">
                                    <img src="assets/images/chilly.PNG" width="15px">
                                 </span>
                              </span>

                              <span class="label label-warning" *ngIf="item.isHidden == true" style="font-size: 60%;position: absolute;border-radius: 1.25em;padding: 1%;">Hidden from Menu  &nbsp;&nbsp;
                                 <span style=" cursor: pointer;border: 0px;"  (click) = "deleteHiddenSpecific(item,'item')">&times;</span>
                              </span>
                              <span class="label label-warning" *ngIf="item.isSpecific == true" style="font-size: 60%;position: absolute;border-radius: 1.25em;padding: 1%;">Show on specific time  &nbsp;&nbsp;
                                 <span style=" cursor: pointer;border: 0px;"  (click) = "deleteHiddenSpecific(item,'item')">&times;</span>
                              </span>

                              <span class="custom_sub_price" *ngIf="item.multisize.length == 0">
                                 <code> {{item.price | number : '1.2-2'}} USD</code>
                              </span>
                           </div>

                           <div *ngIf="item.options" class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="padding: 10px 15px 0 15px;">
                              <button *ngFor="let itemx of item.options; let ith = index; " class="addonClass addonGroupButton wordBreak">
                                 {{itemx.name}}
                                 <!-- <a (click)="deleteOption(item._id,ith)" href="javascript:void(0);"><i class="fa fa-trash" aria-hidden="true"></i></a> -->
                                 <span class="deleteOptionButton" (click) = "deleteOption(item._id,ith)">&times;</span>
                              </button>
                           </div>

                        </div>
                        <div class="icons col-lg-2 col-md-2 col-sm-2 col-xs-2 padding0">
                           <a href="javascript:void(0);" (click)="showDayOption(item, 'item')"><i class="fa fa-chevron-circle-down" aria-hidden="true"></i></a>
                           <a (click)="itemUpdateModelShow(item)"><i class="fa fa-pencil" aria-hidden="true"></i></a>
                           <a (click)="deleteItem(item._id)" href="javascript:void(0);"><i class="fa fa-trash" aria-hidden="true"></i></a>
                        </div>
                     </div>
                  <!--Item Description End-->

                  <!--HIdden Item Option-->
                     <div class="hideItem" id="hideItem" [style.display]="showDiv(item._id, 'item')">
                        <div class="cancleOption">
                           <div style="width: inherit;padding: 6px;">Options</div>
                           <div style="float:right;border: 1px solid gray;" class="btn"  (click) = "hideDiv('item')">&times;</div>
                        </div>
                        <div class="daysOption">
                           <div style="border-bottom: 1px solid #ccc; padding: 2%;">
                              <label style="width: 100%;">
                                 <input  [attr.id]="'hidden' + item._id" [attr.name]="'hidden' + item._id" type="radio" (click)="hideMenu(item._id)" [value]="item.isHidden" [checked]="radioChecked(item.isHidden,'hidden')"> Hidden from menu
                              </label>
                           </div>
                           <div style="padding: 2%;">
                              <label style="width: 100%;">
                                 <input  [attr.id]="'hidden' + item._id" [attr.name]="'hidden' + item._id" type="radio" (click)="showMenu(item._id)" [value]="item.isSpecific" [checked]="radioChecked(item.isSpecific,'specific')"> Show on specific time
                              </label>
                           </div>
                           <div id="days{{item._id}}" class="itemDays" style="padding: 2%;" style="display: none;">
                              <div class="daysSchedule" *ngIf="item.openinghours" style="font-size: smaller;padding: 6%;">
                                 <span *ngIf="item.openinghours.monday">Monday, </span>
                                 <span *ngIf="item.openinghours.tuesday">Tuesday, </span>
                                 <span *ngIf="item.openinghours.wednesday">Wednesday, </span>
                                 <span *ngIf="item.openinghours.thursday">Thursday, </span>
                                 <span *ngIf="item.openinghours.friday">Friday, </span>
                                 <span *ngIf="item.openinghours.saturday">Saturday ,</span>
                                 <span *ngIf="item.openinghours.sunday">Sunday, </span>
                                 
                                 <span *ngIf="item.openinghours.opentime">&nbsp;{{item.openinghours.opentime}}-</span>
                                 <span *ngIf="item.openinghours.closetime">{{item.openinghours.closetime}}</span>
                              </div>

                              <div *ngIf="item.openinghours" class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="margin: 2% 0 2% 0">
                                 <input type="time" name="opentime" [attr.id]="'opentime_' + item._id" [attr.value]="item.openinghours.opentime">
                                 <input type="time" name="closetime" [attr.id]="'closetime_' + item._id" [attr.value]="item.openinghours.closetime">
                              </div>
                              <div *ngIf="!item.openinghours" class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="margin: 2% 0 2% 0">
                                 <input type="time" name="opentime" [attr.id]="'opentime_' + item._id">
                                 <input type="time" name="closetime" [attr.id]="'closetime_' + item._id">
                              </div>
                              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 daysList">
                                 <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><input type="checkbox" id="optionsRadios2" value="Monday" (change)="checkMon()" [checked]="checkChecked(item.openinghours,'Monday')"> Monday</div>
                                 <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><input type="checkbox" name="tue" id="optionsRadios2" (change)="checkTue()" value="Tuesday" [checked]="checkChecked(item.openinghours,'Tuesday')"> Tuesday</div>
                                 <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><input type="checkbox" name="wed" id="optionsRadios2" (change)="checkWed()" value="Wednesday" [checked]="checkChecked(item.openinghours,'Wednesday')"> Wednesday</div>
                                 <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><input type="checkbox" name="thu" id="optionsRadios2" (change)="checkThu()" value="Thursday" [checked]="checkChecked(item.openinghours,'Thursday')"> Thursday</div>
                                 <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><input type="checkbox" name="fri" id="optionsRadios2" (change)="checkFri()" value="Friday" [checked]="checkChecked(item.openinghours,'Friday')"> Friday</div>
                                 <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><input type="checkbox" name="sat" id="optionsRadios2" (change)="checkSat()" value="Saturday" [checked]="checkChecked(item.openinghours,'Saturday')"> Saturday</div>
                                 <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6"><input type="checkbox" name="sun" id="optionsRadios2" (change)="checkSun()" value="Sunday" [checked]="checkChecked(item.openinghours,'Sunday')"> Sunday</div>
                              </div>
                           </div>
                           <button type="submit" class="btn saveButton" (click)="saveOpeningTimings('item')">Save</button>
                        </div>
                     </div>
                  <!--HIdden Item Option-->

                  <!--Add Multisize Button-->
                     <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 addMultiSizeDiv">
                        <button type="button" (click)="addMultisizeAddOn(item._id)" class="btn btn-success btn-multisize" data-toggle="modal" data-target="#myModal">Add Multisize</button>
                     </div>
                  <!--Add Multisize Button End-->

                  <!-- Item MultiSize Div -->
                     <div *ngFor="let itemsp of item.multisize; let i = index " class="col-lg-12 col-md-12 col-sm-12 col-xs-12 paddingBottom5px multisizeList">
                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-4 wordBreak">{{itemsp.size}}</div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 textRight">{{itemsp.price | number : '1.2-2'}} USD</div>

                        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-4">
                           <a class="pull-right" href="javascript:void(0);" title="Delete" (click)="removeSubmenuAddOn(i,item._id)"><span class="icon-menu-remove js-remove" data-original-title="" title=""></span></a>
                           <a class="pull-right" href="javascript:void(0);" title="Edit" (click)="editSubmenuAddOn(itemsp._id,item._id)" data-toggle="modal" data-target="#myeditModal"><span class="icon-menu-edit js-edit" data-original-title="" title=""></span></a>
                        </div>                                   
                     </div>
                  <!-- Item MultiSize Div -->
               </div>
            </div>
         </div>
      </div>
   </div>

   <!-- Group Detail -->
   <div class="rightDeliveryZoneList col-lg-4 col-md-4 col-sm-4 col-xs-4 padding15px">

      <!-- ADD CHOICE -->
      <h4  *ngIf="currentOpen ==  'choice'">Add Choice for <code>{{currentChoice}} </code></h4>
      <div class="settings-content custom_settings_content margin10px0px" *ngIf="currentOpen ==  'choice'">
         <div class="comp-edit-area js-edit-area">
            <form [formGroup]="choiceAddModel" (ngSubmit)="choiceDetailadd()"> 
               <input type="hidden" formControlName="_id">  
               <div class="comp-edit-zone comp-edit-composed js-edit-zone">

                  <div class="comp-edit-field comp-medium-field ng-binding">Name</div>                       
                  <input type="text" class="comp-medium-field form-control js-edit-name has-success" name="name" data-completed="1" placeholder="Choice Name" data-rule="notEmpty" formControlName="name">
               </div>
               <div class="comp-edit-zone comp-edit-composed js-edit-zone">            
                  <div class="comp-edit-field comp-medium-field ng-binding">Price</div>                       
                  <input type="number" class="comp-medium-field form-control js-edit-name has-success" name="name" data-completed="1" placeholder="Price Name" data-rule="notEmpty" formControlName="price">
               </div>
               <div class="comp-button-zone">
                  <button class="btn btn-plain pull-left js-cancel ng-binding" (click)="clearCancel()">Cancel</button>
                  <button type="submit" class="btn btn-action pull-right js-save ng-binding" 
                  [disabled]="!choiceAddModel.valid">Add</button>
               </div>
            </form>
         </div>
      </div>
      <!-- ADD CHOICE END-->

      <!-- EDIT CHOICE -->
      <h4 *ngIf="currentOpen ==  'editchoice'">Edit Choice</h4>
      <div class="settings-content custom_settings_content margin10px0px" *ngIf="currentOpen ==  'editchoice'">
         <div class="comp-edit-area js-edit-area">
            <form [formGroup]="editableChoiceDetail" (ngSubmit)="editChoiceUpdate()">  
               <div class="comp-edit-zone comp-edit-composed js-edit-zone">            
                  <div class="comp-edit-field comp-medium-field ng-binding">Name</div> 
                  <input type="text" class="comp-medium-field form-control js-edit-name has-success" name="name" data-completed="1" placeholder="Group Name" data-rule="notEmpty" formControlName="name">
                  <div class="clearfix"></div>            
               </div>
               <div class="comp-edit-zone comp-edit-composed js-edit-zone">            
                  <div class="comp-edit-field comp-medium-field ng-binding">Price</div>
                  <input type="number" class="comp-medium-field form-control js-edit-name has-success" name="name" data-completed="1" placeholder="Price Name" data-rule="notEmpty" formControlName="price">
                  <div class="clearfix"></div>            
               </div>
               <div class="comp-button-zone">
                  <button class="btn btn-plain pull-left js-cancel ng-binding" (click)="clearEdit()">Cancel</button>
                  <button type="submit" class="btn btn-action pull-right js-save ng-binding" 
                  [disabled]="!editableChoiceDetail.valid">Update</button>
               </div>
            </form>
         </div>
      </div>
      <!-- EDIT CHOICE END -->

      <!-- GROUP LISTING -->
      <div class="js-zones">
         <div spellcheck="false" class="comp-alt-panel-container js-area-prototype js-container" data-index="1" *ngFor="let group of groups" [dragDirective]="group" [dragHightlight]="'highlight'">
            <!-- <div class="zoneData" data-type="true" data-radius="200" data-color="#905dba"></div> -->

            <div class="comp-alt-panel js-area">
               <div class="comp-area-name js-info-name pull-left ng-binding wordBreak">
                  <a class="colls" data-toggle="collapse" data-parent="#accordion" href = "#gr{{group._id}}">
                     <span class="icon-collapse" #classexp  (click)="showHideAddons(group._id,classexp)"></span>&nbsp;&nbsp;</a>{{group.name}}&nbsp;&nbsp;
                  <span *ngIf="group.groupType">
                     ({{group.groupType.gType | uppercase}})
                  </span>
               </div>
               <div class="comp-action-zone js-actions">                
                  <a title="Edit" (click)="groupDetailEdit(group._id)">
                     <span class="icon-menu-edit js-edit"></span>
                  </a>
                  &nbsp;&nbsp;
                  <a title="Delete" (click)="groupDetailRemove(group._id)"><span class="icon-menu-remove js-remove"></span></a>
               </div>
            </div>

            <!-- UPDATE GROUP -->
               <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 padding0 margin10px0px" *ngIf="currentOpen ==  'editgroup_'+ group._id">
               
                  <h4  *ngIf="currentOpen ==  'editgroup'">Edit Group</h4>
                  <div class="settings-content updateGroupStyle col-lg-12 col-md-12 col-sm-12 col-xs-12">
                     <form [formGroup]="editableDetail" (ngSubmit)="groupDetailEditUpdate()">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 padding0">
                           
                           <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 padding0 margin5px0px">
                              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 padding0">
                                 Name
                              </div>
                              <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 padding0">
                                 <input type="text" class="form-control" placeholder="Group Name" data-rule="notEmpty" formControlName="name">
                              </div>
                           </div>
                           
                           <div class="input-group" style="width: 100%;">
                              <span class="input-group-addon" class="btn pickupindegate1" [ngClass]="btn_class1" (click)="optionalUpdateEdit()" style="width: 50%;">Optional</span>
                              <span class="input-group-addon" class="btn pickupindegate2" [ngClass]="btn_class2" (click)="mandatoryUpdateEdit()" style="width: 50%;">Mandatory</span>
                           </div>

                           <div style="width: 100%; display: none;" id="mandatoryFields" >
                              <div style="width: 100%;display: -webkit-inline-box;padding: 5%;">
                                 <div style="width: 70%; padding-top: 2%;">Force Minimum</div>
                                 <div style="width: 30%;">
                                    <input type="number" class="form-control" value="{{groupDetail.min}}" (keyup)="mandEditMinMaxValue($event,'min')" (mouseup)="mandEditMinMaxValue($event,'min')">
                                 </div>
                              </div>
                              <div style="width: 100%;display: -webkit-inline-box;padding: 5%;">
                                 <div style="width: 70%;padding-top: 2%;">Force Maximum</div>
                                 <div style="width: 30%;">
                                    <input type="number" class="form-control" value="{{groupDetail.max}}" (keyup)="mandEditMinMaxValue($event,'max')" (mouseup)="mandEditMinMaxValue($event,'max')">
                                 </div>
                              </div>
                           </div>
                        </div>
                        <div class="comp-button-zone col-lg-12 col-md-12 col-sm-12 col-xs-12" style="padding: 0;">
                           <button class="btn btn-plain pull-left js-cancel ng-binding" (click)="clearCancel()">Cancel</button>
                           <button type="submit" class="btn btn-action pull-right js-save ng-binding" 
                           [disabled]="!editableDetail.valid">Update</button>
                        </div>
                     </form>
                  </div>
               </div>
            <!-- UPDATE GROUP END -->


            <div id="gr{{group._id}}" class = "panel-collapse collapse">
               <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 padding5px" *ngFor="let addon of allAddons; let i = index; ">

                  <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7 paddingRight0 wordBreak">
                     <inline-editor type="text" [(ngModel)]="addon.name" (onSave)="saveEditAddon(group._id,addon._id,'name',addon.name)"></inline-editor>
                     <!-- {{addon.name}} -->
                  </div>
                  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 textRight">
                     <inline-editor type="text" [(ngModel)]="addon.price" (onSave)="saveEditAddon(group._id,addon._id,'price',addon.price)" pattern='^[0-9]+$'></inline-editor>
                     <!-- {{addon.price}} -->
                  </div>
                  <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 padding0">
                     <a class="pull-right" href="javascript:void(0);" title="Delete" (click)="removechoice(i,group._id)"><span class="icon-menu-remove js-remove"></span></a>
                     <!-- <a class="pull-right" href="javascript:void(0);" (click)="editchoice(group._id,addon._id)" title="Edit"><span class="icon-menu-edit js-edit"></span></a> -->
                  </div>

               </div>

               <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 padding0"><button class="btn btn-plain btn-sidebar pull-left js-add-group ng-binding" (click)="addChoic(group._id,group.name)">Add Choice</button></div>
            </div>

         </div>
      </div>
      <!-- GROUP LISTING END -->

      <!-- ADD GROUP -->
      <div class="collapse" id="collapseExample" *ngIf="currentOpen ==  'group'" [ngStyle]="addgroup">
         <form [formGroup]="groupAddModel" (ngSubmit)="groupDetailAdd()">            
            <div class="comp-edit-area js-edit-area">
               <div class="comp-edit-zone comp-edit-composed js-edit-zone">
                  <div class="btn-group comp-type-picker comp-mandatory-selector js-edit-mandatory" data-toggle="buttons">
                  </div>
                  <!-- <div class="comp-edit-field comp-medium-field ng-binding">Name</div> -->
                  <input type="text" class="comp-medium-field form-control js-edit-name has-success"  placeholder="Group Name" formControlName="name" style="width: 100%;">
                  <div class="clearfix"></div>
                  <div class="input-group" style="width: 100%;">
                     <span class="input-group-addon" class="btn pickupindegate1" [ngClass]="btn_class1" (click)="optionalUpdate()" style="width: 50%;">Optional</span>
                     <span class="input-group-addon" class="btn pickupindegate2" [ngClass]="btn_class2" (click)="mandatoryUpdate()" style="width: 50%;">Mandatory</span>
                  </div>
                  <div style="width: 100%; display: none;" id="mandatoryFields" >
                     <div style="width: 100%;display: -webkit-inline-box;padding: 5%;">
                        <div style="width: 70%; padding-top: 2%;">Force Minimum</div>
                        <div style="width: 30%;">
                           <input type="number" name="" class="form-control" (keyup)="mandMinMaxValue($event,'min')" (mouseup)="mandMinMaxValue($event,'min')">
                        </div>
                     </div>
                     <div style="width: 100%;display: -webkit-inline-box;padding: 5%;">
                        <div style="width: 70%;padding-top: 2%;">Force Maximum</div>
                        <div style="width: 30%;">
                           <input type="number" class="form-control"name="" (keyup)="mandMinMaxValue($event,'max')" (mouseup)="mandMinMaxValue($event,'max')">
                        </div>
                     </div>
                  </div>
               </div>
               <div class="comp-button-zone">
                  <button id="btncncl" type="button" (click)="clearCancel()" class="btn btn-plain pull-left js-cancel" cancelAll="">Cancel</button>
                  <input type="submit" class="btn btn-action pull-right js-save ng-binding" [disabled]="!groupAddModel.valid"  value="Save">
               </div>
            </div>
         </form>
      </div>
      <!-- ADD GROUP END-->

      <button id="btnadd" (click)="addAnothergroup()" class="btn btn-plain btn-sidebar pull-left js-add-zone ng-binding">Add Group?</button>
   </div>
   <!-- Group Detail End -->

</div>

<div id= "previewModal" > <iframe frameborder= "0" > </iframe > </div>