<app-frontendheader [ids]="restaurants._id"></app-frontendheader>

<div *ngIf="!currentCustomerId">
    <div *ngIf="cart">
        <div class="cartLength" *ngIf="promotionOrder">{{cart.length+1}}</div>
        <div class="cartLength" *ngIf="!promotionOrder  && cart.length > 0">{{cart.length}}</div>
    </div>
</div>
<div *ngIf="currentCustomerId">
    <div *ngIf="cart">
        <div class="cartLength2" *ngIf="promotionOrder">{{cart.length+1}}</div>
        <div class="cartLength2" *ngIf="!promotionOrder  && cart.length > 0">{{cart.length}}</div>
    </div>
</div>


<div class="container profileDiv">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 padding0">
        <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8" style="left: 19%;padding: 0 15px 30px 15px;">
            <div *ngIf="currentCustomer">
                <h3 style="background: rgba(128, 128, 128, 0.17);padding: 2%;">
                    {{'My' | translate}} {{'Profile' | translate}} 
                    <span style="float: right;font-size: 60%;">
                        <a  [routerLink]="['/change-password', restaurants._id]" >{{'Change' | translate}} {{'Password' | translate}}</a>
                    </span>
                </h3>
            </div>
            <form role="form" [formGroup]="profileForm" (ngSubmit)="saveProfile()" *ngIf = "currentCustomer">
                <div class="form-group">
                    <div class="profilePic">
                        <div *ngIf="currentCustomer.image">
                            <img src="{{imageURL}}{{currentCustomer.image}}" >
                        </div>
                        <div *ngIf="!currentCustomer.image">
                            <img src="../assets/images/profile.png">
                        </div>
                    </div>
                    <input type="file" class="form-control" name="single" ng2FileSelect [uploader]="uploader" (change)="onChange($event)" style="width: 60%; margin-left: 20%;" />
                </div>
                <div class="form-group">
                    <input formControlName="firstname" class="form-control" placeholder="firstname" type="text" autofocus>
                </div>
                <div class="form-group">
                    <input formControlName="lastname" class="form-control" placeholder="lastname" type="text" autofocus>
                </div>
                <div class="form-group">
                    <input formControlName="phonenumber" class="form-control" placeholder="Telephone *" type="number" autofocus>
                </div>

                <div class="form-group">
                    <input formControlName="username" class="form-control" placeholder="Choose your Username" type="text" autofocus>
                </div>
                <div class="form-group">
                    <input formControlName="email" class="form-control" placeholder="E-mail"  type="email" autofocus>
                </div>
                <button class="btn saveButton" [disabled]="!profileForm.valid">{{'Save' | translate}}</button>
            </form>
        </div>
    </div>
</div>
